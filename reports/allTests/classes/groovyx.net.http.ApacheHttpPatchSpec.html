<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpPatchSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpPatchSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpPatchSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">58</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">11.222s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (authorized)</td>
<td>0.239s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (unauthorized)</td>
<td>0.206s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (authorized)</td>
<td>0.263s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (unauthorized)</td>
<td>0.072s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (authorized)</td>
<td>0.240s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (unauthorized)</td>
<td>0.190s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (authorized)</td>
<td>0.187s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (unauthorized)</td>
<td>0.151s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTP</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTPS</td>
<td>0.117s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP</td>
<td>0.436s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS</td>
<td>0.094s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/json [:]</td>
<td>0.180s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/xml [one:1]</td>
<td>0.146s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/csv [one:1, two:2]</td>
<td>0.157s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/html [two:2]</td>
<td>0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/plain null</td>
<td>4.274s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/json [:]</td>
<td>0.183s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/xml [one:1]</td>
<td>0.157s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/csv [one:1, two:2]</td>
<td>0.166s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/html [two:2]</td>
<td>0.173s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/plain null</td>
<td>0.705s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [:]</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; null</td>
<td>0.153s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [:]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.081s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; null</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [:]</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.111s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one]]</td>
<td>0.086s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:one]</td>
<td>0.121s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; null</td>
<td>0.085s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [:]</td>
<td>0.095s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.119s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; null</td>
<td>0.191s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/json)</td>
<td>0.074s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/xml)</td>
<td>0.100s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (text/html)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.045s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.053s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.072s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.028s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.028s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.037s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.019s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.056s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.058s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.047s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>19:15:55.035 [Test worker] DEBUG ersatz.jboss.logging - Logging Provider: ersatz.jboss.logging.Slf4jLoggerProvider
19:15:55.073 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6c541e63
19:15:55.098 [Test worker] INFO ersatz.xnio - XNIO version 3.3.8.Final
19:15:55.137 [Test worker] INFO ersatz.xnio.nio - XNIO NIO Implementation Version 3.3.8.Final
19:15:55.277 [XNIO-1 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-1', selector sun.nio.ch.EPollSelectorImpl@495b8560
19:15:55.298 [XNIO-1 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5473b788
19:15:55.303 [XNIO-1 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-3', selector sun.nio.ch.EPollSelectorImpl@484c9de6
19:15:55.308 [XNIO-1 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2d1ff46f
19:15:55.319 [XNIO-1 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2adb039f
19:15:55.323 [XNIO-1 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-6', selector sun.nio.ch.EPollSelectorImpl@119bceb4
19:15:55.342 [XNIO-1 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-7', selector sun.nio.ch.EPollSelectorImpl@77487242
19:15:55.360 [XNIO-1 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-8', selector sun.nio.ch.EPollSelectorImpl@d68e706
19:15:55.364 [XNIO-1 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 Accept', selector sun.nio.ch.EPollSelectorImpl@4b97e176
19:15:55.367 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:55.627 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:56.590 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:56.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:56.690 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40961
19:15:56.789 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40961
19:15:56.792 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40961
19:15:56.816 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48130&lt;-&gt;127.0.0.1:40961
19:15:56.823 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:56.831 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:56.833 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:56.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:56.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:56.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 0
19:15:56.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:40961
19:15:56.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: Keep-Alive
19:15:56.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:56.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:56.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:56.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:56.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:56.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Host: localhost:40961[\r][\n]&quot;
19:15:56.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:56.863 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:56.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:56.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\r][\n]&quot;
19:15:57.137 [XNIO-1 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40961]}, cookies=[:]): &lt;empty&gt; }
19:15:57.375 [XNIO-1 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:57.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:57.496 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\r][\n]&quot;
19:15:57.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:57.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK
19:15:57.511 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Encoding: gzip
19:15:57.512 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: keep-alive
19:15:57.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/plain
19:15:57.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 27
19:15:57.523 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:57.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:57.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48130&lt;-&gt;127.0.0.1:40961
19:15:57.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:57.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:57.797 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:57.798 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40961
19:15:57.807 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:57.807 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:57.807 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:57.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:57.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:57.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 0
19:15:57.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:40961
19:15:57.812 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: Keep-Alive
19:15:57.812 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:57.812 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:57.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:57.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:57.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:57.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Host: localhost:40961[\r][\n]&quot;
19:15:57.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:57.816 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:57.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:57.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\r][\n]&quot;
19:15:57.819 [XNIO-1 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40961]}, cookies=[:]): &lt;empty&gt; }
19:15:57.892 [XNIO-1 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\r][\n]&quot;
19:15:57.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Encoding: gzip
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: keep-alive
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/plain
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 27
19:15:57.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:57.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:57.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48130&lt;-&gt;127.0.0.1:40961
19:15:57.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:57.933 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6c541e63
19:15:57.978 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6420f228
19:15:57.998 [XNIO-2 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3b32f11f
19:15:58.038 [XNIO-2 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5f27d4e5
19:15:58.044 [XNIO-2 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5ae55616
19:15:58.055 [XNIO-2 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-4', selector sun.nio.ch.EPollSelectorImpl@65e660ab
19:15:58.070 [XNIO-2 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2ad61020
19:15:58.078 [XNIO-2 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-6', selector sun.nio.ch.EPollSelectorImpl@26f071f
19:15:58.093 [XNIO-2 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3459b1b3
19:15:58.078 [XNIO-2 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-7', selector sun.nio.ch.EPollSelectorImpl@496f25e2
19:15:58.099 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:58.101 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:58.104 [XNIO-2 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 Accept', selector sun.nio.ch.EPollSelectorImpl@4088b48f
19:15:58.107 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:58.107 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:58.108 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33415
19:15:58.109 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33415
19:15:58.111 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33415
19:15:58.112 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33415 with timeout 0
19:15:58.164 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:58.166 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:58.167 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:58.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:58.619 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:58.619 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:58.622 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:58.623 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:58.625 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32846&lt;-&gt;127.0.0.1:33415
19:15:58.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:58.627 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:58.627 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:58.628 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:58.628 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:58.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Length: 0
19:15:58.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Host: localhost:33415
19:15:58.630 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Connection: Keep-Alive
19:15:58.630 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:58.630 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Host: localhost:33415[\r][\n]&quot;
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:58.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:58.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:58.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;[\r][\n]&quot;
19:15:58.642 [XNIO-2 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33415]}, cookies=[:]): &lt;empty&gt; }
19:15:58.645 [XNIO-2 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:58.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:58.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:58.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:58.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:58.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:58.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:58.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[\r][\n]&quot;
19:15:58.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:58.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; HTTP/1.1 200 OK
19:15:58.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Encoding: gzip
19:15:58.650 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Connection: keep-alive
19:15:58.650 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Type: text/plain
19:15:58.650 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Length: 27
19:15:58.650 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:58.650 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:58.651 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32846&lt;-&gt;127.0.0.1:33415
19:15:58.651 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:58.652 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:58.652 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:58.652 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33415
19:15:58.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:58.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:58.653 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Length: 0
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Host: localhost:33415
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Connection: Keep-Alive
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:58.653 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Host: localhost:33415[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:58.654 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;[\r][\n]&quot;
19:15:58.658 [XNIO-2 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33415]}, cookies=[:]): &lt;empty&gt; }
19:15:58.662 [XNIO-2 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:58.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[\r][\n]&quot;
19:15:58.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; HTTP/1.1 200 OK
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Encoding: gzip
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Connection: keep-alive
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Type: text/plain
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Length: 27
19:15:58.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:58.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:58.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32846&lt;-&gt;127.0.0.1:33415
19:15:58.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:58.668 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6420f228
19:15:58.677 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@44b757fd
19:15:58.699 [XNIO-3 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3cacd7e5
19:15:58.700 [XNIO-3 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-2', selector sun.nio.ch.EPollSelectorImpl@f7131c9
19:15:58.708 [XNIO-3 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-4', selector sun.nio.ch.EPollSelectorImpl@575230be
19:15:58.701 [XNIO-3 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7379a63e
19:15:58.722 [XNIO-3 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-5', selector sun.nio.ch.EPollSelectorImpl@618f7977
19:15:58.722 [XNIO-3 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b01717c
19:15:58.734 [XNIO-3 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-8', selector sun.nio.ch.EPollSelectorImpl@79880d84
19:15:58.741 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:58.732 [XNIO-3 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-7', selector sun.nio.ch.EPollSelectorImpl@26421cb8
19:15:58.743 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:58.742 [XNIO-3 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 Accept', selector sun.nio.ch.EPollSelectorImpl@6373ea9f
19:15:58.768 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:58.769 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:58.769 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39361
19:15:58.769 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39361
19:15:58.769 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39361
19:15:58.770 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35368&lt;-&gt;127.0.0.1:39361
19:15:58.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:58.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:58.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Length: 2
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Host: localhost:39361
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Connection: Keep-Alive
19:15:58.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:58.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:58.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:58.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:58.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:58.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Host: localhost:39361[\r][\n]&quot;
19:15:58.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:58.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:58.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:58.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;[\r][\n]&quot;
19:15:58.779 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;{}&quot;
19:15:58.790 [XNIO-3 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39361]}, cookies=[:]): {} }
19:15:58.795 [XNIO-3 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:15:58.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[\r][\n]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:15:58.797 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; HTTP/1.1 200 OK
19:15:58.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Encoding: gzip
19:15:58.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Connection: keep-alive
19:15:58.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Type: application/json
19:15:58.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Length: 39
19:15:58.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:58.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:58.809 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35368&lt;-&gt;127.0.0.1:39361
19:15:58.809 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:58.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:58.820 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:58.821 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39361
19:15:58.821 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:58.821 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:58.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:58.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:58.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:58.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Length: 2
19:15:58.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Host: localhost:39361
19:15:58.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Connection: Keep-Alive
19:15:58.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:58.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:58.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:58.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:58.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:58.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Host: localhost:39361[\r][\n]&quot;
19:15:58.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:58.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:58.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:58.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;[\r][\n]&quot;
19:15:58.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;{}&quot;
19:15:58.829 [XNIO-3 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39361]}, cookies=[:]): {} }
19:15:58.834 [XNIO-3 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:15:58.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:58.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:58.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:58.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:15:58.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:15:58.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:58.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[\r][\n]&quot;
19:15:58.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:15:58.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; HTTP/1.1 200 OK
19:15:58.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Encoding: gzip
19:15:58.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Connection: keep-alive
19:15:58.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Type: application/json
19:15:58.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Length: 39
19:15:58.848 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:58.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:58.850 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35368&lt;-&gt;127.0.0.1:39361
19:15:58.850 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:58.851 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@44b757fd
19:15:58.867 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5ade3fb4
19:15:58.880 [XNIO-4 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-1', selector sun.nio.ch.EPollSelectorImpl@78d4fdb3
19:15:58.881 [XNIO-4 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7f89abb4
19:15:58.883 [XNIO-4 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a9ebc56
19:15:58.883 [XNIO-4 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a4301e7
19:15:58.884 [XNIO-4 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-5', selector sun.nio.ch.EPollSelectorImpl@570f52b4
19:15:58.885 [XNIO-4 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f3554df
19:15:58.887 [XNIO-4 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-7', selector sun.nio.ch.EPollSelectorImpl@686f03d0
19:15:58.888 [XNIO-4 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1df72839
19:15:58.888 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:58.889 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:58.889 [XNIO-4 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 Accept', selector sun.nio.ch.EPollSelectorImpl@2d3d34e
19:15:58.900 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:58.900 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:58.901 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45651
19:15:58.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45651
19:15:58.901 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45651
19:15:58.901 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45651 with timeout 0
19:15:58.902 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:58.902 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:58.909 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:58.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:58.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:58.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:58.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:58.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:58.998 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35786&lt;-&gt;127.0.0.1:45651
19:15:58.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:58.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:58.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Length: 2
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Host: localhost:45651
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Connection: Keep-Alive
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:58.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: localhost:45651[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{}&quot;
19:15:59.009 [XNIO-4 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45651]}, cookies=[:]): {} }
19:15:59.013 [XNIO-4 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.017 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; HTTP/1.1 200 OK
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Encoding: gzip
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Connection: keep-alive
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Type: application/json
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Length: 39
19:15:59.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.018 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.019 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35786&lt;-&gt;127.0.0.1:45651
19:15:59.019 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.020 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45651
19:15:59.020 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.020 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.020 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Length: 2
19:15:59.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Host: localhost:45651
19:15:59.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Connection: Keep-Alive
19:15:59.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.027 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: localhost:45651[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{}&quot;
19:15:59.033 [XNIO-4 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45651]}, cookies=[:]): {} }
19:15:59.036 [XNIO-4 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; HTTP/1.1 200 OK
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Encoding: gzip
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Connection: keep-alive
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Type: application/json
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Length: 39
19:15:59.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.040 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35786&lt;-&gt;127.0.0.1:45651
19:15:59.040 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.041 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5ade3fb4
19:15:59.053 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@68896b70
19:15:59.071 [XNIO-5 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4b67fc23
19:15:59.073 [XNIO-5 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-2', selector sun.nio.ch.EPollSelectorImpl@49a89e3f
19:15:59.085 [XNIO-5 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-3', selector sun.nio.ch.EPollSelectorImpl@38526806
19:15:59.091 [XNIO-5 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-4', selector sun.nio.ch.EPollSelectorImpl@f77e734
19:15:59.094 [XNIO-5 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2e09f94b
19:15:59.097 [XNIO-5 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6894ab1e
19:15:59.098 [XNIO-5 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4662cba9
19:15:59.102 [XNIO-5 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-8', selector sun.nio.ch.EPollSelectorImpl@518e8985
19:15:59.104 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.105 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.108 [XNIO-5 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 Accept', selector sun.nio.ch.EPollSelectorImpl@4a4ecb20
19:15:59.113 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.114 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.114 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38725
19:15:59.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38725
19:15:59.114 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38725
19:15:59.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50364&lt;-&gt;127.0.0.1:38725
19:15:59.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.119 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 11
19:15:59.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:38725
19:15:59.120 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
19:15:59.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.124 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:15:59.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:38725[\r][\n]&quot;
19:15:59.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.131 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.131 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:15:59.137 [XNIO-5 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38725]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:15:59.140 [XNIO-5 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:15:59.141 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:15:59.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:15:59.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:15:59.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
19:15:59.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
19:15:59.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
19:15:59.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: application/xml
19:15:59.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 65
19:15:59.145 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50364&lt;-&gt;127.0.0.1:38725
19:15:59.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.150 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.150 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38725
19:15:59.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 11
19:15:59.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:38725
19:15:59.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
19:15:59.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:15:59.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:38725[\r][\n]&quot;
19:15:59.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:15:59.176 [XNIO-5 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38725]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:15:59.178 [XNIO-5 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:15:59.179 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:15:59.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:15:59.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:15:59.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
19:15:59.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
19:15:59.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
19:15:59.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: application/xml
19:15:59.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 65
19:15:59.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50364&lt;-&gt;127.0.0.1:38725
19:15:59.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.185 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@68896b70
19:15:59.201 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3c5934d7
19:15:59.226 [XNIO-6 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6248341
19:15:59.227 [XNIO-6 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c373ec0
19:15:59.231 [XNIO-6 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1c9bb420
19:15:59.233 [XNIO-6 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2be7dd13
19:15:59.226 [XNIO-6 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c56fe5a
19:15:59.243 [XNIO-6 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6c3656e
19:15:59.244 [XNIO-6 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-8', selector sun.nio.ch.EPollSelectorImpl@78d20f4b
19:15:59.227 [XNIO-6 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-4', selector sun.nio.ch.EPollSelectorImpl@63f836e2
19:15:59.245 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.245 [XNIO-6 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 Accept', selector sun.nio.ch.EPollSelectorImpl@70ebd024
19:15:59.246 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.250 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.250 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.250 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40281
19:15:59.250 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40281
19:15:59.250 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40281
19:15:59.250 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40281 with timeout 0
19:15:59.250 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:59.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:59.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:59.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:59.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:59.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:59.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.298 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53284&lt;-&gt;127.0.0.1:40281
19:15:59.298 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 11
19:15:59.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:40281
19:15:59.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
19:15:59.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:40281[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:15:59.315 [XNIO-6 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40281]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:15:59.318 [XNIO-6 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:15:59.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: application/xml
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 65
19:15:59.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:40281
19:15:59.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.324 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.325 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.325 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40281
19:15:59.325 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.326 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.326 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 11
19:15:59.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:40281
19:15:59.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
19:15:59.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.327 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:40281[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:15:59.336 [XNIO-6 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40281]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:15:59.340 [XNIO-6 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: application/xml
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 65
19:15:59.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:40281
19:15:59.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.347 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3c5934d7
19:15:59.373 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@472f1ce5
19:15:59.393 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@597d65c8
19:15:59.398 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@8303fff
19:15:59.399 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@53f2e96a
19:15:59.416 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31906855
19:15:59.418 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@41556360
19:15:59.420 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70301824
19:15:59.420 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b97a63c
19:15:59.429 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5d511a50
19:15:59.430 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.431 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.432 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@346ba27d
19:15:59.443 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.443 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37229
19:15:59.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37229
19:15:59.444 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37229
19:15:59.444 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55082&lt;-&gt;127.0.0.1:37229
19:15:59.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.444 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 9
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:37229
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.445 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:37229[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:15:59.446 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37229]}, cookies=[:]): {&quot;two&quot;:2} }
19:15:59.449 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/html
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 40
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.450 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55082&lt;-&gt;127.0.0.1:37229
19:15:59.455 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.470 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37229
19:15:59.471 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.471 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.471 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 9
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:37229
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:37229[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:15:59.474 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37229]}, cookies=[:]): {&quot;two&quot;:2} }
19:15:59.477 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:15:59.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:15:59.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:15:59.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/html
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 40
19:15:59.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.480 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55082&lt;-&gt;127.0.0.1:37229
19:15:59.482 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.482 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@472f1ce5
19:15:59.495 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@42c3fe5e
19:15:59.498 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@536335bb
19:15:59.498 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4db77a13
19:15:59.499 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@27c9a055
19:15:59.499 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@58907b1e
19:15:59.518 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4bf86d53
19:15:59.526 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21789727
19:15:59.527 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6f631976
19:15:59.530 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.531 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.526 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@70a5f4b6
19:15:59.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41157
19:15:59.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41157
19:15:59.536 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41157
19:15:59.536 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41157 with timeout 0
19:15:59.536 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:59.536 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:59.536 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:59.530 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@7c577a5f
19:15:59.604 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:59.604 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:59.604 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:59.604 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.604 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.605 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57812&lt;-&gt;127.0.0.1:41157
19:15:59.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 9
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:41157
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:41157[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.605 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:15:59.611 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41157]}, cookies=[:]): {&quot;two&quot;:2} }
19:15:59.614 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: text/html
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 40
19:15:59.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.616 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.617 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57812&lt;-&gt;127.0.0.1:41157
19:15:59.617 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.618 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.618 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.619 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41157
19:15:59.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.619 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 9
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:41157
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.619 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:41157[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.619 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:15:59.650 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41157]}, cookies=[:]): {&quot;two&quot;:2} }
19:15:59.659 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.660 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: text/html
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 40
19:15:59.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.662 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57812&lt;-&gt;127.0.0.1:41157
19:15:59.662 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.662 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@42c3fe5e
19:15:59.674 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a59148c
19:15:59.706 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@798fa3a
19:15:59.709 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36495b9c
19:15:59.711 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6497b504
19:15:59.723 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7decc5e4
19:15:59.733 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b53601d
19:15:59.734 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@784f2a08
19:15:59.734 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5c43ab0f
19:15:59.742 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1ed1994c
19:15:59.745 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.746 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.749 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40389
19:15:59.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40389
19:15:59.750 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40389
19:15:59.751 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37738&lt;-&gt;127.0.0.1:40389
19:15:59.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 19
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:40389
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
19:15:59.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:15:59.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:40389[\r][\n]&quot;
19:15:59.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:15:59.754 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@250cb0a6
19:15:59.778 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40389]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:15:59.784 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:15:59.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: text/csv
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 53
19:15:59.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37738&lt;-&gt;127.0.0.1:40389
19:15:59.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.792 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.792 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40389
19:15:59.792 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.792 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 19
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:40389
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:40389[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:15:59.817 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40389]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:15:59.822 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.824 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: text/csv
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 53
19:15:59.825 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.825 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.826 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37738&lt;-&gt;127.0.0.1:40389
19:15:59.826 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.826 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a59148c
19:15:59.835 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@33bb3d1b
19:15:59.839 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@381e457b
19:15:59.850 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@60148c35
19:15:59.864 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4737a1c0
19:15:59.866 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@754935da
19:15:59.880 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@58c20f01
19:15:59.882 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2da8d5f7
19:15:59.885 [XNIO-9 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:15:59.898 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@146e8483
19:15:59.908 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.909 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.914 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.914 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45621
19:15:59.915 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45621
19:15:59.915 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45621
19:15:59.915 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45621 with timeout 0
19:15:59.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:59.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:59.916 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:59.917 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@43029eba
19:15:59.898 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2eb88966
19:15:59.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:59.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:59.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:59.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.954 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42626&lt;-&gt;127.0.0.1:45621
19:15:59.955 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.955 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.955 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 19
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:45621
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:45621[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:15:59.967 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45621]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:15:59.970 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: text/csv
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 53
19:15:59.972 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.973 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42626&lt;-&gt;127.0.0.1:45621
19:15:59.973 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.974 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.974 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.974 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45621
19:15:59.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
19:15:59.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 19
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:45621
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:45621[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:15:59.982 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45621]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:15:59.987 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: text/csv
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 53
19:15:59.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:15:59.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.989 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42626&lt;-&gt;127.0.0.1:45621
19:15:59.989 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.990 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@33bb3d1b
19:16:00.012 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4f466408
19:16:00.030 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36e2805f
19:16:00.030 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@483d318e
19:16:00.031 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@b8eab80
19:16:00.031 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@9717531
19:16:00.034 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.035 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.031 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7cfbd1a2
19:16:00.031 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3092a1e0
19:16:00.031 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b44b339
19:16:00.031 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@230c7190
19:16:00.035 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@585cc9eb
19:16:00.058 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.058 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45149
19:16:00.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45149
19:16:00.058 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45149
19:16:00.059 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47976&lt;-&gt;127.0.0.1:45149
19:16:00.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
19:16:00.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /bravo HTTP/1.1
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 30
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:45149
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:45149[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.068 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.069 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45149]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.071 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
19:16:00.072 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.072 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.073 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47976&lt;-&gt;127.0.0.1:45149
19:16:00.073 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.076 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.076 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.076 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45149
19:16:00.076 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
19:16:00.076 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.076 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.076 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /bravo HTTP/1.1
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 30
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:45149
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:45149[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.078 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45149]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.081 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
19:16:00.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.084 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47976&lt;-&gt;127.0.0.1:45149
19:16:00.084 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.085 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4f466408
19:16:00.095 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a3bf2d5
19:16:00.097 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4af14a26
19:16:00.102 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@735d0a72
19:16:00.103 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3465ab28
19:16:00.116 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2b57899f
19:16:00.116 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6320e0c4
19:16:00.117 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@33135b16
19:16:00.117 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@583a2f0d
19:16:00.117 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7cc882d9
19:16:00.122 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.122 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@13d817fb
19:16:00.123 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.131 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.131 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.131 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35451
19:16:00.131 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35451
19:16:00.131 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35451
19:16:00.132 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44920&lt;-&gt;127.0.0.1:35451
19:16:00.132 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
19:16:00.132 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.132 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /bravo HTTP/1.1
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 30
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35451
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.132 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35451[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.142 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35451]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.146 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
19:16:00.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44920&lt;-&gt;127.0.0.1:35451
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.150 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.150 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35451
19:16:00.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
19:16:00.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /bravo HTTP/1.1
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 30
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35451
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35451[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.152 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35451]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.156 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
19:16:00.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.158 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.159 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44920&lt;-&gt;127.0.0.1:35451
19:16:00.159 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.159 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a3bf2d5
19:16:00.192 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@8e81ba1
19:16:00.198 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@36c2f301
19:16:00.199 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@62ffc232
19:16:00.199 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@65ace922
19:16:00.202 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@23092888
19:16:00.211 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b2330d
19:16:00.218 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5c75eec6
19:16:00.219 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@20366308
19:16:00.222 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.223 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.220 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@77a6a803
19:16:00.229 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@569df05a
19:16:00.239 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.239 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45789
19:16:00.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45789
19:16:00.239 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45789
19:16:00.240 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58294&lt;-&gt;127.0.0.1:45789
19:16:00.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
19:16:00.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.240 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
19:16:00.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 30
19:16:00.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:45789
19:16:00.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
19:16:00.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:45789[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.242 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45789]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.276 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/plain
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 27
19:16:00.277 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.277 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.278 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58294&lt;-&gt;127.0.0.1:45789
19:16:00.278 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.281 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.282 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45789
19:16:00.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
19:16:00.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 30
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:45789
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:45789[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.293 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45789]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.296 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/plain
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 27
19:16:00.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.297 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.298 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58294&lt;-&gt;127.0.0.1:45789
19:16:00.298 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.298 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@8e81ba1
19:16:00.319 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a78a97f
19:16:00.322 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f2f0fbe
19:16:00.322 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3285b0fb
19:16:00.323 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c1b1c08
19:16:00.328 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@28396092
19:16:00.331 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2f29c7ae
19:16:00.333 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2615203c
19:16:00.334 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@77dabb1e
19:16:00.337 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1799d3f
19:16:00.346 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.346 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@226b731a
19:16:00.350 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.354 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.354 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41493
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41493
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41493
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54544&lt;-&gt;127.0.0.1:41493
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 30
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:41493
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:41493[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.370 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41493]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.376 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.377 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/plain
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 27
19:16:00.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.378 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54544&lt;-&gt;127.0.0.1:41493
19:16:00.379 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.380 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.380 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.380 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41493
19:16:00.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
19:16:00.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 30
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:41493
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:41493[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.382 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41493]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.384 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/plain
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 27
19:16:00.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.386 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54544&lt;-&gt;127.0.0.1:41493
19:16:00.386 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.386 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a78a97f
19:16:00.403 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@56f72097
19:16:00.410 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7709ad5
19:16:00.419 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4fd57ee
19:16:00.436 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2698abfe
19:16:00.437 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@9e3a2c3
19:16:00.450 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3487deb
19:16:00.453 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@345aa3c5
19:16:00.436 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@73270dd
19:16:00.455 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d3309d2
19:16:00.456 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.456 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@75317e18
19:16:00.457 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.462 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.462 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.462 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44361
19:16:00.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44361
19:16:00.462 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44361
19:16:00.463 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58924&lt;-&gt;127.0.0.1:44361
19:16:00.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:00.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:44361
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.463 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:44361[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.467 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44361]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.469 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
19:16:00.471 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.471 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58924&lt;-&gt;127.0.0.1:44361
19:16:00.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.473 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.474 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44361
19:16:00.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:00.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:44361
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
19:16:00.474 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:44361[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.475 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.495 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44361]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.497 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
19:16:00.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.499 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58924&lt;-&gt;127.0.0.1:44361
19:16:00.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.500 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@56f72097
19:16:00.514 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5b09b4f4
19:16:00.517 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@75f02ae3
19:16:00.522 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@12b4a3d0
19:16:00.522 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7d2cb4f7
19:16:00.527 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@330101f5
19:16:00.530 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@e69b92c
19:16:00.531 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@496e2a42
19:16:00.531 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@42f2c1da
19:16:00.530 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@469285e4
19:16:00.538 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.539 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@30faaf6c
19:16:00.542 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.546 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.547 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34777
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34777
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34777
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44838&lt;-&gt;127.0.0.1:34777
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:34777
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:34777[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.557 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34777]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.559 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
19:16:00.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.561 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44838&lt;-&gt;127.0.0.1:34777
19:16:00.561 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.563 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.563 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.563 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34777
19:16:00.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:00.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:34777
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
19:16:00.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:34777[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.564 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.586 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34777]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.588 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
19:16:00.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.591 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44838&lt;-&gt;127.0.0.1:34777
19:16:00.591 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.592 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5b09b4f4
19:16:00.605 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@46835369
19:16:00.639 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.639 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
19:16:00.650 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@660a85fd
19:16:00.652 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d382e95
19:16:00.659 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@55c9909a
19:16:00.666 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@433beb6a
19:16:00.675 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@31fc2542
19:16:00.686 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@41985c7b
19:16:00.707 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@127820b3
19:16:00.707 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.708 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.686 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@435f2e01
19:16:00.715 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@120ddb22
19:16:00.721 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.722 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
19:16:00.731 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.732 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.732 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43965
19:16:00.735 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43965
19:16:00.735 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
19:16:00.735 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43965
19:16:00.736 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50544&lt;-&gt;127.0.0.1:43965
19:16:00.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.737 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.737 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
19:16:00.738 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.738 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
19:16:00.739 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.739 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
19:16:00.740 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.740 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
19:16:00.741 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.741 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:43965
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:43965[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.758 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.758 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
19:16:00.759 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.759 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
19:16:00.760 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.760 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
19:16:00.761 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.761 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
19:16:00.763 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.763 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
19:16:00.764 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.764 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
19:16:00.765 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.765 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
19:16:00.762 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43965]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.771 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.772 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:00.772 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: Shutdown connection
19:16:00.772 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
19:16:00.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.777 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50544&lt;-&gt;127.0.0.1:43965
19:16:00.778 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.779 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.779 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.779 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43965
19:16:00.779 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.779 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:43965
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:43965[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.781 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43965]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.783 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.783 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
19:16:00.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.785 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50544&lt;-&gt;127.0.0.1:43965
19:16:00.785 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.786 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@46835369
19:16:00.792 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1674db8c
19:16:00.794 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5a63bff7
19:16:00.810 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7b0dfac1
19:16:00.822 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@56e901a4
19:16:00.810 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@149e9f67
19:16:00.827 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e24af22
19:16:00.839 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1d6e41ce
19:16:00.840 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@54959b95
19:16:00.841 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.841 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.844 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.845 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38165
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38165
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38165
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58104&lt;-&gt;127.0.0.1:38165
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:38165
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.846 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:38165[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.846 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.846 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@2406ddfc
19:16:00.827 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6b7397a1
19:16:00.867 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38165]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.868 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
19:16:00.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58104&lt;-&gt;127.0.0.1:38165
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.872 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.872 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38165
19:16:00.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:38165
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:38165[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.879 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38165]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.882 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
19:16:00.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58104&lt;-&gt;127.0.0.1:38165
19:16:00.884 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.884 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1674db8c
19:16:00.893 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1f05df5a
19:16:00.908 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6780cce4
19:16:00.926 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@b9dd4bb
19:16:00.931 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2f526a14
19:16:00.932 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@55b0662f
19:16:00.938 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@732691cb
19:16:00.943 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@558c3285
19:16:00.950 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@367b0566
19:16:00.953 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5be1d804
19:16:00.954 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.954 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@1a947216
19:16:00.955 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.958 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.958 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.958 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44949
19:16:00.958 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44949
19:16:00.959 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44949
19:16:00.959 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32992&lt;-&gt;127.0.0.1:44949
19:16:00.959 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.959 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.959 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; hat: fedora
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:44949
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:44949[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.978 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:44949]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.987 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
19:16:00.988 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:00.988 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.988 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32992&lt;-&gt;127.0.0.1:44949
19:16:00.988 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.989 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.989 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.990 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44949
19:16:00.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
19:16:00.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /charlie HTTP/1.1
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; hat: fedora
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:44949
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.990 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:44949[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.990 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.999 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:44949]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.002 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
19:16:01.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.003 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32992&lt;-&gt;127.0.0.1:44949
19:16:01.003 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.004 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1f05df5a
19:16:01.042 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5dc070a0
19:16:01.048 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@564a2d8b
19:16:01.063 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c544afa
19:16:01.063 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@455afea
19:16:01.083 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@701b641d
19:16:01.083 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@154976ab
19:16:01.088 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1aab1a25
19:16:01.089 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@147005a9
19:16:01.089 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.088 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6cab9ed
19:16:01.089 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@2f8be123
19:16:01.091 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.105 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.105 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.105 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33487
19:16:01.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33487
19:16:01.106 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33487
19:16:01.106 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56650&lt;-&gt;127.0.0.1:33487
19:16:01.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:33487
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.118 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:33487[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.123 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.128 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/date
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 36
19:16:01.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.129 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.139 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56650&lt;-&gt;127.0.0.1:33487
19:16:01.139 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.149 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.150 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33487
19:16:01.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:33487
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:33487[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.154 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.156 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/date
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 36
19:16:01.157 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.158 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.158 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56650&lt;-&gt;127.0.0.1:33487
19:16:01.158 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.159 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5dc070a0
19:16:01.176 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@76b97142
19:16:01.178 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1b790557
19:16:01.178 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@126e639b
19:16:01.178 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5c92ee85
19:16:01.193 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e94d0a8
19:16:01.178 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7f6c6351
19:16:01.195 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@423bb09a
19:16:01.196 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f86cea
19:16:01.198 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@560587df
19:16:01.202 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.202 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@7079977b
19:16:01.203 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.206 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.206 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.206 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38725
19:16:01.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38725
19:16:01.207 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38725
19:16:01.207 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50476&lt;-&gt;127.0.0.1:38725
19:16:01.207 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.207 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.207 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:38725
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:38725[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.218 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.220 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/date
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 36
19:16:01.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50476&lt;-&gt;127.0.0.1:38725
19:16:01.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.224 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.224 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.225 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38725
19:16:01.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.225 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:38725
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:38725[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.225 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.227 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.228 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/date
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 36
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.230 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.230 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50476&lt;-&gt;127.0.0.1:38725
19:16:01.230 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.231 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@76b97142
19:16:01.252 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@32982d48
19:16:01.254 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@55b17c64
19:16:01.255 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@138167ff
19:16:01.258 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4837f6c7
19:16:01.258 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@68f00562
19:16:01.259 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@447dc734
19:16:01.259 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3f8388d0
19:16:01.259 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6292476
19:16:01.259 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7f6d31be
19:16:01.266 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.267 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.266 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@1c718047
19:16:01.278 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.279 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43835
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43835
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43835
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42860&lt;-&gt;127.0.0.1:43835
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Cookie: flavor=chocolate-chip
19:16:01.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
19:16:01.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:43835
19:16:01.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
19:16:01.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.280 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:43835[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.280 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.284 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43835]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@6bdb296f]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.303 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/date
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 36
19:16:01.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42860&lt;-&gt;127.0.0.1:43835
19:16:01.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.307 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.307 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.307 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43835
19:16:01.308 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.308 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.308 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Cookie: flavor=chocolate-chip
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:43835
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:43835[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.308 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.318 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43835]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@2a5c840a]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.321 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/date
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 36
19:16:01.322 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42860&lt;-&gt;127.0.0.1:43835
19:16:01.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.324 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@32982d48
19:16:01.330 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@59592043
19:16:01.332 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@677ef72b
19:16:01.333 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7bcce978
19:16:01.333 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@191d1ae1
19:16:01.334 [XNIO-22 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43835]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Sun, 11 Aug 2019 00:15:57 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.bufferDone(HttpResponseConduit.java:286)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:264)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:01.336 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@75fa162f
19:16:01.337 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@a71f783
19:16:01.337 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b32fd81
19:16:01.337 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@59dfa5f5
19:16:01.342 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@65980e90
19:16:01.346 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.347 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@6dcaa267
19:16:01.347 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.350 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34137
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34137
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34137
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47842&lt;-&gt;127.0.0.1:34137
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:34137
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:34137[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.359 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34137]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6196a9f7, flavor:ersatz.undertow.server.handlers.CookieImpl@6f514bb5]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.361 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/date
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 36
19:16:01.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.362 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47842&lt;-&gt;127.0.0.1:34137
19:16:01.362 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.364 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.364 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.364 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34137
19:16:01.364 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.364 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:34137
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:34137[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.366 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34137]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@6d013993, flavor:ersatz.undertow.server.handlers.CookieImpl@63c6da43]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.367 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/date
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 36
19:16:01.368 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.369 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47842&lt;-&gt;127.0.0.1:34137
19:16:01.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.370 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@59592043
19:16:01.388 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a0a5218
19:16:01.390 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@10a1440d
19:16:01.390 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@44ee44b1
19:16:01.390 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6cacceae
19:16:01.390 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@16ad6f36
19:16:01.395 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@11ee6016
19:16:01.390 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6881befc
19:16:01.395 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@37ffb23d
19:16:01.398 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@580bc9ba
19:16:01.402 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.402 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@56c903c4
19:16:01.403 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.414 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.422 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46801
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46801
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46801
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35024&lt;-&gt;127.0.0.1:46801
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
19:16:01.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:46801
19:16:01.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
19:16:01.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:46801[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.427 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.430 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.432 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
19:16:01.433 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35024&lt;-&gt;127.0.0.1:46801
19:16:01.434 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.437 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.437 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.437 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46801
19:16:01.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:46801
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:46801[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.442 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.444 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.445 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
19:16:01.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.446 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35024&lt;-&gt;127.0.0.1:46801
19:16:01.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.448 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a0a5218
19:16:01.453 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@19dc6488
19:16:01.455 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@427a3a4e
19:16:01.466 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@67ab6221
19:16:01.467 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@193e2ba7
19:16:01.474 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@52808d3a
19:16:01.482 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@18bd6d29
19:16:01.490 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6bbd678e
19:16:01.490 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@cb19e64
19:16:01.491 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@230d5330
19:16:01.491 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.491 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@33f29e92
19:16:01.492 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39501
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39501
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39501
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52622&lt;-&gt;127.0.0.1:39501
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:39501
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.497 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:39501[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.498 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39501]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.503 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.503 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
19:16:01.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
19:16:01.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
19:16:01.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
19:16:01.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
19:16:01.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.504 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.504 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52622&lt;-&gt;127.0.0.1:39501
19:16:01.504 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.506 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.506 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.506 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39501
19:16:01.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:39501
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:39501[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.507 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.512 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39501]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.513 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
19:16:01.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.515 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52622&lt;-&gt;127.0.0.1:39501
19:16:01.515 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.516 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@19dc6488
19:16:01.522 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7403156
19:16:01.524 [XNIO-25 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:01.525 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@11e3b761
19:16:01.525 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17ff8a2a
19:16:01.526 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@238b0b3
19:16:01.526 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3445d3b2
19:16:01.543 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e58132c
19:16:01.551 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5c436c7b
19:16:01.553 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@12a5f8ee
19:16:01.559 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@36b45460
19:16:01.571 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.572 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.575 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.575 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.575 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42357
19:16:01.575 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42357
19:16:01.575 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42357
19:16:01.576 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38880&lt;-&gt;127.0.0.1:42357
19:16:01.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=peanut-butter
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:42357
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:42357[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.582 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@6ce40d39
19:16:01.587 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42357]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@3e952831]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.589 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
19:16:01.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
19:16:01.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
19:16:01.589 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
19:16:01.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
19:16:01.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.590 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38880&lt;-&gt;127.0.0.1:42357
19:16:01.591 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.592 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.592 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42357
19:16:01.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=peanut-butter
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:42357
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:42357[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.594 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42357]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@4b9d97de]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.596 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
19:16:01.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.598 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38880&lt;-&gt;127.0.0.1:42357
19:16:01.598 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.599 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7403156
19:16:01.606 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@46585e25
19:16:01.610 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@c3ec2f1
19:16:01.614 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5bc0c52
19:16:01.614 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@75f6425a
19:16:01.614 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@50c20338
19:16:01.614 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@500210dd
19:16:01.614 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f0f7268
19:16:01.614 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2aaa2522
19:16:01.614 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7c2e24ce
19:16:01.615 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.615 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@288f4279
19:16:01.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35703
19:16:01.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35703
19:16:01.631 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35703
19:16:01.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60414&lt;-&gt;127.0.0.1:35703
19:16:01.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:35703
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:35703[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.647 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35703]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@39158707, flavor:ersatz.undertow.server.handlers.CookieImpl@37d27e55]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.649 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.650 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.650 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.650 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.650 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.651 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
19:16:01.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60414&lt;-&gt;127.0.0.1:35703
19:16:01.653 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.655 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.656 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.656 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35703
19:16:01.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
19:16:01.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:35703
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:35703[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.661 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35703]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@699d8040, flavor:ersatz.undertow.server.handlers.CookieImpl@675a7303]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.664 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
19:16:01.665 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60414&lt;-&gt;127.0.0.1:35703
19:16:01.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.668 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@46585e25
19:16:01.714 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@bda4937
19:16:01.718 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@743f90d9
19:16:01.719 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6e0e4805
19:16:01.724 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3d683883
19:16:01.730 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@12cf1880
19:16:01.733 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@580cb619
19:16:01.741 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e2097cf
19:16:01.745 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@49d9024f
19:16:01.746 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3fcf2482
19:16:01.750 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.751 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.765 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.765 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37547
19:16:01.765 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37547
19:16:01.765 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37547
19:16:01.765 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52998&lt;-&gt;127.0.0.1:37547
19:16:01.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:01.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37547
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:01.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37547[\r][\n]&quot;
19:16:01.766 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@47d00db3
19:16:01.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.774 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.774 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:01.777 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@72f0eafa for /basic
19:16:01.777 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.778 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:01.779 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:01.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:01.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:01.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
19:16:01.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.780 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:01.780 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37547 requested authentication
19:16:01.781 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:01.781 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:01.781 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:01.781 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:01.781 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:01.787 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:01.787 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:01.787 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:01.787 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:01.798 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37547
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.798 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37547[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.798 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.810 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.811 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:01.816 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.846 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:01.866 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@72f0eafa for /basic
19:16:01.866 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:01.866 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.867 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
19:16:01.868 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.869 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:01.870 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:37547
19:16:01.877 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52998&lt;-&gt;127.0.0.1:37547
19:16:01.877 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.878 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.878 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.878 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37547
19:16:01.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:01.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37547
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37547[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.882 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.883 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:01.883 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@72f0eafa for /basic
19:16:01.883 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.883 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:01.883 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37547 requested authentication
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:01.884 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:01.884 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37547
19:16:01.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:01.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.885 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37547[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.904 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.904 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:01.905 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {}}
19:16:01.905 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:01.905 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@72f0eafa for /basic
19:16:01.905 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:01.905 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.908 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
19:16:01.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:01.909 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.909 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:01.909 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:37547
19:16:01.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52998&lt;-&gt;127.0.0.1:37547
19:16:01.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.911 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@bda4937
19:16:01.931 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@150865de
19:16:01.933 [XNIO-28 task-4] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37547]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sun, 11 Aug 2019 00:15:57 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:01.944 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2777da5b
19:16:01.962 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6b9cad66
19:16:01.966 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5a33b6b0
19:16:01.974 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5362a553
19:16:01.976 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1920aa12
19:16:01.976 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@66544548
19:16:01.982 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@29221ce6
19:16:01.986 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4dec257f
19:16:01.990 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.990 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@7af80317
19:16:01.991 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.996 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.997 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44933
19:16:01.997 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44933
19:16:01.997 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44933
19:16:01.997 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44933 with timeout 0
19:16:01.997 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:01.997 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:01.998 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:02.058 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:02.058 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:02.058 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:02.058 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.058 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.059 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48784&lt;-&gt;127.0.0.1:44933
19:16:02.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:44933
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.059 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:44933[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.059 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.063 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.063 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.063 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@59cfc23c for /basic
19:16:02.064 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.064 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.064 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
19:16:02.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44933 requested authentication
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.066 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:44933
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:44933[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.083 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.084 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.084 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.084 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:02.084 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@59cfc23c for /basic
19:16:02.102 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:02.103 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.105 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
19:16:02.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.113 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.113 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:02.113 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:44933
19:16:02.114 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48784&lt;-&gt;127.0.0.1:44933
19:16:02.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.116 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44933
19:16:02.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:44933
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:44933[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.138 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.139 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.139 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@59cfc23c for /basic
19:16:02.139 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.139 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.139 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.140 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
19:16:02.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:44933 requested authentication
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:44933
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.142 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:44933[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.142 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.159 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.159 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.160 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {}}
19:16:02.160 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:02.160 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@59cfc23c for /basic
19:16:02.160 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:02.160 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.164 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
19:16:02.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.165 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:02.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:44933
19:16:02.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48784&lt;-&gt;127.0.0.1:44933
19:16:02.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.167 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@150865de
19:16:02.174 [XNIO-29 task-6] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44933]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sun, 11 Aug 2019 00:15:57 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:02.180 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2985aa8d
19:16:02.218 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@142104ed
19:16:02.228 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14792f98
19:16:02.231 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42da70ff
19:16:02.233 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@68cbbb24
19:16:02.235 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b8a8177
19:16:02.235 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@24622a19
19:16:02.242 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7d8a5682
19:16:02.259 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.260 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.261 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@73795f73
19:16:02.267 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.267 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.267 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33715
19:16:02.267 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33715
19:16:02.269 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33715
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35418&lt;-&gt;127.0.0.1:33715
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:33715
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.270 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:33715[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.270 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.271 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@720dec64
19:16:02.286 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.286 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.287 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@20a89f44 for /basic
19:16:02.287 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.287 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.287 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.287 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
19:16:02.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33715 requested authentication
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.288 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.289 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:33715
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.289 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:33715[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.289 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.324 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.324 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.324 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.324 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.324 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@20a89f44 for /basic
19:16:02.325 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.325 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.325 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
19:16:02.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33715 requested authentication
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35418&lt;-&gt;127.0.0.1:33715
19:16:02.326 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.354 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.354 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33715
19:16:02.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:33715
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.355 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:33715[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.356 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.357 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.357 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@20a89f44 for /basic
19:16:02.357 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.357 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.357 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33715 requested authentication
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.358 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:33715
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.358 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.359 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:33715[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.359 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.368 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.368 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@20a89f44 for /basic
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {}}
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33715]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.369 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.370 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.370 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.370 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
19:16:02.370 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.370 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.370 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.370 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33715 requested authentication
19:16:02.370 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:02.371 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:02.371 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35418&lt;-&gt;127.0.0.1:33715
19:16:02.371 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.375 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2985aa8d
19:16:02.381 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@376cb911
19:16:02.389 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4bb19618
19:16:02.390 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@140d1e7
19:16:02.411 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@13aad23f
19:16:02.417 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@638ea960
19:16:02.418 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50fd554c
19:16:02.422 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@29b89047
19:16:02.427 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@60601708
19:16:02.431 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4208d855
19:16:02.431 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.432 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.435 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.435 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.435 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33587
19:16:02.435 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33587
19:16:02.435 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33587
19:16:02.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33587 with timeout 0
19:16:02.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:02.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:02.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:02.438 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@765c6b88
19:16:02.500 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:02.500 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:02.503 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:02.503 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.503 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.503 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54270&lt;-&gt;127.0.0.1:33587
19:16:02.503 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.503 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.503 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:33587
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:33587[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.524 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.525 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.525 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@67ae4eb3 for /basic
19:16:02.525 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.525 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.525 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
19:16:02.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33587 requested authentication
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.527 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:33587
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:33587[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.527 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@67ae4eb3 for /basic
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.531 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.532 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
19:16:02.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.533 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.533 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.533 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33587 requested authentication
19:16:02.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:02.534 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:02.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54270&lt;-&gt;127.0.0.1:33587
19:16:02.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33587
19:16:02.535 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.535 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.535 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:33587
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:33587[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@67ae4eb3 for /basic
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.559 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
19:16:02.560 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.560 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.560 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33587 requested authentication
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.561 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:33587
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.561 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:33587[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.561 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.564 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.564 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@67ae4eb3 for /basic
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {}}
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33587]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.565 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
19:16:02.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:33587 requested authentication
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54270&lt;-&gt;127.0.0.1:33587
19:16:02.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.567 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@376cb911
19:16:02.604 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@66e301da
19:16:02.610 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1c477773
19:16:02.615 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7d236759
19:16:02.642 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2e5eaecc
19:16:02.647 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7047cda4
19:16:02.649 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b1e6823
19:16:02.649 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@27359f55
19:16:02.665 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@44adfbfb
19:16:02.670 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@17b26ef5
19:16:02.672 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.673 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.676 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@360f4e94
19:16:02.683 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.684 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40171
19:16:02.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40171
19:16:02.684 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40171
19:16:02.684 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57446&lt;-&gt;127.0.0.1:40171
19:16:02.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40171
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40171[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.689 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.689 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.690 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@a7c2bd2 for /digest
19:16:02.690 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.692 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:02.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
19:16:02.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40171 requested authentication
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.693 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.700 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:02.700 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:02.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.700 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:02.705 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40171
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.706 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40171[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.706 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.710 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.712 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.715 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.725 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:02.726 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@a7c2bd2 for /digest
19:16:02.726 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:02.726 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;, uri=&quot;/digest&quot;, response=&quot;3e7e4985d1d68cc0a63de3d2ea32f7cd&quot;, qop=auth, nc=00000001, cnonce=&quot;aea372fdb48c37df&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.727 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b1200c3b28f2a5cf08a87c199de187ef&quot;,cnonce=&quot;aea372fdb48c37df&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:02.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b1200c3b28f2a5cf08a87c199de187ef&quot;,cnonce=&quot;aea372fdb48c37df&quot;,nc=00000001[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:02.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
19:16:02.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
19:16:02.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Authentication-Info: nextnonce=&quot;Wan2GpOrvnANMTU2NTQ4MjU2MjY5McmkjmDzgZRFPJN/6fwadCI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;b1200c3b28f2a5cf08a87c199de187ef&quot;,cnonce=&quot;aea372fdb48c37df&quot;,nc=00000001
19:16:02.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
19:16:02.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
19:16:02.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.731 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:02.731 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:40171
19:16:02.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57446&lt;-&gt;127.0.0.1:40171
19:16:02.735 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.738 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.738 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.738 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40171
19:16:02.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40171
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.739 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40171[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.762 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.763 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.763 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@a7c2bd2 for /digest
19:16:02.763 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.763 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:02.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:02.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
19:16:02.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40171 requested authentication
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.765 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.766 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.767 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:02.768 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:02.768 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.768 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.768 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:02.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:40171
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:40171[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.828 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.829 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.830 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.830 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
19:16:02.830 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]} response {}}
19:16:02.832 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.832 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
19:16:02.832 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.832 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
19:16:02.832 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:02.832 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@a7c2bd2 for /digest
19:16:02.832 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:02.833 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.833 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
19:16:02.832 [XNIO-32 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;, uri=&quot;/digest&quot;, response=&quot;518538741cb8aaf23be83bfa7eae7d51&quot;, qop=auth, nc=00000001, cnonce=&quot;81135e7172eb47e0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40171]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.834 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.834 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
19:16:02.834 [XNIO-32 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e76063e37082f9f601c19b18681adf6c&quot;,cnonce=&quot;81135e7172eb47e0&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:02.835 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.835 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.836 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
19:16:02.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
19:16:02.837 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:02.837 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e76063e37082f9f601c19b18681adf6c&quot;,cnonce=&quot;81135e7172eb47e0&quot;,nc=00000001[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Authentication-Info: nextnonce=&quot;hPBHBNo5XCANMTU2NTQ4MjU2Mjc2MzVcCC4koerE3bvqaRIIYFM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e76063e37082f9f601c19b18681adf6c&quot;,cnonce=&quot;81135e7172eb47e0&quot;,nc=00000001
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
19:16:02.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.838 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:02.838 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:40171
19:16:02.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57446&lt;-&gt;127.0.0.1:40171
19:16:02.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.840 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@66e301da
19:16:02.844 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6a314782
19:16:02.858 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@72c6bb94
19:16:02.859 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1ca4166d
19:16:02.863 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@76cb1128
19:16:02.874 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2bdc441d
19:16:02.881 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@478423ea
19:16:02.883 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@57b63a3e
19:16:02.892 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c480a13
19:16:02.904 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.905 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.906 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@7c5a3488
19:16:02.906 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5303b767
19:16:02.908 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.908 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.908 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40739
19:16:02.908 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40739
19:16:02.909 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40739
19:16:02.909 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40739 with timeout 0
19:16:02.909 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:02.909 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:02.909 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:02.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:02.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:02.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:02.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:02.949 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57050&lt;-&gt;127.0.0.1:40739
19:16:02.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:40739
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.949 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:40739[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.949 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.958 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:02.959 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.959 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48a01480 for /digest
19:16:02.959 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:02.959 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:02.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:02.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
19:16:02.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40739 requested authentication
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:02.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.961 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:02.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:40739
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:40739[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.978 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:02.984 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:02.984 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:02.985 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:02.985 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48a01480 for /digest
19:16:02.985 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:02.985 [XNIO-33 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;, uri=&quot;/digest&quot;, response=&quot;595f772305c36445ad8c21dd617da05a&quot;, qop=auth, nc=00000001, cnonce=&quot;2fc0ebbf0004f8dd&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.986 [XNIO-33 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;7d44f4583739e09180a372cc1f091921&quot;,cnonce=&quot;2fc0ebbf0004f8dd&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;7d44f4583739e09180a372cc1f091921&quot;,cnonce=&quot;2fc0ebbf0004f8dd&quot;,nc=00000001[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.988 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Authentication-Info: nextnonce=&quot;ulnqh3XhaSsNMTU2NTQ4MjU2Mjk1OcFgCH+qXEdWi1dXnmptZWM=&quot;,qop=&quot;auth&quot;,rspauth=&quot;7d44f4583739e09180a372cc1f091921&quot;,cnonce=&quot;2fc0ebbf0004f8dd&quot;,nc=00000001
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
19:16:02.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:02.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.989 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:02.989 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:40739
19:16:02.990 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57050&lt;-&gt;127.0.0.1:40739
19:16:02.990 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.991 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.991 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.991 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40739
19:16:02.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:02.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
19:16:02.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:02.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:40739
19:16:02.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:02.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:40739[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.009 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:03.009 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.009 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48a01480 for /digest
19:16:03.009 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:03.009 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:03.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
19:16:03.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40739 requested authentication
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.012 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:40739
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.014 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:40739[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.019 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:03.019 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.019 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]} response {}}
19:16:03.020 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.020 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48a01480 for /digest
19:16:03.020 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:03.020 [XNIO-33 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;, uri=&quot;/digest&quot;, response=&quot;82a9a08a7d4430d47585f58f73e52f89&quot;, qop=auth, nc=00000001, cnonce=&quot;e90149c726393d90&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40739]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.022 [XNIO-33 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;2479a5c69b42473f987569cc6f7ebacf&quot;,cnonce=&quot;e90149c726393d90&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;2479a5c69b42473f987569cc6f7ebacf&quot;,cnonce=&quot;e90149c726393d90&quot;,nc=00000001[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Authentication-Info: nextnonce=&quot;g4GAUHcDAEYNMTU2NTQ4MjU2MzAwOe36/8AGNarSy9N5jJdJLlk=&quot;,qop=&quot;auth&quot;,rspauth=&quot;2479a5c69b42473f987569cc6f7ebacf&quot;,cnonce=&quot;e90149c726393d90&quot;,nc=00000001
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
19:16:03.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.023 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.023 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.023 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:40739
19:16:03.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57050&lt;-&gt;127.0.0.1:40739
19:16:03.025 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.025 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6a314782
19:16:03.038 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3031573a
19:16:03.040 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4b0aab90
19:16:03.043 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@62d7a722
19:16:03.047 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7769776
19:16:03.048 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@44f83143
19:16:03.055 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@16f977c0
19:16:03.040 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@570e2b28
19:16:03.056 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@49f1e66c
19:16:03.063 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1bb71b88
19:16:03.065 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.066 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@4bc09e15
19:16:03.066 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.073 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.074 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35543
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35543
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35543
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53466&lt;-&gt;127.0.0.1:35543
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:35543
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:35543[\r][\n]&quot;
19:16:03.075 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.075 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.075 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.075 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.075 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.079 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.079 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.079 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3d183418 for /digest
19:16:03.079 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.079 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:03.080 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35543 requested authentication
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.080 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.081 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.081 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:35543
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:35543[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.087 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.087 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.087 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.088 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.088 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3d183418 for /digest
19:16:03.088 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Pc+O89ba3EINMTU2NTQ4MjU2MzA3OcYaO+E82Ja26M8rcS10O4Y=&quot;, uri=&quot;/digest&quot;, response=&quot;5a24cdbb570fdc1b96f60c7424c9e49e&quot;, qop=auth, nc=00000001, cnonce=&quot;2c02369473a7fdb1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.088 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;HLhaiXkGsjkNMTU2NTQ4MjU2MzA4OGdBTkAdfEjUrNwBO0mfvsU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.089 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.089 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;HLhaiXkGsjkNMTU2NTQ4MjU2MzA4OGdBTkAdfEjUrNwBO0mfvsU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.089 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:03.089 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35543 requested authentication
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53466&lt;-&gt;127.0.0.1:35543
19:16:03.089 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.091 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.091 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.091 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35543
19:16:03.091 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:35543
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:35543[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.092 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.093 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.093 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.093 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3d183418 for /digest
19:16:03.093 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.093 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.093 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:03.094 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35543 requested authentication
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.094 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.095 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:35543
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.095 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:35543[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.095 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.099 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.099 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.099 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.099 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.099 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3d183418 for /digest
19:16:03.100 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Uir3RQrK0GwNMTU2NTQ4MjU2MzA5M50VVy75qn1jhXftt7ADY2k=&quot;, uri=&quot;/digest&quot;, response=&quot;1d852a7e0c2b1bc2dda3c92861d2d143&quot;, qop=auth, nc=00000001, cnonce=&quot;e150da9cc462e193&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35543]} response {}}
19:16:03.100 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;YZiNA7UgLWMNMTU2NTQ4MjU2MzEwMP7j1tzLs+V6POCWFywMApw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;YZiNA7UgLWMNMTU2NTQ4MjU2MzEwMP7j1tzLs+V6POCWFywMApw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:03.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:35543 requested authentication
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53466&lt;-&gt;127.0.0.1:35543
19:16:03.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.102 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3031573a
19:16:03.108 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@45c08a80
19:16:03.110 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6aea5dd6
19:16:03.112 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@54eeb0a6
19:16:03.113 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@489b111
19:16:03.113 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ea1bfa1
19:16:03.114 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@ce95378
19:16:03.132 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3575a5d5
19:16:03.137 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@61ed946a
19:16:03.139 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@f4a7961
19:16:03.142 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.142 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@12944671
19:16:03.143 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.147 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.147 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.147 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40617
19:16:03.147 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40617
19:16:03.147 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40617
19:16:03.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40617 with timeout 0
19:16:03.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:03.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:03.148 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:03.197 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:03.197 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:03.197 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:03.197 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.197 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.197 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44110&lt;-&gt;127.0.0.1:40617
19:16:03.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40617
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40617[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.203 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.203 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.203 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@74b5be1b for /digest
19:16:03.203 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.203 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.204 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.204 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.204 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40617 requested authentication
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.205 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.206 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.206 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40617
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.207 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40617[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.207 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.215 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.215 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.215 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.216 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.216 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@74b5be1b for /digest
19:16:03.216 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;BuuqQa4Tub8NMTU2NTQ4MjU2MzIwM4U2S1j6+t0IOJhxFolEwXw=&quot;, uri=&quot;/digest&quot;, response=&quot;2df899effb37a85b5a8de3cac445a87b&quot;, qop=auth, nc=00000001, cnonce=&quot;f6c0494e1c21402e&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.216 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.216 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ASfA+91rHegNMTU2NTQ4MjU2MzIxNhyRIO4A5e2ToT9Sixr2ToI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;ASfA+91rHegNMTU2NTQ4MjU2MzIxNhyRIO4A5e2ToT9Sixr2ToI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.217 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40617 requested authentication
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44110&lt;-&gt;127.0.0.1:40617
19:16:03.217 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.219 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.219 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.219 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40617
19:16:03.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.219 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40617
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.219 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40617[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.219 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.235 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.235 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.235 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@74b5be1b for /digest
19:16:03.235 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.235 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40617 requested authentication
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.236 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.237 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
19:16:03.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.237 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40617
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.237 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40617[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.237 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.238 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.247 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.247 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.247 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.248 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.248 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@74b5be1b for /digest
19:16:03.249 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;av7tntqAOmINMTU2NTQ4MjU2MzIzNTamogPJ3ICwafK1/ev5wJA=&quot;, uri=&quot;/digest&quot;, response=&quot;27d10dfd935a4e184bf6e2ae8830d4db&quot;, qop=auth, nc=00000001, cnonce=&quot;e6c35e0d9b1b8d6c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40617]} response {}}
19:16:03.249 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;o64ZDV71WJwNMTU2NTQ4MjU2MzI0ObJfLMOvZ/i3oRgmIfd+H3Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.251 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.251 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.251 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;o64ZDV71WJwNMTU2NTQ4MjU2MzI0ObJfLMOvZ/i3oRgmIfd+H3Y=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.251 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.251 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40617 requested authentication
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44110&lt;-&gt;127.0.0.1:40617
19:16:03.251 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.253 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@45c08a80
19:16:03.265 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5e2f554
19:16:03.266 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@38070b83
19:16:03.267 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4dfed7bf
19:16:03.270 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@53db03f6
19:16:03.278 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6d4fb369
19:16:03.282 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6fbe27e0
19:16:03.284 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3ad8c923
19:16:03.298 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@da4b75
19:16:03.302 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48e1c980
19:16:03.306 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.307 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.322 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@2c1a4452
19:16:03.332 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.333 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.333 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38937
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38937
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38937
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56330&lt;-&gt;127.0.0.1:38937
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /pass HTTP/1.1
19:16:03.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:38937
19:16:03.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.344 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:38937[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.344 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.347 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38937]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.349 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
19:16:03.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56330&lt;-&gt;127.0.0.1:38937
19:16:03.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.352 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.352 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.352 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38937
19:16:03.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
19:16:03.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.352 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /pass HTTP/1.1
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:38937
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.352 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:38937[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.366 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38937]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.368 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.368 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
19:16:03.369 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.369 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56330&lt;-&gt;127.0.0.1:38937
19:16:03.369 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.370 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5e2f554
19:16:03.380 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@51c2750c
19:16:03.387 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4e1937a6
19:16:03.396 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5c6d825d
19:16:03.397 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@35ca97d3
19:16:03.397 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1bcc8ad3
19:16:03.397 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5d36a874
19:16:03.399 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4e2aa467
19:16:03.399 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.399 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6118b132
19:16:03.400 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.399 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@52c0de07
19:16:03.399 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@126ed6db
19:16:03.410 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.410 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.410 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43779
19:16:03.410 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43779
19:16:03.410 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43779
19:16:03.411 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36932&lt;-&gt;127.0.0.1:43779
19:16:03.411 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.411 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.411 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:43779
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.411 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:43779[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.411 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.418 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43779]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.420 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.420 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36932&lt;-&gt;127.0.0.1:43779
19:16:03.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.422 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.422 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43779
19:16:03.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:43779
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.422 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:43779[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.422 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.427 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43779]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.428 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.429 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.429 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.429 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.429 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36932&lt;-&gt;127.0.0.1:43779
19:16:03.429 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.430 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@51c2750c
19:16:03.434 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5f5b6595
19:16:03.442 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a9756c0
19:16:03.444 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7c723b25
19:16:03.444 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4628781f
19:16:03.445 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5083d4b1
19:16:03.446 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1265555c
19:16:03.460 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@600764f1
19:16:03.463 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@10ff6cc
19:16:03.470 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@44bd90e7
19:16:03.475 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.475 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@45d9424
19:16:03.476 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.479 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46479
19:16:03.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46479
19:16:03.479 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46479
19:16:03.480 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51064&lt;-&gt;127.0.0.1:46479
19:16:03.480 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.480 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.480 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:46479
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.480 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:46479[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.481 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46479]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.483 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:03.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 210 Unknown
19:16:03.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
19:16:03.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.483 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51064&lt;-&gt;127.0.0.1:46479
19:16:03.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.484 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.484 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.484 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46479
19:16:03.485 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.485 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.485 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:46479
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:46479[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.487 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46479]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.488 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:03.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 210 Unknown
19:16:03.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
19:16:03.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51064&lt;-&gt;127.0.0.1:46479
19:16:03.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.490 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5f5b6595
19:16:03.493 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7b31617a
19:16:03.495 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1d422aed
19:16:03.495 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@30b222b7
19:16:03.496 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42900418
19:16:03.496 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ad57596
19:16:03.503 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6766294
19:16:03.503 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b947820
19:16:03.506 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@b374015
19:16:03.506 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@37a48197
19:16:03.507 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.507 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@402da021
19:16:03.508 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.513 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.513 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.513 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36667
19:16:03.513 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36667
19:16:03.513 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36667
19:16:03.514 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37070&lt;-&gt;127.0.0.1:36667
19:16:03.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.514 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:36667
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:36667[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.516 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36667]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.517 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:03.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 211 Unknown
19:16:03.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
19:16:03.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.517 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.518 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37070&lt;-&gt;127.0.0.1:36667
19:16:03.518 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.519 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.519 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.519 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36667
19:16:03.519 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.519 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.519 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:36667
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.519 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:36667[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.534 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36667]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.536 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:03.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 211 Unknown
19:16:03.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
19:16:03.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.537 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37070&lt;-&gt;127.0.0.1:36667
19:16:03.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.537 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7b31617a
19:16:03.545 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@58c55127
19:16:03.566 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3dc8c98a
19:16:03.568 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3ff9d3bd
19:16:03.568 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@79ef11a5
19:16:03.566 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@f2c5759
19:16:03.574 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@574056a6
19:16:03.580 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@48ea6e76
19:16:03.585 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.578 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5f57ccb4
19:16:03.578 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@bb91bef
19:16:03.585 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@4aacd00
19:16:03.585 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.594 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.594 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.594 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38913
19:16:03.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38913
19:16:03.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38913
19:16:03.595 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45086&lt;-&gt;127.0.0.1:38913
19:16:03.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.595 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:38913
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.595 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:38913[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.598 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.599 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.600 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45086&lt;-&gt;127.0.0.1:38913
19:16:03.600 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.601 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.601 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38913
19:16:03.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:38913
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:38913[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.606 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.608 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.608 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.608 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.608 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.608 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45086&lt;-&gt;127.0.0.1:38913
19:16:03.608 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.609 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@58c55127
19:16:03.612 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2ce547aa
19:16:03.620 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4a86164d
19:16:03.625 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@27688907
19:16:03.626 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4403df0e
19:16:03.626 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5f4462d0
19:16:03.626 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@530b1267
19:16:03.626 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@33b02b42
19:16:03.626 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6763bb7
19:16:03.626 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@18cd01c2
19:16:03.626 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@583ba8c5
19:16:03.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.627 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.632 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45683
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45683
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45683
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44878&lt;-&gt;127.0.0.1:45683
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:45683
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:45683[\r][\n]&quot;
19:16:03.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.633 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.638 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45683]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.640 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:03.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.640 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 210 Unknown
19:16:03.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.640 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.641 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.641 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44878&lt;-&gt;127.0.0.1:45683
19:16:03.641 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.642 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45683
19:16:03.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:45683
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:45683[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.644 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45683]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.646 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:03.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.647 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 210 Unknown
19:16:03.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.647 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.647 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44878&lt;-&gt;127.0.0.1:45683
19:16:03.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.648 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2ce547aa
19:16:03.651 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@60cf80d3
19:16:03.652 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@425c8e0e
19:16:03.653 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14ed3a3e
19:16:03.653 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@ae9ae84
19:16:03.654 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e76d09f
19:16:03.654 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a73c9bb
19:16:03.654 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1861d87a
19:16:03.654 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@23785514
19:16:03.654 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2c6dab8b
19:16:03.654 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.654 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@45c22887
19:16:03.655 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.658 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.658 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33019
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33019
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33019
19:16:03.659 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41004&lt;-&gt;127.0.0.1:33019
19:16:03.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:33019
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:33019[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.660 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33019]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.662 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 211 Unknown
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.663 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41004&lt;-&gt;127.0.0.1:33019
19:16:03.663 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.664 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.664 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.664 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33019
19:16:03.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:33019
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:33019[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.665 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33019]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.666 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:03.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.667 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 211 Unknown
19:16:03.667 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
19:16:03.667 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
19:16:03.667 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.667 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41004&lt;-&gt;127.0.0.1:33019
19:16:03.667 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.668 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@60cf80d3
19:16:03.674 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2f27b733
19:16:03.677 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@73b4f65
19:16:03.677 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4d9fd330
19:16:03.677 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@321d1645
19:16:03.677 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4855391
19:16:03.677 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@27c6232a
19:16:03.682 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@136f54c5
19:16:03.682 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6f8b5226
19:16:03.682 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@357e9e95
19:16:03.683 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@8c25cb2
19:16:03.683 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.684 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.693 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.693 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.693 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40435
19:16:03.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40435
19:16:03.693 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40435
19:16:03.694 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33934&lt;-&gt;127.0.0.1:40435
19:16:03.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40435
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40435[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.696 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40435]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.698 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
19:16:03.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
19:16:03.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
19:16:03.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.698 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.699 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33934&lt;-&gt;127.0.0.1:40435
19:16:03.699 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.700 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.700 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40435
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40435
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40435[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.712 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40435]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.714 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.714 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
19:16:03.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
19:16:03.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
19:16:03.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.714 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33934&lt;-&gt;127.0.0.1:40435
19:16:03.714 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.715 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2f27b733
19:16:03.719 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6773e5c7
19:16:03.721 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@f77a1cc
19:16:03.727 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@30d3207b
19:16:03.721 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@86814cc
19:16:03.728 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4549cc9e
19:16:03.729 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@d094af6
19:16:03.732 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2ba75365
19:16:03.734 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4caa26f7
19:16:03.732 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@59e844c6
19:16:03.750 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.750 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@6e17544e
19:16:03.751 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.753 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.753 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39801
19:16:03.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39801
19:16:03.753 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39801
19:16:03.754 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41016&lt;-&gt;127.0.0.1:39801
19:16:03.754 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.754 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.754 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:39801
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.754 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:39801[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.754 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.755 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.757 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:03.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:03.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
19:16:03.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
19:16:03.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41016&lt;-&gt;127.0.0.1:39801
19:16:03.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.759 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.759 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.759 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39801
19:16:03.759 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.759 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.759 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:39801
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:39801[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.760 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.761 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39801]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.763 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:03.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:03.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
19:16:03.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
19:16:03.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41016&lt;-&gt;127.0.0.1:39801
19:16:03.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.765 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6773e5c7
19:16:03.767 [XNIO-44 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
19:16:03.769 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@63842f2d
19:16:03.770 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@587f683e
19:16:03.770 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1d922443
19:16:03.771 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@a2affb6
19:16:03.772 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@27b5d86d
19:16:03.772 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@212f4a38
19:16:03.774 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4df157e7
19:16:03.774 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.775 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@24d60201
19:16:03.775 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.776 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1343f727
19:16:03.777 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.778 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45381
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45381
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45381
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53432&lt;-&gt;127.0.0.1:45381
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.778 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:45381
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.778 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:45381[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.778 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.774 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@41d0775f
19:16:03.782 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45381]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.784 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:03.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:03.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
19:16:03.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
19:16:03.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53432&lt;-&gt;127.0.0.1:45381
19:16:03.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.785 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.785 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.785 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45381
19:16:03.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.785 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:45381
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:45381[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.790 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45381]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.793 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:03.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:03.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
19:16:03.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
19:16:03.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.793 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53432&lt;-&gt;127.0.0.1:45381
19:16:03.793 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.794 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@63842f2d
19:16:03.798 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@40180527
19:16:03.799 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@ab8f412
19:16:03.803 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2405f90d
19:16:03.804 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5fe93d95
19:16:03.809 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1f4a8a2
19:16:03.809 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4295148a
19:16:03.809 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4c0b4e85
19:16:03.809 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d5fbc18
19:16:03.810 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61d3d9be
19:16:03.811 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.811 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@6e4b0126
19:16:03.812 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.814 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.814 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.814 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38415
19:16:03.814 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38415
19:16:03.815 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38415
19:16:03.815 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44800&lt;-&gt;127.0.0.1:38415
19:16:03.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.815 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:38415
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.815 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:38415[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.815 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.816 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38415]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.817 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:03.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.817 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:03.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
19:16:03.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
19:16:03.817 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44800&lt;-&gt;127.0.0.1:38415
19:16:03.818 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.819 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.819 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.819 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38415
19:16:03.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.819 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:38415
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.819 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:38415[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.819 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.821 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38415]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.822 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:03.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:03.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
19:16:03.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
19:16:03.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44800&lt;-&gt;127.0.0.1:38415
19:16:03.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.823 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@40180527
19:16:03.828 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@22360fb5
19:16:03.830 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@17248245
19:16:03.831 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@f288232
19:16:03.835 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@73106b8b
19:16:03.836 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6553447e
19:16:03.836 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@af8d3ef
19:16:03.836 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@79661e95
19:16:03.836 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f5f132c
19:16:03.837 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1706602e
19:16:03.845 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.845 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@159da990
19:16:03.846 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.858 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.858 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.858 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40829
19:16:03.858 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40829
19:16:03.858 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40829
19:16:03.859 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46898&lt;-&gt;127.0.0.1:40829
19:16:03.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:40829
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:40829[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.862 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40829]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.864 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
19:16:03.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
19:16:03.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
19:16:03.864 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.864 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.864 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46898&lt;-&gt;127.0.0.1:40829
19:16:03.864 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.865 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.866 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.866 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40829
19:16:03.866 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.866 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.866 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:40829
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.866 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:40829[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.866 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.867 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40829]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.868 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.869 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
19:16:03.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
19:16:03.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
19:16:03.869 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.869 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46898&lt;-&gt;127.0.0.1:40829
19:16:03.869 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.870 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@22360fb5
19:16:03.873 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@378f76b5
19:16:03.878 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@78964d09
19:16:03.880 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@68a3c129
19:16:03.885 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@36483ee1
19:16:03.886 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2869e78d
19:16:03.894 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2f1f5d4b
19:16:03.896 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@473b7e9b
19:16:03.898 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.899 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.901 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40867
19:16:03.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40867
19:16:03.902 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40867
19:16:03.902 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34616&lt;-&gt;127.0.0.1:40867
19:16:03.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.902 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:40867
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:40867[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.903 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@be6c680
19:16:03.896 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@386f16d6
19:16:03.898 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@51422376
19:16:03.914 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40867]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.916 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:03.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:03.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
19:16:03.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
19:16:03.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.917 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34616&lt;-&gt;127.0.0.1:40867
19:16:03.917 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.918 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.918 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.918 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40867
19:16:03.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:40867
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:40867[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.921 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40867]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.923 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.923 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:03.923 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.923 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.923 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.923 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.923 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:03.923 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34616&lt;-&gt;127.0.0.1:40867
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.924 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@378f76b5
19:16:03.928 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@73446a89
19:16:03.930 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@34714a04
19:16:03.934 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@59a32075
19:16:03.947 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@14cc25d3
19:16:03.948 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@626c393b
19:16:03.950 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@483b5313
19:16:03.961 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@33cd8bbd
19:16:03.962 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14b0b6aa
19:16:03.974 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.975 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.950 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@14c6b689
19:16:03.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.977 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40179
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40179
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40179
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40616&lt;-&gt;127.0.0.1:40179
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.977 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:40179
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.977 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:40179[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.978 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@639d4b1f
19:16:03.986 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40179]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.988 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:03.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:03.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
19:16:03.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
19:16:03.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.989 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40616&lt;-&gt;127.0.0.1:40179
19:16:03.989 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.990 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.990 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.990 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40179
19:16:03.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:03.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.990 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:40179
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.991 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:40179[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.991 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.991 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40179]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.993 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:03.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:03.993 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:03.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
19:16:03.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
19:16:03.993 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:03.993 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.993 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40616&lt;-&gt;127.0.0.1:40179
19:16:03.993 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.994 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@73446a89
19:16:03.997 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4d290bbc
19:16:04.000 [XNIO-49 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
19:16:04.002 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a6b4041
19:16:04.003 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@28861081
19:16:04.010 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6669f2d0
19:16:04.014 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@198bde4c
19:16:04.015 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@150120b
19:16:04.015 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@264de67b
19:16:04.018 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@62c28c51
19:16:04.022 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14fdd058
19:16:04.038 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.039 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.042 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.042 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40467
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40467
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40467
19:16:04.043 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36494&lt;-&gt;127.0.0.1:40467
19:16:04.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:04.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:40467
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:40467[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.044 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.050 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@7cab09e2
19:16:04.059 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40467]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.060 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.062 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.062 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
19:16:04.062 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
19:16:04.062 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.062 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.062 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36494&lt;-&gt;127.0.0.1:40467
19:16:04.062 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.063 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.063 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.063 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40467
19:16:04.063 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
19:16:04.063 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.063 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:40467
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:40467[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.063 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.064 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40467]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.065 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
19:16:04.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
19:16:04.066 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.066 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.066 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36494&lt;-&gt;127.0.0.1:40467
19:16:04.066 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.066 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4d290bbc
19:16:04.074 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@c4cb7a4
19:16:04.078 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2b1dee25
19:16:04.080 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@23d61d82
19:16:04.082 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7ba522ca
19:16:04.086 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@47e60cce
19:16:04.095 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@c24e08a
19:16:04.099 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@14ba00f7
19:16:04.099 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.100 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.106 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.106 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.106 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33609
19:16:04.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33609
19:16:04.106 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33609
19:16:04.099 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13343a57
19:16:04.099 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2ff2a8c
19:16:04.099 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@47d46fad
19:16:04.106 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55290&lt;-&gt;127.0.0.1:33609
19:16:04.107 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
19:16:04.107 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.107 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /gzip HTTP/1.1
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:33609
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
19:16:04.107 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:33609[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.110 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33609]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.112 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Encoding: gzip
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Type: text/plain
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 29
19:16:04.113 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.113 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55290&lt;-&gt;127.0.0.1:33609
19:16:04.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.122 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.122 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.122 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33609
19:16:04.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
19:16:04.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.122 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /gzip HTTP/1.1
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:33609
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
19:16:04.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:33609[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.126 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33609]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.129 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Encoding: gzip
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Type: text/plain
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 29
19:16:04.130 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.130 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.131 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55290&lt;-&gt;127.0.0.1:33609
19:16:04.131 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.131 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@c4cb7a4
19:16:04.133 [XNIO-51 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /gzip request {Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33609]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[29], Date=[Sun, 11 Aug 2019 00:15:57 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:04.138 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5714ca6d
19:16:04.140 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@45f130af
19:16:04.140 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4891b29a
19:16:04.141 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3c78a864
19:16:04.141 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6ea061ab
19:16:04.142 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@37121757
19:16:04.147 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@65d0f6e
19:16:04.148 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@687fc169
19:16:04.148 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@22225b8e
19:16:04.153 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.153 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@7ecc99b2
19:16:04.153 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.163 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.163 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46877
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46877
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46877
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60458&lt;-&gt;127.0.0.1:46877
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.163 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 19
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:46877
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:04.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:46877[\r][\n]&quot;
19:16:04.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
19:16:04.186 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46877]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
19:16:04.188 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
19:16:04.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
19:16:04.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
19:16:04.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
19:16:04.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
19:16:04.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60458&lt;-&gt;127.0.0.1:46877
19:16:04.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.190 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.190 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.190 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46877
19:16:04.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 19
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:46877
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:46877[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
19:16:04.202 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46877]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
19:16:04.204 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.204 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
19:16:04.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.205 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60458&lt;-&gt;127.0.0.1:46877
19:16:04.205 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.206 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5714ca6d
19:16:04.210 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2c081475
19:16:04.230 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5f6ee86d
19:16:04.230 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@52197546
19:16:04.246 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5a66d294
19:16:04.259 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@51c0637b
19:16:04.246 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@360dabc1
19:16:04.261 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@411d2043
19:16:04.261 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@525ddaca
19:16:04.265 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@cd8d9c0
19:16:04.278 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.279 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.281 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.281 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36721
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36721
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36721
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34188&lt;-&gt;127.0.0.1:36721
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/xml; charset=utf-8
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 46
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:36721
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.282 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:36721[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.282 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
19:16:04.285 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@2a2e6fbc
19:16:04.288 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36721]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
19:16:04.291 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
19:16:04.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.298 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.298 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34188&lt;-&gt;127.0.0.1:36721
19:16:04.298 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.299 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.299 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.299 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36721
19:16:04.299 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.299 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.299 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/xml; charset=utf-8
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 46
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:36721
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.299 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.299 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.299 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
19:16:04.299 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:36721[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
19:16:04.304 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36721]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
19:16:04.306 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
19:16:04.306 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.307 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.307 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34188&lt;-&gt;127.0.0.1:36721
19:16:04.307 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.307 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2c081475
19:16:04.312 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@43d54579
19:16:04.324 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@503788b2
19:16:04.335 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2d1e4466
19:16:04.335 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4c765b6
19:16:04.336 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@e60f13a
19:16:04.342 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@63bed306
19:16:04.347 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e4c4cd8
19:16:04.342 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7eb768c0
19:16:04.348 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@22436e09
19:16:04.348 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.349 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.351 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42763
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42763
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42763
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40736&lt;-&gt;127.0.0.1:42763
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: text/html; charset=utf-8
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 7
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:42763
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.351 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:42763[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;ok-html&quot;
19:16:04.352 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@561c262
19:16:04.354 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42763]}, cookies=[:]): ok-html }
19:16:04.355 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.355 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
19:16:04.356 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.356 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40736&lt;-&gt;127.0.0.1:42763
19:16:04.356 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.357 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.357 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42763
19:16:04.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
19:16:04.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.357 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /types HTTP/1.1
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: text/html; charset=utf-8
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 7
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:42763
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.357 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:42763[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.357 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;ok-html&quot;
19:16:04.358 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42763]}, cookies=[:]): ok-html }
19:16:04.360 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
19:16:04.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.361 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.361 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40736&lt;-&gt;127.0.0.1:42763
19:16:04.361 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.361 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@43d54579
19:16:04.368 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@13463ff5
19:16:04.380 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@582be6a2
19:16:04.381 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1f0284a4
19:16:04.381 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3754ef05
19:16:04.385 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@689de95e
19:16:04.386 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2b40edeb
19:16:04.386 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6d883997
19:16:04.386 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@30c1609c
19:16:04.386 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@79bafc91
19:16:04.388 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.388 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@266b3533
19:16:04.389 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.403 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.403 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.403 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40127
19:16:04.403 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40127
19:16:04.404 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40127
19:16:04.404 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59034&lt;-&gt;127.0.0.1:40127
19:16:04.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
19:16:04.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /form HTTP/1.1
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 34
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:40127
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:40127[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:04.405 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40127]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:04.423 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
19:16:04.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.424 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59034&lt;-&gt;127.0.0.1:40127
19:16:04.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.425 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.426 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.426 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40127
19:16:04.426 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
19:16:04.426 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.426 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /form HTTP/1.1
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 34
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:40127
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:40127[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:04.431 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40127]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:04.439 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
19:16:04.440 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.440 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.441 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59034&lt;-&gt;127.0.0.1:40127
19:16:04.441 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.441 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@13463ff5
19:16:04.446 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@22576746
19:16:04.450 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@37a21624
19:16:04.451 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@35db9ca4
19:16:04.466 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5e302218
19:16:04.468 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7193979f
19:16:04.470 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3b89def0
19:16:04.471 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@c464a0d
19:16:04.474 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2ff9c28b
19:16:04.482 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@643d6020
19:16:04.492 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.493 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.496 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.496 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44547
19:16:04.496 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@7e75a580
19:16:04.496 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44547
19:16:04.496 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44547
19:16:04.496 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44547 with timeout 0
19:16:04.497 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:04.497 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:04.497 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:04.531 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:04.531 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:04.531 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:04.531 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:04.531 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:04.531 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44444&lt;-&gt;127.0.0.1:44547
19:16:04.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
19:16:04.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /form HTTP/1.1
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 34
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:44547
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:44547[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:04.535 [XNIO-56 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44547]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:04.539 [XNIO-56 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
19:16:04.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.541 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44444&lt;-&gt;127.0.0.1:44547
19:16:04.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.542 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.543 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44547
19:16:04.543 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
19:16:04.543 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.543 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /form HTTP/1.1
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 34
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:44547
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.543 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:44547[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.543 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:04.555 [XNIO-56 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44547]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:04.556 [XNIO-56 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
19:16:04.559 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.560 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.560 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44444&lt;-&gt;127.0.0.1:44547
19:16:04.560 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.560 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@22576746
19:16:04.575 [XNIO-56 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
19:16:04.596 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@676202ed
19:16:04.606 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@31d99831
19:16:04.610 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6fc7f4a0
19:16:04.614 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2d70d1c3
19:16:04.634 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7207cb6
19:16:04.639 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
19:16:04.651 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
19:16:04.655 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3f3e66fe
19:16:04.659 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@366b848b
19:16:04.662 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.663 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.678 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@4101ae38
19:16:04.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.721 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40891
19:16:04.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40891
19:16:04.726 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40891
19:16:04.727 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53528&lt;-&gt;127.0.0.1:40891
19:16:04.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
19:16:04.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /upload HTTP/1.1
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: multipart/form-data; boundary=63HQit9naj; charset=utf-8
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 336
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:40891
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=63HQit9naj; charset=utf-8[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:40891[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--63HQit9naj[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:04.727 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--63HQit9naj[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:04.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--63HQit9naj--[\r][\n]&quot;
19:16:04.734 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=63HQit9naj; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40891]}, cookies=[:]): --63HQit9naj
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--63HQit9naj
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--63HQit9naj--
 }
19:16:04.955 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.956 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
19:16:04.956 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.956 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.957 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
19:16:04.958 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.958 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
19:16:04.959 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.959 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
19:16:04.960 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
19:16:04.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.962 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.962 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
19:16:04.962 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.963 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53528&lt;-&gt;127.0.0.1:40891
19:16:04.963 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.964 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.964 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.964 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40891
19:16:04.964 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
19:16:04.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /upload HTTP/1.1
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: multipart/form-data; boundary=GV7n8moqUI; charset=utf-8
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 336
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:40891
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=GV7n8moqUI; charset=utf-8[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:40891[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--GV7n8moqUI[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--GV7n8moqUI[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:04.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--GV7n8moqUI--[\r][\n]&quot;
19:16:04.975 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.975 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
19:16:04.975 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.975 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.976 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
19:16:04.977 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.977 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-49: Shutdown connection
19:16:04.975 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=GV7n8moqUI; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40891]}, cookies=[:]): --GV7n8moqUI
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--GV7n8moqUI
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--GV7n8moqUI--
 }
19:16:04.977 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.978 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
19:16:04.979 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.979 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
19:16:04.979 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.979 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
19:16:04.980 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.980 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
19:16:04.980 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.980 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-53: Shutdown connection
19:16:04.989 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.989 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-52: Shutdown connection
19:16:04.989 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.989 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-51: Shutdown connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-50: Shutdown connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-55: Shutdown connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-54: Shutdown connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.990 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
19:16:04.996 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
19:16:04.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:04.997 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.998 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53528&lt;-&gt;127.0.0.1:40891
19:16:04.998 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.998 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@676202ed
19:16:05.002 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1f64f715
19:16:05.004 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@601ae304
19:16:05.006 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@31dbd5be
19:16:05.014 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@47ff7841
19:16:05.018 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7fab5eeb
19:16:05.004 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c6876e2
19:16:05.022 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6e878844
19:16:05.023 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2756e723
19:16:05.023 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6debd1e2
19:16:05.026 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.026 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@5bc93857
19:16:05.027 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.030 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.030 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.030 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39117
19:16:05.030 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39117
19:16:05.030 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39117
19:16:05.030 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39117 with timeout 0
19:16:05.030 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:05.031 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:05.031 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:05.073 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:05.073 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:05.073 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:05.073 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.073 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.074 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60738&lt;-&gt;127.0.0.1:39117
19:16:05.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
19:16:05.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.074 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /upload HTTP/1.1
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: multipart/form-data; boundary=aysBpz38Pr; charset=utf-8
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 336
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:39117
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.074 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=aysBpz38Pr; charset=utf-8[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:39117[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--aysBpz38Pr[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--aysBpz38Pr[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--aysBpz38Pr--[\r][\n]&quot;
19:16:05.075 [XNIO-58 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=aysBpz38Pr; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39117]}, cookies=[:]): --aysBpz38Pr
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--aysBpz38Pr
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--aysBpz38Pr--
 }
19:16:05.078 [XNIO-58 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.078 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
19:16:05.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:05.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.079 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60738&lt;-&gt;127.0.0.1:39117
19:16:05.079 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.081 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.081 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.081 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39117
19:16:05.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
19:16:05.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.081 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /upload HTTP/1.1
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: multipart/form-data; boundary=qStyER2FHG; charset=utf-8
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 336
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:39117
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.081 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=qStyER2FHG; charset=utf-8[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:39117[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--qStyER2FHG[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--qStyER2FHG[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.081 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--qStyER2FHG--[\r][\n]&quot;
19:16:05.087 [XNIO-58 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=qStyER2FHG; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39117]}, cookies=[:]): --qStyER2FHG
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--qStyER2FHG
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--qStyER2FHG--
 }
19:16:05.091 [XNIO-58 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:57 GMT[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.091 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
19:16:05.092 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:57 GMT
19:16:05.092 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.092 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60738&lt;-&gt;127.0.0.1:39117
19:16:05.092 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.093 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1f64f715
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Aug 10, 2019 7:26:05 PM</p>
</div>
</div>
</body>
</html>
