<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpPatchSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpPatchSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpPatchSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">58</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">9.290s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (authorized)</td>
<td>0.151s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with BASIC authentication (unauthorized)</td>
<td>0.097s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (authorized)</td>
<td>0.092s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP PATCH with DIGEST authentication (unauthorized)</td>
<td>0.093s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (authorized)</td>
<td>0.107s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with BASIC authentication (unauthorized)</td>
<td>0.098s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (authorized)</td>
<td>0.151s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS PATCH with DIGEST authentication (unauthorized)</td>
<td>0.129s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTP</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTPS</td>
<td>0.101s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.049s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.161s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP</td>
<td>0.208s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS</td>
<td>0.182s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/json [:]</td>
<td>0.225s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP application/xml [one:1]</td>
<td>0.138s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/csv [one:1, two:2]</td>
<td>0.073s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/html [two:2]</td>
<td>0.132s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTP text/plain null</td>
<td>3.624s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/json [:]</td>
<td>0.206s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS application/xml [one:1]</td>
<td>0.153s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/csv [one:1, two:2]</td>
<td>0.128s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/html [two:2]</td>
<td>0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(): HTTPS text/plain null</td>
<td>0.591s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [:]</td>
<td>0.102s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Closure): cookies -&gt; null</td>
<td>0.147s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [:]</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Class,Consumer): cookies -&gt; null</td>
<td>0.070s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [:]</td>
<td>0.041s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:[one]]</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; [alpha:one]</td>
<td>0.091s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Closure): query -&gt; null</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [:]</td>
<td>0.089s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">patch(Consumer): headers -&gt; null</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/json)</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/xml)</td>
<td>0.045s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (text/html)</td>
<td>0.043s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.064s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.041s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.086s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.060s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.029s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.088s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.057s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>18:07:43.193 [Test worker] DEBUG ersatz.jboss.logging - Logging Provider: ersatz.jboss.logging.Slf4jLoggerProvider
18:07:43.237 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5ff7e1de
18:07:43.281 [Test worker] INFO ersatz.xnio - XNIO version 3.3.8.Final
18:07:43.359 [Test worker] INFO ersatz.xnio.nio - XNIO NIO Implementation Version 3.3.8.Final
18:07:43.500 [XNIO-1 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4b97e176
18:07:43.523 [XNIO-1 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-2', selector sun.nio.ch.EPollSelectorImpl@58a3afcc
18:07:43.527 [XNIO-1 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-6', selector sun.nio.ch.EPollSelectorImpl@41fcdd81
18:07:43.515 [XNIO-1 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-3', selector sun.nio.ch.EPollSelectorImpl@22b1bb20
18:07:43.536 [XNIO-1 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-7', selector sun.nio.ch.EPollSelectorImpl@53212d42
18:07:43.537 [XNIO-1 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2c7d3903
18:07:43.515 [XNIO-1 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-4', selector sun.nio.ch.EPollSelectorImpl@256e02e8
18:07:43.536 [XNIO-1 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 I/O-5', selector sun.nio.ch.EPollSelectorImpl@148c67c3
18:07:43.551 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:43.559 [XNIO-1 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-1 Accept', selector sun.nio.ch.EPollSelectorImpl@65d7c4e4
18:07:43.658 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:44.296 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:44.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:44.350 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38767
18:07:44.392 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38767
18:07:44.411 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38767
18:07:44.421 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60604&lt;-&gt;127.0.0.1:38767
18:07:44.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:44.422 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:44.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:44.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:44.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:44.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 0
18:07:44.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:38767
18:07:44.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: Keep-Alive
18:07:44.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:44.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:44.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:44.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Host: localhost:38767[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:44.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\r][\n]&quot;
18:07:44.704 [XNIO-1 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38767]}, cookies=[:]): &lt;empty&gt; }
18:07:44.894 [XNIO-1 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:44.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:44.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:44.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:44.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:44.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:44.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:44 GMT[\r][\n]&quot;
18:07:44.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\r][\n]&quot;
18:07:44.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:45.018 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK
18:07:45.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Encoding: gzip
18:07:45.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: keep-alive
18:07:45.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/plain
18:07:45.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 27
18:07:45.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:44 GMT
18:07:45.061 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:45.422 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60604&lt;-&gt;127.0.0.1:38767
18:07:45.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:45.445 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:45.445 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:45.445 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38767
18:07:45.445 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:45.445 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:45.445 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Content-Length: 0
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Host: localhost:38767
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Connection: Keep-Alive
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:45.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Host: localhost:38767[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:45.447 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\r][\n]&quot;
18:07:45.467 [XNIO-1 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38767]}, cookies=[:]): &lt;empty&gt; }
18:07:45.527 [XNIO-1 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:45.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:45.530 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\r][\n]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:45.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 200 OK
18:07:45.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Encoding: gzip
18:07:45.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Connection: keep-alive
18:07:45.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Type: text/plain
18:07:45.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Content-Length: 27
18:07:45.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:45.532 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:45.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60604&lt;-&gt;127.0.0.1:38767
18:07:45.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:45.589 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5ff7e1de
18:07:45.605 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@39c03f40
18:07:45.609 [XNIO-2 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4208e9bb
18:07:45.611 [XNIO-2 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a60e2e9
18:07:45.634 [XNIO-2 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6e72ba04
18:07:45.658 [XNIO-2 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1d12c9bd
18:07:45.661 [XNIO-2 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42f03493
18:07:45.664 [XNIO-2 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6b88e0a3
18:07:45.665 [XNIO-2 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-6', selector sun.nio.ch.EPollSelectorImpl@295beed
18:07:45.673 [XNIO-2 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 I/O-8', selector sun.nio.ch.EPollSelectorImpl@68fcf8f7
18:07:45.674 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:45.675 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:45.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:45.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:45.679 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46709
18:07:45.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46709
18:07:45.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46709
18:07:45.680 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46709 with timeout 0
18:07:45.690 [XNIO-2 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-2 Accept', selector sun.nio.ch.EPollSelectorImpl@2a862f64
18:07:45.733 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:45.734 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:45.735 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:46.117 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:46.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:46.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:46.120 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.122 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.124 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49502&lt;-&gt;127.0.0.1:46709
18:07:46.124 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.124 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.124 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Length: 0
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Host: localhost:46709
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Connection: Keep-Alive
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.125 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Host: localhost:46709[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.126 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.135 [XNIO-2 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46709]}, cookies=[:]): &lt;empty&gt; }
18:07:46.146 [XNIO-2 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:46.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.148 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; HTTP/1.1 200 OK
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Encoding: gzip
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Connection: keep-alive
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Type: text/plain
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Length: 27
18:07:46.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.150 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.150 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49502&lt;-&gt;127.0.0.1:46709
18:07:46.151 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.152 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.152 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46709
18:07:46.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.153 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Content-Length: 0
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Host: localhost:46709
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Connection: Keep-Alive
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:46.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Host: localhost:46709[\r][\n]&quot;
18:07:46.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.175 [XNIO-2 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46709]}, cookies=[:]): &lt;empty&gt; }
18:07:46.179 [XNIO-2 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:46.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:46.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:46.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.184 [Test worker] DEBUG org.apache.http.wire - http-outgoing-1 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; HTTP/1.1 200 OK
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Encoding: gzip
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Connection: keep-alive
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Type: text/plain
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Content-Length: 27
18:07:46.184 [Test worker] DEBUG org.apache.http.headers - http-outgoing-1 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.185 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.185 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49502&lt;-&gt;127.0.0.1:46709
18:07:46.185 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.186 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@39c03f40
18:07:46.200 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1be32dd9
18:07:46.214 [XNIO-3 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7915ad49
18:07:46.218 [XNIO-3 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-2', selector sun.nio.ch.EPollSelectorImpl@ac321cb
18:07:46.221 [XNIO-3 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-3', selector sun.nio.ch.EPollSelectorImpl@245bade3
18:07:46.231 [XNIO-3 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-6', selector sun.nio.ch.EPollSelectorImpl@54f8f1b5
18:07:46.235 [XNIO-2 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
18:07:46.222 [XNIO-3 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e2b09f9
18:07:46.224 [XNIO-3 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7db860d
18:07:46.243 [XNIO-3 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2ffd6bf2
18:07:46.259 [XNIO-3 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4b61fe37
18:07:46.275 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.275 [XNIO-3 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-3 Accept', selector sun.nio.ch.EPollSelectorImpl@4c7f68b1
18:07:46.276 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.304 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.305 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41105
18:07:46.305 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41105
18:07:46.306 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41105
18:07:46.306 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34600&lt;-&gt;127.0.0.1:41105
18:07:46.306 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.307 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.307 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.307 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Length: 2
18:07:46.308 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Host: localhost:41105
18:07:46.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Connection: Keep-Alive
18:07:46.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.310 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.310 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
18:07:46.310 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Host: localhost:41105[\r][\n]&quot;
18:07:46.310 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.312 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;{}&quot;
18:07:46.321 [XNIO-3 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41105]}, cookies=[:]): {} }
18:07:46.326 [XNIO-3 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:46.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:46.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; HTTP/1.1 200 OK
18:07:46.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Encoding: gzip
18:07:46.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Connection: keep-alive
18:07:46.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Type: application/json
18:07:46.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Length: 39
18:07:46.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.329 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.337 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34600&lt;-&gt;127.0.0.1:41105
18:07:46.338 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.346 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.346 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41105
18:07:46.346 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.363 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.364 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Content-Length: 2
18:07:46.364 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Host: localhost:41105
18:07:46.364 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Connection: Keep-Alive
18:07:46.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
18:07:46.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Host: localhost:41105[\r][\n]&quot;
18:07:46.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.367 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &gt;&gt; &quot;{}&quot;
18:07:46.388 [XNIO-3 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41105]}, cookies=[:]): {} }
18:07:46.393 [XNIO-3 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:46.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:46.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:46.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.399 [Test worker] DEBUG org.apache.http.wire - http-outgoing-2 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:46.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; HTTP/1.1 200 OK
18:07:46.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Encoding: gzip
18:07:46.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Connection: keep-alive
18:07:46.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Type: application/json
18:07:46.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Content-Length: 39
18:07:46.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-2 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.402 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.403 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34600&lt;-&gt;127.0.0.1:41105
18:07:46.403 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.404 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1be32dd9
18:07:46.423 [XNIO-3 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41105]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[application/json], Content-Length=[39], Date=[Sat, 10 Aug 2019 23:07:45 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:46.448 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@623a7c80
18:07:46.465 [XNIO-4 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-1', selector sun.nio.ch.EPollSelectorImpl@31ec03a9
18:07:46.473 [XNIO-4 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-3', selector sun.nio.ch.EPollSelectorImpl@70eb92c
18:07:46.471 [XNIO-4 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-2', selector sun.nio.ch.EPollSelectorImpl@338662c1
18:07:46.494 [XNIO-4 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1c69ef8
18:07:46.496 [XNIO-4 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-5', selector sun.nio.ch.EPollSelectorImpl@79c2436d
18:07:46.497 [XNIO-4 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6d2d8a26
18:07:46.499 [XNIO-4 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-7', selector sun.nio.ch.EPollSelectorImpl@74484716
18:07:46.503 [XNIO-4 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 I/O-8', selector sun.nio.ch.EPollSelectorImpl@62473a9b
18:07:46.504 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.504 [XNIO-4 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-4 Accept', selector sun.nio.ch.EPollSelectorImpl@51df0104
18:07:46.506 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.510 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.510 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.510 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33329
18:07:46.510 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33329
18:07:46.510 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33329
18:07:46.511 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33329 with timeout 0
18:07:46.511 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:46.511 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:46.511 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:46.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:46.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:46.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:46.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.593 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.593 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58742&lt;-&gt;127.0.0.1:33329
18:07:46.593 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.593 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.593 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Length: 2
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Host: localhost:33329
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Connection: Keep-Alive
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
18:07:46.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: localhost:33329[\r][\n]&quot;
18:07:46.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.595 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{}&quot;
18:07:46.596 [XNIO-4 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33329]}, cookies=[:]): {} }
18:07:46.600 [XNIO-4 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:46.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:46.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:46.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.604 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.604 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:46.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; HTTP/1.1 200 OK
18:07:46.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Encoding: gzip
18:07:46.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Connection: keep-alive
18:07:46.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Type: application/json
18:07:46.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Length: 39
18:07:46.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.606 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58742&lt;-&gt;127.0.0.1:33329
18:07:46.607 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.609 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.609 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.609 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33329
18:07:46.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.610 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Content-Length: 2
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Host: localhost:33329
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Connection: Keep-Alive
18:07:46.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.611 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.611 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Host: localhost:33329[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &gt;&gt; &quot;{}&quot;
18:07:46.617 [XNIO-4 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33329]}, cookies=[:]): {} }
18:07:46.621 [XNIO-4 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:46.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:46.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:46.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-3 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:46.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; HTTP/1.1 200 OK
18:07:46.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Encoding: gzip
18:07:46.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Connection: keep-alive
18:07:46.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Type: application/json
18:07:46.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Content-Length: 39
18:07:46.625 [Test worker] DEBUG org.apache.http.headers - http-outgoing-3 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.626 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58742&lt;-&gt;127.0.0.1:33329
18:07:46.632 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.633 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@623a7c80
18:07:46.646 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2e08b038
18:07:46.659 [XNIO-5 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-1', selector sun.nio.ch.EPollSelectorImpl@50bde185
18:07:46.673 [XNIO-5 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-2', selector sun.nio.ch.EPollSelectorImpl@68bf1b25
18:07:46.685 [XNIO-5 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-3', selector sun.nio.ch.EPollSelectorImpl@bf52b9e
18:07:46.689 [XNIO-5 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3d426689
18:07:46.697 [XNIO-5 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3eee35b7
18:07:46.703 [XNIO-5 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-6', selector sun.nio.ch.EPollSelectorImpl@572b3824
18:07:46.707 [XNIO-5 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-7', selector sun.nio.ch.EPollSelectorImpl@34f1fb3d
18:07:46.708 [XNIO-5 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 I/O-8', selector sun.nio.ch.EPollSelectorImpl@26b26e37
18:07:46.709 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.710 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.720 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.721 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.721 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42223
18:07:46.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42223
18:07:46.721 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42223
18:07:46.721 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36316&lt;-&gt;127.0.0.1:42223
18:07:46.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.722 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.723 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 11
18:07:46.723 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:42223
18:07:46.723 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
18:07:46.723 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.723 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.723 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.723 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
18:07:46.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:42223[\r][\n]&quot;
18:07:46.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.725 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.725 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.725 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
18:07:46.724 [XNIO-5 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-5 Accept', selector sun.nio.ch.EPollSelectorImpl@705cbf61
18:07:46.739 [XNIO-5 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42223]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
18:07:46.743 [XNIO-5 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:46.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.744 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: application/xml
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 65
18:07:46.745 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.749 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36316&lt;-&gt;127.0.0.1:42223
18:07:46.749 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42223
18:07:46.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 11
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:42223
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:42223[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
18:07:46.763 [XNIO-5 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42223]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
18:07:46.765 [XNIO-5 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.767 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: application/xml
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 65
18:07:46.767 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.767 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36316&lt;-&gt;127.0.0.1:42223
18:07:46.770 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.771 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2e08b038
18:07:46.784 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@51a3590d
18:07:46.786 [XNIO-6 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-1', selector sun.nio.ch.EPollSelectorImpl@70301824
18:07:46.799 [XNIO-6 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-3', selector sun.nio.ch.EPollSelectorImpl@346ba27d
18:07:46.801 [XNIO-6 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1064bab2
18:07:46.804 [XNIO-6 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5d511a50
18:07:46.810 [XNIO-6 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3ab900cf
18:07:46.815 [XNIO-6 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6e4d9aec
18:07:46.812 [XNIO-6 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-6', selector sun.nio.ch.EPollSelectorImpl@524b5e90
18:07:46.826 [XNIO-6 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a523313
18:07:46.827 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.827 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.830 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.830 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.831 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35999
18:07:46.831 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35999
18:07:46.831 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35999
18:07:46.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35999 with timeout 0
18:07:46.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:46.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:46.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:46.835 [XNIO-6 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 Accept', selector sun.nio.ch.EPollSelectorImpl@711a0a16
18:07:46.894 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:46.894 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:46.894 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:46.894 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.894 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:46.894 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49294&lt;-&gt;127.0.0.1:35999
18:07:46.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.894 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.895 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 11
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:35999
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
18:07:46.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:35999[\r][\n]&quot;
18:07:46.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
18:07:46.903 [XNIO-6 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35999]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
18:07:46.906 [XNIO-6 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:46.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: application/xml
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 65
18:07:46.908 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.909 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49294&lt;-&gt;127.0.0.1:35999
18:07:46.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.913 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.913 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35999
18:07:46.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.914 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 11
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:35999
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.914 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
18:07:46.914 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:35999[\r][\n]&quot;
18:07:46.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.915 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
18:07:46.923 [XNIO-6 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35999]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
18:07:46.926 [XNIO-6 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:46.927 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.928 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: application/xml
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 65
18:07:46.928 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:46.928 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49294&lt;-&gt;127.0.0.1:35999
18:07:46.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.931 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@51a3590d
18:07:46.948 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@64b3d617
18:07:46.956 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@62a19d3d
18:07:46.958 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@34d6db10
18:07:46.959 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@61fd4c74
18:07:46.961 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ee37edd
18:07:46.963 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4360b73
18:07:46.974 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f10fe9c
18:07:46.979 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a1ca555
18:07:46.963 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@47aefab8
18:07:46.981 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.981 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@7dce28f9
18:07:46.982 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.990 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.991 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39537
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39537
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39537
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45688&lt;-&gt;127.0.0.1:39537
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.991 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 9
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:39537
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:39537[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
18:07:47.011 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39537]}, cookies=[:]): {&quot;two&quot;:2} }
18:07:47.013 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.014 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/html
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 40
18:07:47.015 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.015 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.019 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45688&lt;-&gt;127.0.0.1:39537
18:07:47.019 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.035 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.035 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39537
18:07:47.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 9
18:07:47.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:39537
18:07:47.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
18:07:47.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.037 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.037 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:39537[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.038 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
18:07:47.059 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39537]}, cookies=[:]): {&quot;two&quot;:2} }
18:07:47.061 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.062 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
18:07:47.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
18:07:47.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
18:07:47.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/html
18:07:47.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 40
18:07:47.063 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.063 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.064 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45688&lt;-&gt;127.0.0.1:39537
18:07:47.064 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.065 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@64b3d617
18:07:47.078 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7f3d5f1b
18:07:47.086 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7cd8400b
18:07:47.087 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2219ef68
18:07:47.090 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ec2859b
18:07:47.107 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@67465ed9
18:07:47.086 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@68e06871
18:07:47.113 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f677f18
18:07:47.113 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2f227a62
18:07:47.123 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.124 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.113 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f743985
18:07:47.127 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.127 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.128 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46311
18:07:47.128 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46311
18:07:47.128 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46311
18:07:47.129 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46311 with timeout 0
18:07:47.129 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.129 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.129 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:47.130 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@164b5d9e
18:07:47.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:47.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:47.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:47.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.161 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.162 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38156&lt;-&gt;127.0.0.1:46311
18:07:47.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 9
18:07:47.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:46311
18:07:47.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
18:07:47.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.163 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:46311[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.163 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
18:07:47.165 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46311]}, cookies=[:]): {&quot;two&quot;:2} }
18:07:47.170 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: text/html
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 40
18:07:47.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38156&lt;-&gt;127.0.0.1:46311
18:07:47.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.175 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.175 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.175 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46311
18:07:47.175 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.175 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.176 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 9
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:46311
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.176 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.176 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:46311[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.177 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
18:07:47.178 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46311]}, cookies=[:]): {&quot;two&quot;:2} }
18:07:47.186 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.187 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.188 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: text/html
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 40
18:07:47.188 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.188 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38156&lt;-&gt;127.0.0.1:46311
18:07:47.189 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.189 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7f3d5f1b
18:07:47.198 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@dbd729e
18:07:47.201 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@778d5b64
18:07:47.201 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@68aa4234
18:07:47.215 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1396b4f1
18:07:47.215 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@60b6dfe8
18:07:47.216 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@56d5a0e
18:07:47.216 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@63ca5d90
18:07:47.218 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@507055a1
18:07:47.219 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@62344bca
18:07:47.224 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.225 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.224 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@13c95f4a
18:07:47.231 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.231 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.231 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37559
18:07:47.231 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37559
18:07:47.231 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37559
18:07:47.232 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56734&lt;-&gt;127.0.0.1:37559
18:07:47.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.232 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 19
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:37559
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:37559[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
18:07:47.237 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37559]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
18:07:47.241 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: text/csv
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 53
18:07:47.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.244 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.250 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56734&lt;-&gt;127.0.0.1:37559
18:07:47.251 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.252 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.252 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.252 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37559
18:07:47.252 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.252 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.252 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 19
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:37559
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:37559[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
18:07:47.254 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37559]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
18:07:47.257 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: text/csv
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 53
18:07:47.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.262 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56734&lt;-&gt;127.0.0.1:37559
18:07:47.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.264 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@dbd729e
18:07:47.277 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@18a121fb
18:07:47.284 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@146e8483
18:07:47.285 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3d643494
18:07:47.289 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@34a5e7a3
18:07:47.289 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4a557463
18:07:47.292 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@8ce1de1
18:07:47.300 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@d954013
18:07:47.307 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@77b311d5
18:07:47.317 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@9007cea
18:07:47.318 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.318 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@e2c9aba
18:07:47.319 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.322 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.322 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45675
18:07:47.322 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45675
18:07:47.323 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45675
18:07:47.323 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45675 with timeout 0
18:07:47.323 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.323 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.323 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:47.373 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:47.374 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:47.374 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:47.374 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.374 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.374 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48872&lt;-&gt;127.0.0.1:45675
18:07:47.374 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.374 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.374 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 19
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:45675
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.374 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.374 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.374 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.374 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:47.374 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:45675[\r][\n]&quot;
18:07:47.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
18:07:47.376 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45675]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
18:07:47.379 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: text/csv
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 53
18:07:47.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.384 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48872&lt;-&gt;127.0.0.1:45675
18:07:47.384 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.385 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.385 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.385 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45675
18:07:47.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /alpha HTTP/1.1
18:07:47.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.385 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; PATCH /alpha HTTP/1.1
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 19
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:45675
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.386 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;PATCH /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:45675[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.386 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
18:07:47.391 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45675]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
18:07:47.395 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: text/csv
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 53
18:07:47.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.397 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48872&lt;-&gt;127.0.0.1:45675
18:07:47.397 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.398 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@18a121fb
18:07:47.421 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6fcda523
18:07:47.423 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@524646df
18:07:47.423 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7304fe8a
18:07:47.423 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@16bc844d
18:07:47.423 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1b882c32
18:07:47.429 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1294faad
18:07:47.424 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4eeeded9
18:07:47.431 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4033edbf
18:07:47.431 [XNIO-10 task-4] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45675]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/csv], Content-Length=[53], Date=[Sat, 10 Aug 2019 23:07:45 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:47.432 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@3a914058
18:07:47.424 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1869225c
18:07:47.431 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.437 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.474 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.475 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.475 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37359
18:07:47.475 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37359
18:07:47.475 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37359
18:07:47.475 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35034&lt;-&gt;127.0.0.1:37359
18:07:47.476 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
18:07:47.476 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.476 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /bravo HTTP/1.1
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 30
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:37359
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.476 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
18:07:47.476 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:37359[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.479 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37359]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.481 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
18:07:47.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35034&lt;-&gt;127.0.0.1:37359
18:07:47.483 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.485 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.486 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.486 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37359
18:07:47.486 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
18:07:47.486 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; PATCH /bravo HTTP/1.1
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 30
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:37359
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
18:07:47.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:37359[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.489 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37359]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.491 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/plain
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 27
18:07:47.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35034&lt;-&gt;127.0.0.1:37359
18:07:47.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.493 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6fcda523
18:07:47.501 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7ed62aae
18:07:47.507 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1842d535
18:07:47.507 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6e780835
18:07:47.507 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6dd51a34
18:07:47.508 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2472e6b0
18:07:47.507 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@780f55f8
18:07:47.508 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@150d88fc
18:07:47.509 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5792825d
18:07:47.509 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.509 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48f53169
18:07:47.509 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@31c58cfc
18:07:47.510 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.513 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.513 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45249
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45249
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45249
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47202&lt;-&gt;127.0.0.1:45249
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.513 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /bravo HTTP/1.1
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 30
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:45249
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.514 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:45249[\r][\n]&quot;
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.514 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.522 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45249]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.524 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
18:07:47.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
18:07:47.525 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
18:07:47.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
18:07:47.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
18:07:47.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.526 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47202&lt;-&gt;127.0.0.1:45249
18:07:47.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45249
18:07:47.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo HTTP/1.1
18:07:47.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; PATCH /bravo HTTP/1.1
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 30
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:45249
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.532 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;PATCH /bravo HTTP/1.1[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:45249[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.533 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45249]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.535 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.535 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/plain
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 27
18:07:47.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47202&lt;-&gt;127.0.0.1:45249
18:07:47.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.537 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7ed62aae
18:07:47.552 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1217c58b
18:07:47.559 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4ba86a79
18:07:47.559 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1f9db9a6
18:07:47.567 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@45867bdc
18:07:47.567 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2452e314
18:07:47.567 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b9898b
18:07:47.569 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@51cc196b
18:07:47.569 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6501a1a6
18:07:47.569 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2dcf9557
18:07:47.569 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.570 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.571 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@7731ea52
18:07:47.585 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.585 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.585 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45501
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45501
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45501
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47274&lt;-&gt;127.0.0.1:45501
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.586 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 30
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:45501
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:45501[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.589 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45501]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.609 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/plain
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 27
18:07:47.610 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.610 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.611 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47274&lt;-&gt;127.0.0.1:45501
18:07:47.611 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.613 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.614 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45501
18:07:47.614 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
18:07:47.614 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.614 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 30
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:45501
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.614 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:45501[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.614 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.628 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45501]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.630 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/plain
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 27
18:07:47.631 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.632 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47274&lt;-&gt;127.0.0.1:45501
18:07:47.632 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.632 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1217c58b
18:07:47.649 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2a6f9d14
18:07:47.651 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@e741fa5
18:07:47.652 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@735a1e92
18:07:47.653 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3960c665
18:07:47.654 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2932704a
18:07:47.671 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a37916f
18:07:47.683 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@16126825
18:07:47.683 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@271ef918
18:07:47.685 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7291512d
18:07:47.686 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.686 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@33072f23
18:07:47.687 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.692 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.693 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44333
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44333
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44333
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58350&lt;-&gt;127.0.0.1:44333
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
18:07:47.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 30
18:07:47.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:44333
18:07:47.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
18:07:47.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.695 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:44333[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.695 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.697 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44333]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.703 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/plain
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 27
18:07:47.704 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.704 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.705 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58350&lt;-&gt;127.0.0.1:44333
18:07:47.705 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.707 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.707 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.707 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44333
18:07:47.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one HTTP/1.1
18:07:47.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.707 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; PATCH /bravo?alpha=one HTTP/1.1
18:07:47.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.707 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 30
18:07:47.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:44333
18:07:47.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
18:07:47.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;PATCH /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:44333[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.714 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44333]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.716 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/plain
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 27
18:07:47.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58350&lt;-&gt;127.0.0.1:44333
18:07:47.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.719 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2a6f9d14
18:07:47.727 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3bfc0a76
18:07:47.731 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6c2c989d
18:07:47.731 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2eeafe4
18:07:47.735 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3c52a748
18:07:47.739 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@41f20de1
18:07:47.740 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@32ed82b4
18:07:47.740 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f6292d
18:07:47.740 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@45685d29
18:07:47.740 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.743 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.743 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e397fda
18:07:47.746 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.746 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.747 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37405
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37405
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37405
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48446&lt;-&gt;127.0.0.1:37405
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:37405
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:37405[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.740 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@57527b80
18:07:47.752 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37405]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.754 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
18:07:47.755 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.756 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48446&lt;-&gt;127.0.0.1:37405
18:07:47.756 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.757 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.758 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37405
18:07:47.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:47.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:37405
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.758 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:37405[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.760 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37405]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.763 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.763 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
18:07:47.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48446&lt;-&gt;127.0.0.1:37405
18:07:47.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.765 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3bfc0a76
18:07:47.792 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6d43648
18:07:47.796 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6cb48ae9
18:07:47.796 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@266cfbc9
18:07:47.799 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@552eef0b
18:07:47.820 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@733ef722
18:07:47.827 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1a1f708f
18:07:47.828 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1b0d0407
18:07:47.820 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6f4edf8f
18:07:47.829 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.829 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@21ab5619
18:07:47.831 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@2b61e7af
18:07:47.833 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.832 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.833 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
18:07:47.834 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.834 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
18:07:47.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46237
18:07:47.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46237
18:07:47.838 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46237
18:07:47.838 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55844&lt;-&gt;127.0.0.1:46237
18:07:47.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:47.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:46237
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:46237[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.840 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
18:07:47.841 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.841 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
18:07:47.842 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.842 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
18:07:47.842 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.842 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
18:07:47.843 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.843 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
18:07:47.844 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.844 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
18:07:47.845 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.845 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
18:07:47.845 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.845 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
18:07:47.846 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.846 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
18:07:47.846 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.846 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: Shutdown connection
18:07:47.846 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:47.847 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
18:07:47.845 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46237]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.849 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
18:07:47.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55844&lt;-&gt;127.0.0.1:46237
18:07:47.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46237
18:07:47.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:47.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:46237
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
18:07:47.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.853 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;PATCH /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:46237[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.853 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.854 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46237]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.856 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
18:07:47.857 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.858 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.858 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55844&lt;-&gt;127.0.0.1:46237
18:07:47.858 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.859 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6d43648
18:07:47.869 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@64511be2
18:07:47.874 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4ae69480
18:07:47.874 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@48c0d807
18:07:47.875 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@35c4d7df
18:07:47.879 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6cab5ede
18:07:47.883 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@71d7e0c3
18:07:47.885 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6333d826
18:07:47.903 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@29271fae
18:07:47.910 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@41a370cf
18:07:47.910 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.910 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@1cea68c1
18:07:47.911 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.918 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.918 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32913
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32913
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32913
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33768&lt;-&gt;127.0.0.1:32913
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.919 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:32913
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.919 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:32913[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.931 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.932 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
18:07:47.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.934 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33768&lt;-&gt;127.0.0.1:32913
18:07:47.934 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.936 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.936 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.936 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32913
18:07:47.936 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:47.936 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.936 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:32913
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:32913[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:47.938 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32913]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:47.939 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.941 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
18:07:47.942 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:47.942 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.942 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33768&lt;-&gt;127.0.0.1:32913
18:07:47.943 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.943 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@64511be2
18:07:47.950 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@160f90a4
18:07:47.956 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@54959b95
18:07:47.956 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2406ddfc
18:07:47.969 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@177dd3e5
18:07:47.971 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61d8d623
18:07:47.974 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@566cb2b6
18:07:47.975 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2479586
18:07:47.999 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3219d9c6
18:07:48.000 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.001 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.003 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3fa81d35
18:07:48.004 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.004 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.004 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35037
18:07:48.004 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35037
18:07:48.004 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35037
18:07:48.005 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33776&lt;-&gt;127.0.0.1:35037
18:07:48.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:48.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.005 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:35037
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.005 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.005 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:35037[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.006 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.005 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@3eeac967
18:07:48.012 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35037]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.024 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
18:07:48.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.027 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33776&lt;-&gt;127.0.0.1:35037
18:07:48.027 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.028 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.028 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.028 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35037
18:07:48.028 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:48.028 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.028 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:35037
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:35037[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.031 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35037]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.033 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.033 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
18:07:48.034 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33776&lt;-&gt;127.0.0.1:35037
18:07:48.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.035 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@160f90a4
18:07:48.045 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4a892eed
18:07:48.048 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@367b0566
18:07:48.048 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a947216
18:07:48.048 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5be1d804
18:07:48.049 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7c90c4fc
18:07:48.055 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@71ba7ead
18:07:48.056 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@540c60b3
18:07:48.058 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48f0fdfa
18:07:48.058 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@40ae5adc
18:07:48.063 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.063 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@12f38bce
18:07:48.064 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.067 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.068 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45413
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45413
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45413
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52208&lt;-&gt;127.0.0.1:45413
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; hat: fedora
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:45413
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
18:07:48.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:45413[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.073 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:45413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.078 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
18:07:48.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52208&lt;-&gt;127.0.0.1:45413
18:07:48.080 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.081 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.081 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45413
18:07:48.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /charlie HTTP/1.1
18:07:48.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.082 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; PATCH /charlie HTTP/1.1
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; hat: fedora
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:45413
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.082 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;PATCH /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:45413[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.082 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.083 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:45413]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.085 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
18:07:48.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52208&lt;-&gt;127.0.0.1:45413
18:07:48.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.087 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4a892eed
18:07:48.112 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@55e581fc
18:07:48.135 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@e421f67
18:07:48.155 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@725e396b
18:07:48.157 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33dbdee4
18:07:48.162 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@597d0491
18:07:48.172 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3ebf0a1a
18:07:48.172 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@759aa331
18:07:48.172 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@17d914a5
18:07:48.172 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5192bc07
18:07:48.175 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.175 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@5006963a
18:07:48.176 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.193 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.194 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.194 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40887
18:07:48.194 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40887
18:07:48.194 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40887
18:07:48.197 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50054&lt;-&gt;127.0.0.1:40887
18:07:48.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40887
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40887[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.201 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40887]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.207 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/date
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 36
18:07:48.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.208 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.214 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50054&lt;-&gt;127.0.0.1:40887
18:07:48.214 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40887
18:07:48.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.224 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40887
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.224 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40887[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.231 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40887]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.233 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/date
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 36
18:07:48.234 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.234 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.235 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50054&lt;-&gt;127.0.0.1:40887
18:07:48.235 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.236 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@55e581fc
18:07:48.243 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6e5f5a94
18:07:48.259 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ad51abe
18:07:48.279 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@44e460fb
18:07:48.287 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@fd80e89
18:07:48.289 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@24ab74e4
18:07:48.290 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5748a9cb
18:07:48.291 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@60cfb79f
18:07:48.287 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@16f99e1e
18:07:48.299 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.297 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@39a052f2
18:07:48.300 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33145
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33145
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33145
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57758&lt;-&gt;127.0.0.1:33145
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:33145
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:33145[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.305 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.299 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@53909f52
18:07:48.328 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33145]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.330 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/date
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 36
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.331 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.332 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57758&lt;-&gt;127.0.0.1:33145
18:07:48.332 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.333 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.333 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.333 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33145
18:07:48.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
18:07:48.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:33145
18:07:48.334 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
18:07:48.334 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.334 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:33145[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.336 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33145]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.337 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/date
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 36
18:07:48.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.338 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57758&lt;-&gt;127.0.0.1:33145
18:07:48.339 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.339 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6e5f5a94
18:07:48.356 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5a9efb2b
18:07:48.359 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e2a117
18:07:48.366 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@715daca7
18:07:48.368 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@133c6e65
18:07:48.368 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@459a335d
18:07:48.370 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@435ad48d
18:07:48.372 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@105f45ea
18:07:48.359 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3e449acf
18:07:48.379 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@28d39c3f
18:07:48.380 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.380 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@39bb1d05
18:07:48.383 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.395 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.395 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.395 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38695
18:07:48.395 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38695
18:07:48.395 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38695
18:07:48.396 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59046&lt;-&gt;127.0.0.1:38695
18:07:48.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Cookie: flavor=chocolate-chip
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:38695
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:38695[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.401 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38695]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@14cc72bd]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.415 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/date
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 36
18:07:48.416 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.417 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.417 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59046&lt;-&gt;127.0.0.1:38695
18:07:48.417 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.419 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.419 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.419 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38695
18:07:48.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Cookie: flavor=chocolate-chip
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:38695
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:38695[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.423 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38695]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@a71f783]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.426 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/date
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 36
18:07:48.427 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59046&lt;-&gt;127.0.0.1:38695
18:07:48.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.428 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5a9efb2b
18:07:48.433 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@156f5b6f
18:07:48.435 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@65980e90
18:07:48.435 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6dcaa267
18:07:48.435 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6b6a5d83
18:07:48.435 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@59dfa5f5
18:07:48.437 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3025040
18:07:48.437 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6d013993
18:07:48.437 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6196a9f7
18:07:48.437 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@19c375ef
18:07:48.437 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.437 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@7dce6062
18:07:48.438 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.440 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.441 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37317
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37317
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37317
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34090&lt;-&gt;127.0.0.1:37317
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.441 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
18:07:48.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
18:07:48.442 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:37317
18:07:48.442 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
18:07:48.442 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.442 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:37317[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.443 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37317]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@5d17b8c9, flavor:ersatz.undertow.server.handlers.CookieImpl@53d04d1b]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.445 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/date
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 36
18:07:48.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34090&lt;-&gt;127.0.0.1:37317
18:07:48.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.449 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.449 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.449 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37317
18:07:48.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:37317
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:37317[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.452 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37317]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@7f0c9a80, flavor:ersatz.undertow.server.handlers.CookieImpl@71cb6b11]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.454 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/date
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 36
18:07:48.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.456 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34090&lt;-&gt;127.0.0.1:37317
18:07:48.456 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.457 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@156f5b6f
18:07:48.466 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@632238a6
18:07:48.468 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@37ffb23d
18:07:48.470 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@56c903c4
18:07:48.472 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@69f91b7b
18:07:48.472 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1be3f2ce
18:07:48.472 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2242a23a
18:07:48.489 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@370ad05
18:07:48.491 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3be575af
18:07:48.491 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4b28c9ca
18:07:48.491 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.491 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@42af66a2
18:07:48.492 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.501 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.501 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.501 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45911
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45911
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45911
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42276&lt;-&gt;127.0.0.1:45911
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.502 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:45911
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.502 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.502 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:45911[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.503 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.503 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45911]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.505 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
18:07:48.506 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.506 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.507 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42276&lt;-&gt;127.0.0.1:45911
18:07:48.507 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.509 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.509 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.509 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45911
18:07:48.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.509 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 30
18:07:48.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:45911
18:07:48.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
18:07:48.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.510 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:45911[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.510 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.513 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45911]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.519 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.519 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/date
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 36
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.525 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42276&lt;-&gt;127.0.0.1:45911
18:07:48.525 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.526 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@632238a6
18:07:48.533 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@21f864df
18:07:48.535 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@230d5330
18:07:48.541 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33f29e92
18:07:48.541 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5633e2a9
18:07:48.550 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2959d104
18:07:48.555 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5e3f2543
18:07:48.556 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@26a56f55
18:07:48.557 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@15783ea2
18:07:48.559 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@15c9e145
18:07:48.563 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.563 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@4424deba
18:07:48.564 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.567 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.567 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.567 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40613
18:07:48.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40613
18:07:48.567 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40613
18:07:48.567 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42054&lt;-&gt;127.0.0.1:40613
18:07:48.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.568 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.568 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:40613
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.568 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:40613[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.568 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.575 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40613]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.579 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
18:07:48.580 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.581 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.581 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42054&lt;-&gt;127.0.0.1:40613
18:07:48.581 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.582 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.583 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.583 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40613
18:07:48.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.583 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 30
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:40613
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.583 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:40613[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.583 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.584 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40613]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.586 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
18:07:48.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
18:07:48.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
18:07:48.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/date
18:07:48.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 36
18:07:48.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.588 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42054&lt;-&gt;127.0.0.1:40613
18:07:48.588 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.589 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@21f864df
18:07:48.594 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1bb561ec
18:07:48.597 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2e6f7d83
18:07:48.598 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3445d3b2
18:07:48.598 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4e58132c
18:07:48.599 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@12a5f8ee
18:07:48.609 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5c436c7b
18:07:48.609 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@36b45460
18:07:48.611 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6ce40d39
18:07:48.611 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1b9fc2a4
18:07:48.611 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@2a250b1c
18:07:48.612 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.613 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.620 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34507
18:07:48.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34507
18:07:48.621 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34507
18:07:48.621 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44904&lt;-&gt;127.0.0.1:34507
18:07:48.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=peanut-butter
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34507
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34507[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.624 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34507]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@6036efc0]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.627 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.628 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
18:07:48.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.630 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44904&lt;-&gt;127.0.0.1:34507
18:07:48.630 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34507
18:07:48.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Cookie: flavor=peanut-butter
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34507
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34507[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.643 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34507]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@c3ec2f1]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.645 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
18:07:48.646 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.647 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44904&lt;-&gt;127.0.0.1:34507
18:07:48.647 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.648 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1bb561ec
18:07:48.652 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6a1cb8cc
18:07:48.654 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@75f6425a
18:07:48.654 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@500210dd
18:07:48.654 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@50c20338
18:07:48.655 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1cf099ad
18:07:48.655 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5f0f7268
18:07:48.659 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2aaa2522
18:07:48.659 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7c2e24ce
18:07:48.660 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@288f4279
18:07:48.671 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.671 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@50218294
18:07:48.672 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.675 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37187
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37187
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37187
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34544&lt;-&gt;127.0.0.1:37187
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:37187
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:37187[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.684 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37187]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@bb80266, flavor:ersatz.undertow.server.handlers.CookieImpl@57ffd61]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.687 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.687 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
18:07:48.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34544&lt;-&gt;127.0.0.1:37187
18:07:48.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.691 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.691 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.692 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37187
18:07:48.692 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /delta HTTP/1.1
18:07:48.692 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.692 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; PATCH /delta HTTP/1.1
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:37187
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.692 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;PATCH /delta HTTP/1.1[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:37187[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.693 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37187]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@3d1ae42, flavor:ersatz.undertow.server.handlers.CookieImpl@d165048]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.696 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
18:07:48.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.698 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34544&lt;-&gt;127.0.0.1:37187
18:07:48.698 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.699 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6a1cb8cc
18:07:48.729 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@bcf6588
18:07:48.731 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6e0e4805
18:07:48.732 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@12cf1880
18:07:48.732 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@580cb619
18:07:48.732 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e2097cf
18:07:48.732 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d683883
18:07:48.733 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@49d9024f
18:07:48.733 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3fcf2482
18:07:48.733 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@47d00db3
18:07:48.747 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.748 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.751 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@50bcaea5
18:07:48.760 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.761 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37253
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37253
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37253
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54664&lt;-&gt;127.0.0.1:37253
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37253
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37253[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.769 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.770 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.772 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ac0099e for /basic
18:07:48.772 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.773 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:48.774 [XNIO-28 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:48.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:48.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:48.774 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:48.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:48.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:48.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:48.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
18:07:48.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37253 requested authentication
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:48.775 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:48.780 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:48.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.780 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:48.780 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:48.790 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37253
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37253[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.791 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.791 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.798 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.814 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:48.828 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ac0099e for /basic
18:07:48.828 [XNIO-28 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:48.828 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.830 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
18:07:48.831 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.831 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.831 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:48.832 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:37253
18:07:48.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54664&lt;-&gt;127.0.0.1:37253
18:07:48.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.839 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.839 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.839 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37253
18:07:48.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37253
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37253[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.840 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ac0099e for /basic
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:48.841 [XNIO-28 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:48.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:48.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:48.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 0
18:07:48.842 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37253 requested authentication
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:48.842 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:48.843 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:48.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:37253
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.844 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:37253[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]} response {}}
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@5ac0099e for /basic
18:07:48.847 [XNIO-28 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:48.847 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37253]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.849 [XNIO-28 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.850 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/plain
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 27
18:07:48.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.850 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:48.850 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:37253
18:07:48.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54664&lt;-&gt;127.0.0.1:37253
18:07:48.851 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.851 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@bcf6588
18:07:48.856 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@bc2e590
18:07:48.864 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@705b377c
18:07:48.867 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@39532639
18:07:48.867 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6cfc387a
18:07:48.868 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2777da5b
18:07:48.871 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@28d003f7
18:07:48.872 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6b9cad66
18:07:48.872 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@af488f4
18:07:48.873 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@30a962a7
18:07:48.873 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.873 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@5a33b6b0
18:07:48.875 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.881 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.881 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40185
18:07:48.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40185
18:07:48.881 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40185
18:07:48.881 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40185 with timeout 0
18:07:48.881 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:48.881 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:48.881 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:48.925 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:48.926 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:48.926 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:48.926 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.926 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.926 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58952&lt;-&gt;127.0.0.1:40185
18:07:48.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.926 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40185
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.926 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40185[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.926 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.927 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.928 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.928 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@4c79144d for /basic
18:07:48.928 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.928 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:48.928 [XNIO-29 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:48.929 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:48.929 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:48.929 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
18:07:48.929 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40185 requested authentication
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:48.929 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40185
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.930 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40185[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.930 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@4c79144d for /basic
18:07:48.935 [XNIO-29 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:48.936 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.937 [XNIO-29 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.937 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
18:07:48.938 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.938 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.938 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:48.938 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:40185
18:07:48.939 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58952&lt;-&gt;127.0.0.1:40185
18:07:48.939 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.940 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.940 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.940 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40185
18:07:48.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40185
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40185[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.941 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.942 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.942 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@4c79144d for /basic
18:07:48.942 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.942 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:48.942 [XNIO-29 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:48.942 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:48.942 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.942 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:48.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:48.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.943 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 0
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40185 requested authentication
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:48.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.943 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40185
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40185[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:48.955 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.955 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:48.955 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]} response {}}
18:07:48.956 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:48.956 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@4c79144d for /basic
18:07:48.956 [XNIO-29 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:48.956 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40185]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:48.957 [XNIO-29 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/plain
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 27
18:07:48.959 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:48.959 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.959 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:48.959 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:40185
18:07:48.960 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58952&lt;-&gt;127.0.0.1:40185
18:07:48.960 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.961 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@bc2e590
18:07:48.968 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5f381429
18:07:48.979 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@357894b7
18:07:48.981 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5650ad6d
18:07:48.981 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@70d0a67c
18:07:48.983 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@37b6c26b
18:07:48.983 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@23e8267c
18:07:48.983 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@142104ed
18:07:48.984 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@14792f98
18:07:48.984 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@42da70ff
18:07:48.984 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.985 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.987 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@68cbbb24
18:07:48.991 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.991 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38055
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38055
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38055
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41436&lt;-&gt;127.0.0.1:38055
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.992 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:38055
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:38055[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.000 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.000 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.000 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@256f8a05 for /basic
18:07:49.001 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.001 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.001 [XNIO-30 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
18:07:49.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.002 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.002 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.002 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38055 requested authentication
18:07:49.002 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:49.003 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:38055
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.003 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:49.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.003 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:38055[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.004 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.007 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.007 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@256f8a05 for /basic
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.008 [XNIO-30 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
18:07:49.009 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38055 requested authentication
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41436&lt;-&gt;127.0.0.1:38055
18:07:49.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.021 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.021 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.021 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38055
18:07:49.022 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.022 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.022 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:38055
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:38055[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.024 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.025 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.025 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@256f8a05 for /basic
18:07:49.025 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.025 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.025 [XNIO-30 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
18:07:49.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38055 requested authentication
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:49.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:38055
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:38055[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@256f8a05 for /basic
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {}}
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38055]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.043 [XNIO-30 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 0
18:07:49.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.046 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.046 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.046 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38055 requested authentication
18:07:49.046 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.046 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41436&lt;-&gt;127.0.0.1:38055
18:07:49.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.051 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5f381429
18:07:49.063 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3eccb0bc
18:07:49.064 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@426d5c13
18:07:49.064 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3ec35d42
18:07:49.064 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@b5bfd03
18:07:49.069 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@654ea0d0
18:07:49.079 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4bb19618
18:07:49.083 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@140d1e7
18:07:49.083 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@13aad23f
18:07:49.092 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@638ea960
18:07:49.107 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.107 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@29b89047
18:07:49.108 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.110 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.111 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.111 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41649
18:07:49.111 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41649
18:07:49.111 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41649
18:07:49.111 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41649 with timeout 0
18:07:49.111 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:49.111 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:49.111 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:49.134 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:49.134 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:49.134 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:49.134 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.134 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.135 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54100&lt;-&gt;127.0.0.1:41649
18:07:49.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.135 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:41649
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:41649[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.141 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.142 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.142 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@674fedee for /basic
18:07:49.142 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.142 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.142 [XNIO-31 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
18:07:49.143 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41649 requested authentication
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:49.143 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:41649
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.144 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:41649[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.146 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.146 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.146 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.146 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.146 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@674fedee for /basic
18:07:49.147 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.147 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.147 [XNIO-31 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
18:07:49.148 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41649 requested authentication
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54100&lt;-&gt;127.0.0.1:41649
18:07:49.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.149 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.149 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.149 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41649
18:07:49.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.149 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
18:07:49.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:41649
18:07:49.149 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.150 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:41649[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.150 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@674fedee for /basic
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.151 [XNIO-31 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
18:07:49.152 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41649 requested authentication
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /basic HTTP/1.1
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.152 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:49.153 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; PATCH /basic HTTP/1.1
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:41649
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.153 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;PATCH /basic HTTP/1.1[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:41649[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.153 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.154 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.154 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@674fedee for /basic
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {}}
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ PATCH /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41649]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.155 [XNIO-31 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 0
18:07:49.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41649 requested authentication
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54100&lt;-&gt;127.0.0.1:41649
18:07:49.156 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.157 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3eccb0bc
18:07:49.184 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@f78afa
18:07:49.186 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@40b29650
18:07:49.188 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4d634f3e
18:07:49.188 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@63b83e7b
18:07:49.188 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2af8cd19
18:07:49.189 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7d236759
18:07:49.189 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e5eaecc
18:07:49.188 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6fb64424
18:07:49.188 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1c477773
18:07:49.189 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.189 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@7047cda4
18:07:49.191 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.197 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.197 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.197 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36629
18:07:49.197 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36629
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36629
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56736&lt;-&gt;127.0.0.1:36629
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
18:07:49.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:36629
18:07:49.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
18:07:49.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.200 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:36629[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.200 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.202 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.206 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.206 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48ef8760 for /digest
18:07:49.206 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.209 [XNIO-32 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
18:07:49.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
18:07:49.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36629 requested authentication
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.211 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.215 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.215 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.215 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.215 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.215 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.218 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:36629
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.218 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:36629[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.218 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.219 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.219 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.222 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.235 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:49.235 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48ef8760 for /digest
18:07:49.235 [XNIO-32 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:49.235 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;, uri=&quot;/digest&quot;, response=&quot;86f731f613757e96376e470e2d134342&quot;, qop=auth, nc=00000001, cnonce=&quot;e732a7d784411b58&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.236 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ec1350400ae96df328f8502679afecbf&quot;,cnonce=&quot;e732a7d784411b58&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ec1350400ae96df328f8502679afecbf&quot;,cnonce=&quot;e732a7d784411b58&quot;,nc=00000001[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Authentication-Info: nextnonce=&quot;xZEOLj9HjsUNMTU2NTQ3ODQ2OTIwN+kYJeE6otlhXHhnm+8qGuY=&quot;,qop=&quot;auth&quot;,rspauth=&quot;ec1350400ae96df328f8502679afecbf&quot;,cnonce=&quot;e732a7d784411b58&quot;,nc=00000001
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
18:07:49.236 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.237 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:49.237 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:36629
18:07:49.238 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56736&lt;-&gt;127.0.0.1:36629
18:07:49.238 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.239 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.239 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.239 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36629
18:07:49.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.239 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:36629
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:36629[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.241 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.241 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.241 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48ef8760 for /digest
18:07:49.241 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.241 [XNIO-32 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
18:07:49.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 0
18:07:49.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:36629 requested authentication
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:36629
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:36629[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.244 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.244 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.244 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]} response {}}
18:07:49.246 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:49.246 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@48ef8760 for /digest
18:07:49.246 [XNIO-32 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:49.246 [XNIO-32 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;, uri=&quot;/digest&quot;, response=&quot;8ff885935677fae026c2d222a2ad9db8&quot;, qop=auth, nc=00000001, cnonce=&quot;c92ca5618a42ed82&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36629]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.247 [XNIO-32 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e05c782092b73a3a4ad789ef09a48024&quot;,cnonce=&quot;c92ca5618a42ed82&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:49.247 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e05c782092b73a3a4ad789ef09a48024&quot;,cnonce=&quot;c92ca5618a42ed82&quot;,nc=00000001[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Authentication-Info: nextnonce=&quot;5DKn3XFCYtENMTU2NTQ3ODQ2OTI0MUhiUEFmC/3dt5sYTaWsrxw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e05c782092b73a3a4ad789ef09a48024&quot;,cnonce=&quot;c92ca5618a42ed82&quot;,nc=00000001
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
18:07:49.248 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
18:07:49.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:36629
18:07:49.251 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56736&lt;-&gt;127.0.0.1:36629
18:07:49.251 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.251 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@f78afa
18:07:49.256 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38c0046d
18:07:49.271 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@743f2219
18:07:49.279 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@787cb156
18:07:49.279 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@76801937
18:07:49.279 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e72f6ad
18:07:49.279 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6a4a26d4
18:07:49.281 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@71b705f
18:07:49.283 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@68f700c4
18:07:49.283 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.283 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@63275b4d
18:07:49.283 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@367457a3
18:07:49.292 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.296 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.296 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.296 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37409
18:07:49.296 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37409
18:07:49.296 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37409
18:07:49.296 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37409 with timeout 0
18:07:49.296 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:49.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:49.297 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:49.332 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:49.332 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:49.332 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:49.333 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.333 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.333 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50558&lt;-&gt;127.0.0.1:37409
18:07:49.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.333 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37409
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.333 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37409[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.333 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.337 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.337 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.337 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1336b3d7 for /digest
18:07:49.337 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.337 [XNIO-33 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
18:07:49.338 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37409 requested authentication
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.338 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37409
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37409[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.341 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.341 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.341 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.343 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:49.343 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1336b3d7 for /digest
18:07:49.343 [XNIO-33 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:49.343 [XNIO-33 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;, uri=&quot;/digest&quot;, response=&quot;69cd1f7003738bb65776f6e16de3ba38&quot;, qop=auth, nc=00000001, cnonce=&quot;24b38a5913bae1b6&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.344 [XNIO-33 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f1dbfec67908acf80c9c4daa1bc23669&quot;,cnonce=&quot;24b38a5913bae1b6&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f1dbfec67908acf80c9c4daa1bc23669&quot;,cnonce=&quot;24b38a5913bae1b6&quot;,nc=00000001[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Authentication-Info: nextnonce=&quot;6xmBIlWGz88NMTU2NTQ3ODQ2OTMzN8EcY2bea9ELw/oCcTOZV8U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f1dbfec67908acf80c9c4daa1bc23669&quot;,cnonce=&quot;24b38a5913bae1b6&quot;,nc=00000001
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
18:07:49.351 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.351 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.351 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:49.351 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:37409
18:07:49.352 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50558&lt;-&gt;127.0.0.1:37409
18:07:49.352 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.353 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37409
18:07:49.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37409
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37409[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.363 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.363 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.363 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1336b3d7 for /digest
18:07:49.363 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.364 [XNIO-33 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.364 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.364 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.364 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 0
18:07:49.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37409 requested authentication
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.365 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.366 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:37409
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:37409[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.366 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.378 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.382 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.386 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]} response {}}
18:07:49.393 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:49.393 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1336b3d7 for /digest
18:07:49.393 [XNIO-33 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:49.393 [XNIO-33 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;, uri=&quot;/digest&quot;, response=&quot;f05d0ea991d6d3cb70f85fcb787b691b&quot;, qop=auth, nc=00000001, cnonce=&quot;e9e4a38e8cf9a93d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37409]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.394 [XNIO-33 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e098dd825d953199514abfc0816ca031&quot;,cnonce=&quot;e9e4a38e8cf9a93d&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:49.395 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.395 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e098dd825d953199514abfc0816ca031&quot;,cnonce=&quot;e9e4a38e8cf9a93d&quot;,nc=00000001[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Authentication-Info: nextnonce=&quot;Ym+b0s0x7ZMNMTU2NTQ3ODQ2OTM2M/uBN63l+RvSvTG7SpPk5xc=&quot;,qop=&quot;auth&quot;,rspauth=&quot;e098dd825d953199514abfc0816ca031&quot;,cnonce=&quot;e9e4a38e8cf9a93d&quot;,nc=00000001
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/plain
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 27
18:07:49.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.396 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:49.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:37409
18:07:49.397 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50558&lt;-&gt;127.0.0.1:37409
18:07:49.398 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.398 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38c0046d
18:07:49.414 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1215e0ad
18:07:49.423 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@c480a13
18:07:49.427 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5303b767
18:07:49.438 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7c5a3488
18:07:49.453 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4fc8047e
18:07:49.453 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3e3f5450
18:07:49.457 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35a3c3c8
18:07:49.457 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@58e92b4e
18:07:49.459 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@33772aa1
18:07:49.460 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.460 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.465 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.466 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38687
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38687
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38687
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43680&lt;-&gt;127.0.0.1:38687
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38687
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38687[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.467 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@1731fb77
18:07:49.470 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.471 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.471 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@32b675fd for /digest
18:07:49.471 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.471 [XNIO-34 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.471 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
18:07:49.472 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38687 requested authentication
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.472 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38687
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38687[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.484 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.484 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.485 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.485 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.485 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@32b675fd for /digest
18:07:49.485 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;oiHMI4dJ18YNMTU2NTQ3ODQ2OTQ3MZxu17aqNuCdKg3vkD4LYts=&quot;, uri=&quot;/digest&quot;, response=&quot;bd9ff1fde06fa99e41c36b43a80e533b&quot;, qop=auth, nc=00000001, cnonce=&quot;b37b82f4a401580c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.485 [XNIO-34 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;fOCoW2kkUnkNMTU2NTQ3ODQ2OTQ4Ncn50k0US+0K8eLwQABqAMU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;fOCoW2kkUnkNMTU2NTQ3ODQ2OTQ4Ncn50k0US+0K8eLwQABqAMU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
18:07:49.486 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38687 requested authentication
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43680&lt;-&gt;127.0.0.1:38687
18:07:49.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.488 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.489 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38687
18:07:49.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38687
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38687[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.491 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.491 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.491 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@32b675fd for /digest
18:07:49.491 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.491 [XNIO-34 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
18:07:49.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38687 requested authentication
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.492 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.493 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:38687
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:38687[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.495 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.495 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.495 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.496 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.496 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@32b675fd for /digest
18:07:49.497 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;thsGOUdf+NYNMTU2NTQ3ODQ2OTQ5MVIPWgA1l0K89TuPKGw4k7A=&quot;, uri=&quot;/digest&quot;, response=&quot;b3f255a54a440d5c0b19612a410c02cf&quot;, qop=auth, nc=00000001, cnonce=&quot;3c956862b02d13af&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38687]} response {}}
18:07:49.497 [XNIO-34 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;9pCie0+AgsUNMTU2NTQ3ODQ2OTQ5N7xcEaOeIG9M5ng9hisV/Uk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.497 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;9pCie0+AgsUNMTU2NTQ3ODQ2OTQ5N7xcEaOeIG9M5ng9hisV/Uk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
18:07:49.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38687 requested authentication
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43680&lt;-&gt;127.0.0.1:38687
18:07:49.498 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.499 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1215e0ad
18:07:49.505 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@608bad9f
18:07:49.509 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@79555ebe
18:07:49.509 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@22940640
18:07:49.509 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4d97a9a7
18:07:49.509 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@48a01480
18:07:49.519 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@379b722d
18:07:49.535 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3544e9
18:07:49.539 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1cac7bd
18:07:49.547 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b1c9959
18:07:49.555 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.555 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@61c4d33
18:07:49.556 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.559 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.559 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.559 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40827
18:07:49.559 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40827
18:07:49.559 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40827
18:07:49.559 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40827 with timeout 0
18:07:49.559 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:49.560 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:49.560 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:49.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:49.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:49.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:49.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.592 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:49.592 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37296&lt;-&gt;127.0.0.1:40827
18:07:49.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.592 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
18:07:49.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40827
18:07:49.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.593 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40827[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.595 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.595 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.595 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62d7a722 for /digest
18:07:49.595 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.596 [XNIO-35 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
18:07:49.597 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40827 requested authentication
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.597 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.598 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40827
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40827[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.601 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.602 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.602 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.602 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.602 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62d7a722 for /digest
18:07:49.602 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;gLDx95O9ipQNMTU2NTQ3ODQ2OTU5NadR2OUrvr3/gULyTtPdmCU=&quot;, uri=&quot;/digest&quot;, response=&quot;b652931c6162aad2d10af66a3d2d97a8&quot;, qop=auth, nc=00000001, cnonce=&quot;a59fc307ba3390c7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.603 [XNIO-35 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xuvBtPn8r7cNMTU2NTQ3ODQ2OTYwM59QksQ+E2bL28GQUm4nnx8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.603 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;xuvBtPn8r7cNMTU2NTQ3ODQ2OTYwM59QksQ+E2bL28GQUm4nnx8=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
18:07:49.604 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40827 requested authentication
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37296&lt;-&gt;127.0.0.1:40827
18:07:49.604 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.605 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.605 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.605 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40827
18:07:49.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.605 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
18:07:49.605 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40827
18:07:49.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.606 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40827[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.606 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.615 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.615 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.615 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62d7a722 for /digest
18:07:49.620 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.621 [XNIO-35 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
18:07:49.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40827 requested authentication
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:49.622 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:49.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /digest HTTP/1.1
18:07:49.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.623 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:49.623 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; PATCH /digest HTTP/1.1
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:40827
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.623 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:49.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;PATCH /digest HTTP/1.1[\r][\n]&quot;
18:07:49.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.623 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:40827[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.625 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.626 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:49.626 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.626 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.626 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@62d7a722 for /digest
18:07:49.626 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ PATCH /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;kcNjzAxZ0WINMTU2NTQ3ODQ2OTYyMHWGuSS2TZUf28c8yZxaBEk=&quot;, uri=&quot;/digest&quot;, response=&quot;ff18586ee3093fcc9b2a7c81ba14d099&quot;, qop=auth, nc=00000001, cnonce=&quot;1382a5e4535b791a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40827]} response {}}
18:07:49.627 [XNIO-35 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;/HOPqlWEpgANMTU2NTQ3ODQ2OTYyNgq9AcZVW/W/dIcae/WnfwA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.627 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.627 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.627 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;/HOPqlWEpgANMTU2NTQ3ODQ2OTYyNgq9AcZVW/W/dIcae/WnfwA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:49.628 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
18:07:49.628 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40827 requested authentication
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37296&lt;-&gt;127.0.0.1:40827
18:07:49.628 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.629 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@608bad9f
18:07:49.637 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3f7c2326
18:07:49.647 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@893a328
18:07:49.651 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5c8a553
18:07:49.659 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@21d37d79
18:07:49.667 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3d183418
18:07:49.669 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a8b414f
18:07:49.670 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@56f95f1b
18:07:49.670 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2648d3fb
18:07:49.671 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@65460583
18:07:49.673 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.673 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@1feafaa2
18:07:49.678 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.750 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42465
18:07:49.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42465
18:07:49.750 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42465
18:07:49.750 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54352&lt;-&gt;127.0.0.1:42465
18:07:49.751 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.751 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
18:07:49.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
18:07:49.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /pass HTTP/1.1
18:07:49.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
18:07:49.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:42465
18:07:49.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
18:07:49.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.752 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:42465[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.752 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.756 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42465]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.757 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.758 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.759 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.759 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.760 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
18:07:49.760 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.760 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
18:07:49.762 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54352&lt;-&gt;127.0.0.1:42465
18:07:49.762 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.762 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.762 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
18:07:49.763 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.763 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.763 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
18:07:49.763 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.763 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42465
18:07:49.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /pass HTTP/1.1
18:07:49.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; PATCH /pass HTTP/1.1
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:42465
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;PATCH /pass HTTP/1.1[\r][\n]&quot;
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:42465[\r][\n]&quot;
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.765 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.778 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.778 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
18:07:49.778 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42465]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.785 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/plain
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 27
18:07:49.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.786 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.786 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
18:07:49.786 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.786 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
18:07:49.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54352&lt;-&gt;127.0.0.1:42465
18:07:49.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.787 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3f7c2326
18:07:49.790 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.791 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
18:07:49.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
18:07:49.792 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:49.792 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
18:07:49.802 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@21888049
18:07:49.806 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@122048c5
18:07:49.806 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@fddc221
18:07:49.807 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@48099be
18:07:49.807 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@a45aa21
18:07:49.807 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@27203634
18:07:49.808 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f41f9a2
18:07:49.808 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4e1937a6
18:07:49.811 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5c6d825d
18:07:49.815 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.815 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@35ca97d3
18:07:49.815 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.826 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.826 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32921
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32921
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32921
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52980&lt;-&gt;127.0.0.1:32921
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.826 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:32921
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:32921[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.827 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.835 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32921]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.836 [XNIO-37 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:49.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:49.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:49.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
18:07:49.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.836 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52980&lt;-&gt;127.0.0.1:32921
18:07:49.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32921
18:07:49.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:32921
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:32921[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.845 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32921]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.848 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:49.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:49.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:49.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
18:07:49.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.849 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52980&lt;-&gt;127.0.0.1:32921
18:07:49.849 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.850 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@21888049
18:07:49.855 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@21b55c5d
18:07:49.864 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3185a55a
18:07:49.871 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5ea595b7
18:07:49.874 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1cf0f6c6
18:07:49.883 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@508bd319
18:07:49.887 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a9756c0
18:07:49.890 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@145e6180
18:07:49.897 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7c723b25
18:07:49.907 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4628781f
18:07:49.911 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.911 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@5083d4b1
18:07:49.912 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.916 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.916 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.916 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33595
18:07:49.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33595
18:07:49.916 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33595
18:07:49.917 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:32946&lt;-&gt;127.0.0.1:33595
18:07:49.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:33595
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:33595[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.931 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33595]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.932 [XNIO-38 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:49.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.932 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.932 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 210 Unknown
18:07:49.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:49.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
18:07:49.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.933 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32946&lt;-&gt;127.0.0.1:33595
18:07:49.933 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.934 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.934 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33595
18:07:49.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.934 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:33595
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.934 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:33595[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.938 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33595]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.939 [XNIO-38 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:49.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.940 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 210 Unknown
18:07:49.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:49.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
18:07:49.940 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.940 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.940 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:32946&lt;-&gt;127.0.0.1:33595
18:07:49.940 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.941 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@21b55c5d
18:07:49.945 [XNIO-38 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
18:07:49.947 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@b16e365
18:07:49.950 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2cdc94ad
18:07:49.955 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@48d4f3e8
18:07:49.962 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@674b3ad9
18:07:49.963 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7afa45e4
18:07:49.966 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1d422aed
18:07:49.967 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@30b222b7
18:07:49.968 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@42900418
18:07:49.968 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3ad57596
18:07:49.971 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.971 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.975 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.975 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42941
18:07:49.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42941
18:07:49.975 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42941
18:07:49.976 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:35222&lt;-&gt;127.0.0.1:42941
18:07:49.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42941
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42941[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.978 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@7b947820
18:07:49.980 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42941]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.982 [XNIO-39 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:49.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.983 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 211 Unknown
18:07:49.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:49.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:49.983 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.983 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35222&lt;-&gt;127.0.0.1:42941
18:07:49.983 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.984 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42941
18:07:49.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:49.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; PATCH /handling HTTP/1.1
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42941
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42941[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:49.995 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42941]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:49.997 [XNIO-39 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:49.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:49.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:49.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 211 Unknown
18:07:49.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:49.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:49.997 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:49.997 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.997 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:35222&lt;-&gt;127.0.0.1:42941
18:07:49.997 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.999 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@b16e365
18:07:50.006 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6db6e6b0
18:07:50.006 [XNIO-39 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
18:07:50.015 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7321184b
18:07:50.017 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@243091f0
18:07:50.017 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3dc8c98a
18:07:50.017 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3ff9d3bd
18:07:50.018 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@574056a6
18:07:50.018 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48ea6e76
18:07:50.018 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@bb91bef
18:07:50.017 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@f2c5759
18:07:50.018 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.019 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.028 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.028 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.028 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39487
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39487
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39487
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49876&lt;-&gt;127.0.0.1:39487
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.029 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:39487
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.029 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:39487[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.029 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.030 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@5f57ccb4
18:07:50.037 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.039 [XNIO-40 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:50.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:50.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.039 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49876&lt;-&gt;127.0.0.1:39487
18:07:50.039 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.040 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.041 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39487
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:39487
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:39487[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.044 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.045 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:50.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:50.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.046 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49876&lt;-&gt;127.0.0.1:39487
18:07:50.046 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.046 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6db6e6b0
18:07:50.051 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@f71ff89
18:07:50.053 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3d639c60
18:07:50.055 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4a86164d
18:07:50.068 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@27688907
18:07:50.068 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4403df0e
18:07:50.068 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5f4462d0
18:07:50.069 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@530b1267
18:07:50.077 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@33b02b42
18:07:50.077 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@583ba8c5
18:07:50.079 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.079 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.082 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@6763bb7
18:07:50.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.082 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.082 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37177
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37177
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37177
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33494&lt;-&gt;127.0.0.1:37177
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37177
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37177[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.094 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37177]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.096 [XNIO-41 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:50.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.096 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 210 Unknown
18:07:50.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
18:07:50.097 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.097 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.097 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33494&lt;-&gt;127.0.0.1:37177
18:07:50.097 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.098 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.098 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.098 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37177
18:07:50.098 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.098 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.099 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37177
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.099 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37177[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.106 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37177]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.107 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:50.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 210 Unknown
18:07:50.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
18:07:50.108 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.108 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.108 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33494&lt;-&gt;127.0.0.1:37177
18:07:50.108 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.109 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@f71ff89
18:07:50.116 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7d476e68
18:07:50.117 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4a968a04
18:07:50.119 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@425c8e0e
18:07:50.119 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@14ed3a3e
18:07:50.121 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a73c9bb
18:07:50.121 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e76d09f
18:07:50.121 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@ae9ae84
18:07:50.121 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1861d87a
18:07:50.122 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@23785514
18:07:50.123 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.123 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.124 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@7d574cfe
18:07:50.126 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.127 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32845
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:32845
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32845
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60142&lt;-&gt;127.0.0.1:32845
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.127 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:32845
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.127 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:32845[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.127 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.131 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32845]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.132 [XNIO-42 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:50.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.133 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 211 Unknown
18:07:50.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
18:07:50.133 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.133 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.133 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60142&lt;-&gt;127.0.0.1:32845
18:07:50.133 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.134 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.134 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.134 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:32845
18:07:50.134 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.134 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.134 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:32845
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.134 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.135 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:32845[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.135 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.139 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32845]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.140 [XNIO-42 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:50.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.140 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 211 Unknown
18:07:50.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
18:07:50.141 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.141 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.141 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60142&lt;-&gt;127.0.0.1:32845
18:07:50.141 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.141 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7d476e68
18:07:50.148 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a635092
18:07:50.151 [XNIO-42 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
18:07:50.175 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1547dbe6
18:07:50.179 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17a05f06
18:07:50.179 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@321d1645
18:07:50.180 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@73b4f65
18:07:50.183 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4d9fd330
18:07:50.186 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4855391
18:07:50.186 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27c6232a
18:07:50.186 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@136f54c5
18:07:50.195 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.195 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.202 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.202 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.202 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36335
18:07:50.202 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36335
18:07:50.202 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36335
18:07:50.203 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37124&lt;-&gt;127.0.0.1:36335
18:07:50.203 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.203 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.203 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:36335
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.203 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:36335[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.203 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.204 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@6f8b5226
18:07:50.208 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36335]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.210 [XNIO-43 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.210 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
18:07:50.210 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.210 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.210 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37124&lt;-&gt;127.0.0.1:36335
18:07:50.212 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.213 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.213 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.213 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36335
18:07:50.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:36335
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:36335[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.218 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36335]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.227 [XNIO-43 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.227 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.228 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 200 OK
18:07:50.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.228 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.228 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.228 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37124&lt;-&gt;127.0.0.1:36335
18:07:50.228 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.229 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a635092
18:07:50.234 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6694967c
18:07:50.238 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@38f08a92
18:07:50.238 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@18d106ab
18:07:50.239 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@f77a1cc
18:07:50.243 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@86814cc
18:07:50.244 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@30d3207b
18:07:50.245 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4549cc9e
18:07:50.245 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@d094af6
18:07:50.245 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@59e844c6
18:07:50.245 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.246 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.247 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@2ba75365
18:07:50.249 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.249 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39879
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39879
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39879
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37824&lt;-&gt;127.0.0.1:39879
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:39879
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.249 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:39879[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.259 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39879]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.261 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:50.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.261 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:50.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.261 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.262 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37824&lt;-&gt;127.0.0.1:39879
18:07:50.262 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.263 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.263 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.263 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39879
18:07:50.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.263 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:39879
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.263 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:39879[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.263 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.273 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39879]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.276 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:50.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.276 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:50.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.276 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.276 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.276 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37824&lt;-&gt;127.0.0.1:39879
18:07:50.276 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.277 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6694967c
18:07:50.281 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@34277095
18:07:50.294 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@66583ec5
18:07:50.295 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7fcd2df6
18:07:50.300 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@587f683e
18:07:50.300 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1d922443
18:07:50.301 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@a2affb6
18:07:50.312 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@27b5d86d
18:07:50.312 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1343f727
18:07:50.312 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@212f4a38
18:07:50.313 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.313 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@4df157e7
18:07:50.314 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.316 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.316 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35131
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35131
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35131
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57824&lt;-&gt;127.0.0.1:35131
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:35131
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:35131[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.327 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35131]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.328 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:50.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:50.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
18:07:50.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
18:07:50.329 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.329 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.329 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57824&lt;-&gt;127.0.0.1:35131
18:07:50.329 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.330 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.330 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.330 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35131
18:07:50.330 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.330 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.330 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:35131
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:35131[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.338 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35131]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.339 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:50.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:50.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
18:07:50.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
18:07:50.340 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.340 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.340 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57824&lt;-&gt;127.0.0.1:35131
18:07:50.340 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.340 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@34277095
18:07:50.345 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@65fa3c1
18:07:50.361 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@16bd2088
18:07:50.363 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7b81a81f
18:07:50.361 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@41208faf
18:07:50.365 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@ab8f412
18:07:50.367 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2405f90d
18:07:50.371 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5fe93d95
18:07:50.374 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f4a8a2
18:07:50.375 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4295148a
18:07:50.375 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.375 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@4c0b4e85
18:07:50.375 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.377 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.378 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33349
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33349
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33349
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50944&lt;-&gt;127.0.0.1:33349
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.378 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:33349
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.378 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.378 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.378 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.378 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.378 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:33349[\r][\n]&quot;
18:07:50.378 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.379 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.395 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33349]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.407 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:50.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:50.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
18:07:50.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
18:07:50.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.407 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50944&lt;-&gt;127.0.0.1:33349
18:07:50.407 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.408 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.409 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.409 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33349
18:07:50.409 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.409 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.409 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:33349
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.409 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:33349[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.409 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.423 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33349]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.424 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:50.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.424 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.424 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:50.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
18:07:50.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
18:07:50.425 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50944&lt;-&gt;127.0.0.1:33349
18:07:50.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.426 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@65fa3c1
18:07:50.432 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@61d7ad75
18:07:50.439 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2834994
18:07:50.441 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1c310868
18:07:50.441 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6e985c42
18:07:50.442 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@f288232
18:07:50.442 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@73106b8b
18:07:50.441 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@17248245
18:07:50.455 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6553447e
18:07:50.459 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@af8d3ef
18:07:50.461 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.461 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@79661e95
18:07:50.462 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.472 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.472 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.472 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45205
18:07:50.472 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45205
18:07:50.473 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45205
18:07:50.473 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59836&lt;-&gt;127.0.0.1:45205
18:07:50.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.473 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:45205
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.473 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:45205[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.474 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45205]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.476 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
18:07:50.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
18:07:50.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
18:07:50.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59836&lt;-&gt;127.0.0.1:45205
18:07:50.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45205
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:45205
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.479 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:45205[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.487 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45205]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.489 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 200 OK
18:07:50.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
18:07:50.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
18:07:50.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59836&lt;-&gt;127.0.0.1:45205
18:07:50.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.490 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@61d7ad75
18:07:50.497 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2ae66ca5
18:07:50.500 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@38d67845
18:07:50.500 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@39a44d93
18:07:50.501 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7abe1838
18:07:50.511 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68a3c129
18:07:50.506 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@78964d09
18:07:50.515 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@36483ee1
18:07:50.517 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2f1f5d4b
18:07:50.518 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.518 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@473b7e9b
18:07:50.518 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.520 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.520 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.520 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41283
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41283
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41283
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43996&lt;-&gt;127.0.0.1:41283
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:41283
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:41283[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.517 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2869e78d
18:07:50.525 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41283]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.526 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:50.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.526 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:50.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
18:07:50.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
18:07:50.526 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.526 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.526 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43996&lt;-&gt;127.0.0.1:41283
18:07:50.526 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.527 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.527 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.527 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41283
18:07:50.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.527 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:41283
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
18:07:50.527 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.528 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:41283[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.528 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.531 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41283]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.533 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:50.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:50.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
18:07:50.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
18:07:50.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.534 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43996&lt;-&gt;127.0.0.1:41283
18:07:50.534 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.534 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2ae66ca5
18:07:50.542 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3d8efbf2
18:07:50.547 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@63380374
18:07:50.559 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@34714a04
18:07:50.547 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14f2bc4a
18:07:50.563 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4976b6e6
18:07:50.571 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@59a32075
18:07:50.575 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@162ddb4f
18:07:50.579 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@483b5313
18:07:50.579 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@14cc25d3
18:07:50.579 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.580 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@626c393b
18:07:50.580 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.587 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.587 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42353
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42353
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42353
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43846&lt;-&gt;127.0.0.1:42353
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.587 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
18:07:50.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:42353
18:07:50.587 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
18:07:50.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.588 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:42353[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.588 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.595 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42353]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.596 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:50.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.596 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:50.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
18:07:50.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
18:07:50.596 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.596 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.597 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43846&lt;-&gt;127.0.0.1:42353
18:07:50.597 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.597 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.598 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.598 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42353
18:07:50.598 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.598 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.598 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:42353
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.598 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:42353[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.598 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.599 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42353]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.600 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:50.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.601 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:50.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
18:07:50.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
18:07:50.601 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.602 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.603 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43846&lt;-&gt;127.0.0.1:42353
18:07:50.603 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.603 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3d8efbf2
18:07:50.607 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6d57cd8c
18:07:50.611 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@33cd8bbd
18:07:50.619 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@14b0b6aa
18:07:50.623 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@639d4b1f
18:07:50.623 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5a1b3ba0
18:07:50.624 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2a6b4041
18:07:50.624 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@f715efd
18:07:50.625 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@28861081
18:07:50.625 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6669f2d0
18:07:50.625 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.625 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@198bde4c
18:07:50.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.628 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.628 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.628 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41753
18:07:50.628 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41753
18:07:50.629 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41753
18:07:50.629 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60602&lt;-&gt;127.0.0.1:41753
18:07:50.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.629 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:41753
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.629 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:41753[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.629 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.631 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41753]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.633 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:50.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.634 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:50.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
18:07:50.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
18:07:50.634 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.634 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.634 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60602&lt;-&gt;127.0.0.1:41753
18:07:50.634 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.635 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.635 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.635 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41753
18:07:50.635 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /handling HTTP/1.1
18:07:50.635 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.635 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; PATCH /handling HTTP/1.1
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:41753
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.635 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;PATCH /handling HTTP/1.1[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:41753[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.635 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.643 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41753]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.644 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:50.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.644 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.644 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60602&lt;-&gt;127.0.0.1:41753
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.645 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6d57cd8c
18:07:50.652 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@53412094
18:07:50.657 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@939f749
18:07:50.659 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2447eae2
18:07:50.667 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@153a7fbb
18:07:50.674 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@52700ae6
18:07:50.675 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2b1dee25
18:07:50.674 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@37d30faf
18:07:50.675 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@23d61d82
18:07:50.675 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.675 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@c24e08a
18:07:50.675 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@47e60cce
18:07:50.675 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.679 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40279
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40279
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40279
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47054&lt;-&gt;127.0.0.1:40279
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /gzip HTTP/1.1
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:40279
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
18:07:50.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:40279[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.681 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40279]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.682 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Encoding: gzip
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Type: text/plain
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 29
18:07:50.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.687 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47054&lt;-&gt;127.0.0.1:40279
18:07:50.687 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.688 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.688 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40279
18:07:50.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /gzip HTTP/1.1
18:07:50.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; PATCH /gzip HTTP/1.1
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:40279
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
18:07:50.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;PATCH /gzip HTTP/1.1[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:40279[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
18:07:50.691 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40279]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
18:07:50.692 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 200 OK
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Encoding: gzip
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Type: text/plain
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 29
18:07:50.693 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47054&lt;-&gt;127.0.0.1:40279
18:07:50.694 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.694 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@53412094
18:07:50.700 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29cb4228
18:07:50.707 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3f90f4af
18:07:50.709 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@49d76f87
18:07:50.709 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4891b29a
18:07:50.709 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@45f130af
18:07:50.707 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@39032b13
18:07:50.709 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3c78070b
18:07:50.719 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3c78a864
18:07:50.719 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6ea061ab
18:07:50.723 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.723 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@37121757
18:07:50.724 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.729 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.729 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37183
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37183
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37183
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48394&lt;-&gt;127.0.0.1:37183
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.730 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 19
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:37183
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.730 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:37183[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
18:07:50.731 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37183]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
18:07:50.732 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.732 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
18:07:50.733 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.733 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.733 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48394&lt;-&gt;127.0.0.1:37183
18:07:50.733 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.734 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.734 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37183
18:07:50.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 19
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:37183
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.734 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:37183[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.734 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
18:07:50.747 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37183]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
18:07:50.748 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
18:07:50.749 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.749 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48394&lt;-&gt;127.0.0.1:37183
18:07:50.750 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.751 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29cb4228
18:07:50.754 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4cb121ca
18:07:50.759 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@31623b2d
18:07:50.759 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3eb02388
18:07:50.760 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2e9e302a
18:07:50.763 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4603a370
18:07:50.771 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@184fd1f5
18:07:50.771 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@52197546
18:07:50.775 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5f6ee86d
18:07:50.779 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.779 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@360dabc1
18:07:50.780 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.782 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.782 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41123
18:07:50.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41123
18:07:50.782 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a66d294
18:07:50.783 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41123
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45590&lt;-&gt;127.0.0.1:41123
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/xml; charset=utf-8
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 46
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:41123
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.786 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:41123[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.786 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
18:07:50.789 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41123]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
18:07:50.790 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
18:07:50.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45590&lt;-&gt;127.0.0.1:41123
18:07:50.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.792 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.792 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41123
18:07:50.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.793 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/xml; charset=utf-8
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 46
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:41123
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.793 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:41123[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.793 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
18:07:50.793 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41123]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
18:07:50.795 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
18:07:50.796 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.796 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.796 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45590&lt;-&gt;127.0.0.1:41123
18:07:50.796 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.797 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4cb121ca
18:07:50.800 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@201e5d44
18:07:50.801 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a2e6fbc
18:07:50.802 [XNIO-53 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /types request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41123]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sat, 10 Aug 2019 23:07:45 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:50.802 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@615d6494
18:07:50.807 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@57fb1afd
18:07:50.801 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@cd8d9c0
18:07:50.811 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@503788b2
18:07:50.811 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2d1e4466
18:07:50.814 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4c765b6
18:07:50.814 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@e60f13a
18:07:50.814 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.815 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.817 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.817 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.817 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41153
18:07:50.817 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41153
18:07:50.817 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41153
18:07:50.818 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48570&lt;-&gt;127.0.0.1:41153
18:07:50.818 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.818 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.818 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: text/html; charset=utf-8
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 7
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:41153
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.818 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:41153[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.818 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;ok-html&quot;
18:07:50.818 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@43f5328a
18:07:50.824 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41153]}, cookies=[:]): ok-html }
18:07:50.826 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
18:07:50.827 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.827 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48570&lt;-&gt;127.0.0.1:41153
18:07:50.827 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.828 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.828 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.828 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41153
18:07:50.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /types HTTP/1.1
18:07:50.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; PATCH /types HTTP/1.1
18:07:50.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: text/html; charset=utf-8
18:07:50.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 7
18:07:50.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:41153
18:07:50.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
18:07:50.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;PATCH /types HTTP/1.1[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:41153[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;ok-html&quot;
18:07:50.837 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41153]}, cookies=[:]): ok-html }
18:07:50.838 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 200 OK
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
18:07:50.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.840 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48570&lt;-&gt;127.0.0.1:41153
18:07:50.840 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.840 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@201e5d44
18:07:50.846 [XNIO-54 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ PATCH /types request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41153]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sat, 10 Aug 2019 23:07:45 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:50.847 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@24344246
18:07:50.850 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@56d583ff
18:07:50.851 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1af29bb4
18:07:50.851 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6572a78e
18:07:50.854 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77df26b6
18:07:50.855 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7d45574e
18:07:50.859 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@582be6a2
18:07:50.859 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1f0284a4
18:07:50.860 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3754ef05
18:07:50.860 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.860 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@689de95e
18:07:50.861 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.875 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.875 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.875 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41665
18:07:50.875 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41665
18:07:50.875 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41665
18:07:50.876 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58168&lt;-&gt;127.0.0.1:41665
18:07:50.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
18:07:50.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /form HTTP/1.1
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 34
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:41665
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
18:07:50.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.877 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:41665[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
18:07:50.879 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41665]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
18:07:50.897 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
18:07:50.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58168&lt;-&gt;127.0.0.1:41665
18:07:50.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.899 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.899 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41665
18:07:50.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
18:07:50.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.899 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; PATCH /form HTTP/1.1
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 34
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:41665
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
18:07:50.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
18:07:50.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
18:07:50.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:41665[\r][\n]&quot;
18:07:50.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
18:07:50.907 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41665]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
18:07:50.908 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 200 OK
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
18:07:50.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.909 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58168&lt;-&gt;127.0.0.1:41665
18:07:50.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.910 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@24344246
18:07:50.913 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2c5a1630
18:07:50.919 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@355995a8
18:07:50.923 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c289c71
18:07:50.927 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6edeb39b
18:07:50.931 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@488937e3
18:07:50.936 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@37a21624
18:07:50.939 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35db9ca4
18:07:50.940 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5e302218
18:07:50.945 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7193979f
18:07:50.951 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.951 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@3b89def0
18:07:50.951 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.953 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.953 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.953 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39251
18:07:50.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39251
18:07:50.953 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39251
18:07:50.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39251 with timeout 0
18:07:50.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:50.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:50.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:50.989 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:50.989 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:50.989 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:50.989 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.989 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.989 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52132&lt;-&gt;127.0.0.1:39251
18:07:50.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
18:07:50.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.989 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /form HTTP/1.1
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 34
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:39251
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.989 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:39251[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.989 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
18:07:50.995 [XNIO-56 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39251]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
18:07:50.996 [XNIO-56 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.997 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
18:07:50.998 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:50.998 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.998 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52132&lt;-&gt;127.0.0.1:39251
18:07:50.998 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.999 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.999 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.999 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39251
18:07:50.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /form HTTP/1.1
18:07:50.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.999 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; PATCH /form HTTP/1.1
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 34
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:39251
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.999 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;PATCH /form HTTP/1.1[\r][\n]&quot;
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:39251[\r][\n]&quot;
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.999 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
18:07:51.007 [XNIO-56 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39251]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
18:07:51.010 [XNIO-56 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
18:07:51.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:51.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52132&lt;-&gt;127.0.0.1:39251
18:07:51.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.012 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2c5a1630
18:07:51.016 [XNIO-56 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
18:07:51.035 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7034dbbb
18:07:51.036 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@20cc7b36
18:07:51.036 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@44003420
18:07:51.036 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5fe25000
18:07:51.037 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31d99831
18:07:51.042 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6fc7f4a0
18:07:51.043 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
18:07:51.042 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2d70d1c3
18:07:51.042 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7207cb6
18:07:51.043 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.043 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
18:07:51.043 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.078 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39585
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39585
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39585
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57694&lt;-&gt;127.0.0.1:39585
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.079 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /upload HTTP/1.1
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: multipart/form-data; boundary=UEVWFGKJ4L; charset=utf-8
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 336
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:39585
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.079 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=UEVWFGKJ4L; charset=utf-8[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:39585[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--UEVWFGKJ4L[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;some data[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--UEVWFGKJ4L[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
18:07:51.079 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--UEVWFGKJ4L--[\r][\n]&quot;
18:07:51.091 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=UEVWFGKJ4L; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39585]}, cookies=[:]): --UEVWFGKJ4L
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--UEVWFGKJ4L
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--UEVWFGKJ4L--
 }
18:07:51.188 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
18:07:51.189 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:51.189 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.190 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57694&lt;-&gt;127.0.0.1:39585
18:07:51.190 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.191 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.191 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.191 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39585
18:07:51.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
18:07:51.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.191 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; PATCH /upload HTTP/1.1
18:07:51.191 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: multipart/form-data; boundary=a1LfwLpOub; charset=utf-8
18:07:51.192 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 336
18:07:51.192 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:39585
18:07:51.192 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
18:07:51.192 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.192 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=a1LfwLpOub; charset=utf-8[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:39585[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--a1LfwLpOub[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;some data[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--a1LfwLpOub[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
18:07:51.192 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;--a1LfwLpOub--[\r][\n]&quot;
18:07:51.217 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=a1LfwLpOub; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39585]}, cookies=[:]): --a1LfwLpOub
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--a1LfwLpOub
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--a1LfwLpOub--
 }
18:07:51.220 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.220 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
18:07:51.221 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:51.221 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.221 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57694&lt;-&gt;127.0.0.1:39585
18:07:51.221 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.222 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7034dbbb
18:07:51.226 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@eb7854b
18:07:51.228 [XNIO-57 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.243 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@43bfe91f
18:07:51.251 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4fcd1095
18:07:51.255 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@38052b60
18:07:51.243 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@65e8c47
18:07:51.263 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@668e30ce
18:07:51.265 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7bef5ab5
18:07:51.273 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@26b6f9ba
18:07:51.274 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2160847a
18:07:51.274 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.275 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.275 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@da520b9
18:07:51.278 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.278 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.278 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33767
18:07:51.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:33767
18:07:51.279 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33767
18:07:51.279 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:33767 with timeout 0
18:07:51.279 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:51.279 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:51.279 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:51.349 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:51.349 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:51.349 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:51.349 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:51.349 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:51.349 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36238&lt;-&gt;127.0.0.1:33767
18:07:51.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
18:07:51.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /upload HTTP/1.1
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: multipart/form-data; boundary=Dwa3QhNrS5; charset=utf-8
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 336
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:33767
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.349 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
18:07:51.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=Dwa3QhNrS5; charset=utf-8[\r][\n]&quot;
18:07:51.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
18:07:51.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:33767[\r][\n]&quot;
18:07:51.349 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--Dwa3QhNrS5[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;some data[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--Dwa3QhNrS5[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
18:07:51.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--Dwa3QhNrS5--[\r][\n]&quot;
18:07:51.356 [XNIO-58 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=Dwa3QhNrS5; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33767]}, cookies=[:]): --Dwa3QhNrS5
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--Dwa3QhNrS5
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--Dwa3QhNrS5--
 }
18:07:51.359 [XNIO-58 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
18:07:51.360 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:51.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.361 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36238&lt;-&gt;127.0.0.1:33767
18:07:51.361 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.362 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.362 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.362 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:33767
18:07:51.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request PATCH /upload HTTP/1.1
18:07:51.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.362 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; PATCH /upload HTTP/1.1
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: multipart/form-data; boundary=sTKnUq36PP; charset=utf-8
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 336
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:33767
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.362 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.362 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;PATCH /upload HTTP/1.1[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=sTKnUq36PP; charset=utf-8[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:33767[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--sTKnUq36PP[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;some data[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--sTKnUq36PP[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
18:07:51.363 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;--sTKnUq36PP--[\r][\n]&quot;
18:07:51.399 [XNIO-58 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { PATCH /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=sTKnUq36PP; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33767]}, cookies=[:]): --sTKnUq36PP
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--sTKnUq36PP
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--sTKnUq36PP--
 }
18:07:51.402 [XNIO-58 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:45 GMT[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.403 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
18:07:51.403 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
18:07:51.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
18:07:51.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
18:07:51.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
18:07:51.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:45 GMT
18:07:51.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36238&lt;-&gt;127.0.0.1:33767
18:07:51.404 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.404 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@eb7854b
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Aug 10, 2019 7:10:43 PM</p>
</div>
</div>
</body>
</html>
