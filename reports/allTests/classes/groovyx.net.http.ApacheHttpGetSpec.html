<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpGetSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpGetSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpGetSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">61</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">1</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">5.498s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox skipped" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP GET with BASIC authentication (authorized)</td>
<td>0.197s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with BASIC authentication (unauthorized)</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (authorized)</td>
<td>0.096s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP GET with DIGEST authentication (unauthorized)</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (authorized)</td>
<td>0.165s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with BASIC authentication (unauthorized)</td>
<td>0.093s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (authorized)</td>
<td>0.099s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS GET with DIGEST authentication (unauthorized)</td>
<td>0.075s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are not stored when disabled</td>
<td>0.075s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">cookies are only set once</td>
<td>0.099s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler chain works correctly</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with closure</td>
<td>0.053s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">exception handler works with function</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/json</td>
<td>0.079s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP application/xml</td>
<td>0.039s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/csv</td>
<td>0.127s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/html</td>
<td>0.048s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTP text/plain</td>
<td>0.252s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/json</td>
<td>0.135s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS application/xml</td>
<td>0.106s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/csv</td>
<td>0.158s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/html</td>
<td>0.142s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(): HTTPS text/plain</td>
<td>0.388s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [:]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.094s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Closure): cookies -&gt; null</td>
<td>0.067s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [:]</td>
<td>0.060s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.077s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Class,Consumer): cookies -&gt; null</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [:]</td>
<td>0.036s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:[one]]</td>
<td>0.064s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; [alpha:one]</td>
<td>0.083s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Closure): query -&gt; null</td>
<td>0.076s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [:]</td>
<td>0.022s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [coat:overcoat something]</td>
<td>0.068s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.047s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">get(Consumer): headers -&gt; null</td>
<td>0.079s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">handles basic errors</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">proxied get(): HTTP com.stehno.ersatz.ContentType(text/plain)</td>
<td>0.291s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">server set cookies are honored</td>
<td>0.131s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="skipped">socks proxied get(): #protocol #contentType</td>
<td>-</td>
<td class="skipped">ignored</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.099s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.109s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.045s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.067s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.046s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.230s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.049s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.054s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>18:07:46.446 [XNIO-5 task-1] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:46.880 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4905b729
18:07:46.888 [XNIO-6 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-1', selector sun.nio.ch.EPollSelectorImpl@60c51c5a
18:07:46.890 [XNIO-6 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e3e865c
18:07:46.901 [XNIO-6 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3f27bb37
18:07:46.915 [XNIO-6 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-4', selector sun.nio.ch.EPollSelectorImpl@60ecdce
18:07:46.922 [XNIO-6 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40a1099d
18:07:46.927 [XNIO-6 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-6', selector sun.nio.ch.EPollSelectorImpl@9a74673
18:07:46.929 [XNIO-6 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a5c27d6
18:07:46.929 [XNIO-6 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c4af5a1
18:07:46.930 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:46.930 [XNIO-6 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-6 Accept', selector sun.nio.ch.EPollSelectorImpl@450fefaf
18:07:46.931 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:46.960 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.961 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.961 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40429
18:07:46.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40429
18:07:46.961 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40429
18:07:46.961 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50126&lt;-&gt;127.0.0.1:40429
18:07:46.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:46.962 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.962 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; GET /alpha HTTP/1.1
18:07:46.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:40429
18:07:46.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
18:07:46.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:40429[\r][\n]&quot;
18:07:46.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
18:07:46.967 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40429]}, cookies=[:]): &lt;empty&gt; }
18:07:46.976 [XNIO-6 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
18:07:46.977 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
18:07:46.978 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:46.978 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:46.979 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50126&lt;-&gt;127.0.0.1:40429
18:07:46.979 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:46.986 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:46.986 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:46.986 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40429
18:07:46.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:46.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:46.987 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:46.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; GET /alpha HTTP/1.1
18:07:46.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:40429
18:07:46.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
18:07:46.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:46.987 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:40429[\r][\n]&quot;
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:46.987 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.007 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40429]}, cookies=[:]): &lt;empty&gt; }
18:07:47.049 [XNIO-6 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.050 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
18:07:47.051 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.052 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50126&lt;-&gt;127.0.0.1:40429
18:07:47.052 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.066 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4905b729
18:07:47.085 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@476661d0
18:07:47.088 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7f8ed85a
18:07:47.088 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@55258b3f
18:07:47.095 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@14040a5c
18:07:47.096 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6d73e168
18:07:47.097 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@360f034
18:07:47.099 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7eae06ea
18:07:47.109 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@61a205a4
18:07:47.110 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@515ff46
18:07:47.111 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.111 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.112 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@38ccf447
18:07:47.114 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.115 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34983
18:07:47.115 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:34983
18:07:47.115 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34983
18:07:47.116 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:34983 with timeout 0
18:07:47.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.147 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:47.434 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:47.434 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:47.434 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:47.436 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.436 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.437 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60858&lt;-&gt;127.0.0.1:34983
18:07:47.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.437 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:34983
18:07:47.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
18:07:47.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.437 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:34983[\r][\n]&quot;
18:07:47.437 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.440 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34983]}, cookies=[:]): &lt;empty&gt; }
18:07:47.442 [XNIO-7 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
18:07:47.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
18:07:47.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
18:07:47.446 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/plain
18:07:47.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 27
18:07:47.447 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.447 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.447 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60858&lt;-&gt;127.0.0.1:34983
18:07:47.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.449 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.449 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:34983
18:07:47.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:34983
18:07:47.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
18:07:47.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:34983[\r][\n]&quot;
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.452 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34983]}, cookies=[:]): &lt;empty&gt; }
18:07:47.454 [XNIO-7 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:47.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:47.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:47.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:47.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
18:07:47.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
18:07:47.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
18:07:47.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: text/plain
18:07:47.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 27
18:07:47.458 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.458 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.459 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60858&lt;-&gt;127.0.0.1:34983
18:07:47.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.464 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@476661d0
18:07:47.483 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@193bb34d
18:07:47.487 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5c931067
18:07:47.488 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6d17bf9e
18:07:47.491 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4bb52125
18:07:47.493 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6bcc2934
18:07:47.493 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@25d282e6
18:07:47.499 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21ce4015
18:07:47.499 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.499 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@35178a92
18:07:47.499 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@62cbe918
18:07:47.499 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4688bfca
18:07:47.511 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.515 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.515 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.515 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45187
18:07:47.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45187
18:07:47.515 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45187
18:07:47.516 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44464&lt;-&gt;127.0.0.1:45187
18:07:47.516 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.516 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.516 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.516 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.516 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:45187
18:07:47.516 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
18:07:47.516 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.516 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:45187[\r][\n]&quot;
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.519 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45187]}, cookies=[:]): &lt;empty&gt; }
18:07:47.520 [XNIO-8 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:47.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:47.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:47.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
18:07:47.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44464&lt;-&gt;127.0.0.1:45187
18:07:47.538 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.546 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.546 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.546 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45187
18:07:47.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:45187
18:07:47.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
18:07:47.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:45187[\r][\n]&quot;
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.547 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.548 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45187]}, cookies=[:]): &lt;empty&gt; }
18:07:47.549 [XNIO-8 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:47.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
18:07:47.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.551 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.552 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44464&lt;-&gt;127.0.0.1:45187
18:07:47.552 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.552 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@193bb34d
18:07:47.560 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6976eac4
18:07:47.575 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@79ee8fe2
18:07:47.584 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@810b79b
18:07:47.586 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3ce836df
18:07:47.575 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@297362b7
18:07:47.588 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5153330a
18:07:47.588 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2bc53ed4
18:07:47.588 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@23c443bf
18:07:47.588 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.588 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@319d56a3
18:07:47.588 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@35403b66
18:07:47.589 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.593 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.593 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.593 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44157
18:07:47.593 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44157
18:07:47.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44157
18:07:47.595 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44157 with timeout 0
18:07:47.595 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.596 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.597 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:47.662 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:47.662 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:47.662 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:47.662 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.663 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.663 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33134&lt;-&gt;127.0.0.1:44157
18:07:47.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.663 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:44157
18:07:47.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
18:07:47.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:44157[\r][\n]&quot;
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.671 [XNIO-9 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44157]}, cookies=[:]): &lt;empty&gt; }
18:07:47.673 [XNIO-9 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:47.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
18:07:47.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
18:07:47.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
18:07:47.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/json
18:07:47.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 39
18:07:47.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.676 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.676 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33134&lt;-&gt;127.0.0.1:44157
18:07:47.676 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.677 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.678 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.678 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44157
18:07:47.678 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.678 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.678 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:44157
18:07:47.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
18:07:47.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:44157[\r][\n]&quot;
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.683 [XNIO-9 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44157]}, cookies=[:]): &lt;empty&gt; }
18:07:47.684 [XNIO-9 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
18:07:47.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
18:07:47.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
18:07:47.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
18:07:47.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
18:07:47.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/json
18:07:47.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 39
18:07:47.687 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.687 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33134&lt;-&gt;127.0.0.1:44157
18:07:47.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.689 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6976eac4
18:07:47.709 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@38f15a4d
18:07:47.712 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7fe70741
18:07:47.712 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2a941b25
18:07:47.715 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3b80be73
18:07:47.712 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@557429bd
18:07:47.720 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@797a641a
18:07:47.721 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2e24bd70
18:07:47.721 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@78252e7c
18:07:47.712 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6f216203
18:07:47.721 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@23ae72e9
18:07:47.721 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.724 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.726 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.727 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41889
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41889
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41889
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48964&lt;-&gt;127.0.0.1:41889
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.727 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:41889
18:07:47.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
18:07:47.727 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.728 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:41889[\r][\n]&quot;
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.728 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.729 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41889]}, cookies=[:]): &lt;empty&gt; }
18:07:47.730 [XNIO-10 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:47.730 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
18:07:47.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48964&lt;-&gt;127.0.0.1:41889
18:07:47.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.735 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.736 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.736 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41889
18:07:47.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:41889
18:07:47.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
18:07:47.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:41889[\r][\n]&quot;
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.737 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41889]}, cookies=[:]): &lt;empty&gt; }
18:07:47.738 [XNIO-10 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:47.739 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
18:07:47.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.740 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.743 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48964&lt;-&gt;127.0.0.1:41889
18:07:47.743 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.744 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@38f15a4d
18:07:47.751 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@28d053dc
18:07:47.753 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@9e7f9b8
18:07:47.754 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@171683d8
18:07:47.760 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@16d52d20
18:07:47.761 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7d1d2078
18:07:47.762 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4094c9a2
18:07:47.762 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@436b81a
18:07:47.763 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@642d4c8c
18:07:47.762 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@206476b2
18:07:47.770 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.771 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@1b9572b8
18:07:47.772 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.775 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.775 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.775 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45287
18:07:47.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:45287
18:07:47.775 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45287
18:07:47.775 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:45287 with timeout 0
18:07:47.776 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.776 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.776 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:47.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:47.831 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:47.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:47.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.832 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:47.832 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57028&lt;-&gt;127.0.0.1:45287
18:07:47.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:45287
18:07:47.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
18:07:47.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.832 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:45287[\r][\n]&quot;
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.832 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.833 [XNIO-11 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45287]}, cookies=[:]): &lt;empty&gt; }
18:07:47.836 [XNIO-11 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:47.837 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: application/xml
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 65
18:07:47.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.841 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57028&lt;-&gt;127.0.0.1:45287
18:07:47.841 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.842 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.843 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.843 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:45287
18:07:47.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:45287
18:07:47.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
18:07:47.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:45287[\r][\n]&quot;
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.845 [XNIO-11 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45287]}, cookies=[:]): &lt;empty&gt; }
18:07:47.847 [XNIO-11 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
18:07:47.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.848 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: application/xml
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 65
18:07:47.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.853 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57028&lt;-&gt;127.0.0.1:45287
18:07:47.853 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.853 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@28d053dc
18:07:47.859 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@693e6bff
18:07:47.864 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@463e9d85
18:07:47.866 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@592709d5
18:07:47.866 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6b6d878c
18:07:47.866 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4decc8df
18:07:47.866 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7cf54c59
18:07:47.866 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@59bfce56
18:07:47.867 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1e2aa3a6
18:07:47.868 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4db12f12
18:07:47.868 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.868 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@7339e61e
18:07:47.869 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.871 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35415
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35415
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35415
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49726&lt;-&gt;127.0.0.1:35415
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35415
18:07:47.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
18:07:47.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.872 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35415[\r][\n]&quot;
18:07:47.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.873 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.877 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35415]}, cookies=[:]): &lt;empty&gt; }
18:07:47.878 [XNIO-12 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.879 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.880 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
18:07:47.880 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.880 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49726&lt;-&gt;127.0.0.1:35415
18:07:47.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.898 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35415
18:07:47.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:47.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:47.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:47.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; GET /alpha HTTP/1.1
18:07:47.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35415
18:07:47.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
18:07:47.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:47.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35415[\r][\n]&quot;
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:47.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
18:07:47.900 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35415]}, cookies=[:]): &lt;empty&gt; }
18:07:47.901 [XNIO-12 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
18:07:47.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:47.903 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:47.904 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49726&lt;-&gt;127.0.0.1:35415
18:07:47.904 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:47.904 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@693e6bff
18:07:47.909 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@475790c0
18:07:47.912 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@126d9832
18:07:47.929 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7bc05b4d
18:07:47.929 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7dff433
18:07:47.937 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5fa59831
18:07:47.939 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@46967f01
18:07:47.929 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36a0320c
18:07:47.940 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1b384cad
18:07:47.941 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4c80e408
18:07:47.941 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:47.942 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:47.942 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@71bb399c
18:07:47.948 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:47.949 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:47.949 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37493
18:07:47.949 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37493
18:07:47.949 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37493
18:07:47.949 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37493 with timeout 0
18:07:47.953 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:47.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:47.954 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:48.011 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:48.011 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:48.011 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:48.011 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.011 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.011 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51770&lt;-&gt;127.0.0.1:37493
18:07:48.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.011 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.011 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:37493
18:07:48.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
18:07:48.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.012 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:37493[\r][\n]&quot;
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.012 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.023 [XNIO-13 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37493]}, cookies=[:]): &lt;empty&gt; }
18:07:48.024 [XNIO-13 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:48.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/html
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 40
18:07:48.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.037 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51770&lt;-&gt;127.0.0.1:37493
18:07:48.037 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.039 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.039 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.039 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37493
18:07:48.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:37493
18:07:48.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
18:07:48.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:37493[\r][\n]&quot;
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.042 [XNIO-13 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37493]}, cookies=[:]): &lt;empty&gt; }
18:07:48.044 [XNIO-13 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.046 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/html
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 40
18:07:48.046 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.046 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51770&lt;-&gt;127.0.0.1:37493
18:07:48.047 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.048 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@475790c0
18:07:48.063 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a9fab7f
18:07:48.066 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@68d4499
18:07:48.067 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3cc3dda0
18:07:48.102 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@325ca2de
18:07:48.108 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6be2c52b
18:07:48.102 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6dc2ea78
18:07:48.102 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4eb773f2
18:07:48.102 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@421c0fcd
18:07:48.111 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@2f0cb6f6
18:07:48.103 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@561fba07
18:07:48.110 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.115 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.118 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.118 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35537
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35537
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35537
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43662&lt;-&gt;127.0.0.1:35537
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:35537
18:07:48.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
18:07:48.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.119 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:35537[\r][\n]&quot;
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.119 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.120 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.120 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
18:07:48.121 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.121 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
18:07:48.120 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35537]}, cookies=[:]): &lt;empty&gt; }
18:07:48.122 [XNIO-14 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
18:07:48.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.124 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.126 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.126 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
18:07:48.127 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.127 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
18:07:48.128 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.129 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
18:07:48.130 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.130 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
18:07:48.134 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43662&lt;-&gt;127.0.0.1:35537
18:07:48.134 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.135 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.136 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.143 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.154 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
18:07:48.154 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.154 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
18:07:48.154 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35537
18:07:48.155 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.155 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.156 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.156 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
18:07:48.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:35537
18:07:48.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
18:07:48.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:35537[\r][\n]&quot;
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.171 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35537]}, cookies=[:]): &lt;empty&gt; }
18:07:48.172 [XNIO-14 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:48.172 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
18:07:48.173 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.173 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43662&lt;-&gt;127.0.0.1:35537
18:07:48.174 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.182 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.183 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
18:07:48.183 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.183 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
18:07:48.184 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:48.184 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
18:07:48.187 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a9fab7f
18:07:48.200 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@24d3852f
18:07:48.207 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2487f44a
18:07:48.215 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@28a0c077
18:07:48.231 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@74c42763
18:07:48.235 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@211d6686
18:07:48.231 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@700ab835
18:07:48.236 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5f02abf7
18:07:48.243 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@720e5aea
18:07:48.251 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2971c62b
18:07:48.263 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.263 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.266 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.266 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.266 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44685
18:07:48.266 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:44685
18:07:48.267 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44685
18:07:48.267 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:44685 with timeout 0
18:07:48.268 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:48.268 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:48.268 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:48.271 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@36b4937a
18:07:48.330 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:48.330 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:48.330 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:48.331 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.331 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:48.331 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59492&lt;-&gt;127.0.0.1:44685
18:07:48.331 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.331 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.331 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:44685
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
18:07:48.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:44685[\r][\n]&quot;
18:07:48.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.334 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.338 [XNIO-15 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44685]}, cookies=[:]): &lt;empty&gt; }
18:07:48.339 [XNIO-15 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.342 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.343 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/csv
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 53
18:07:48.343 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.343 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.344 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59492&lt;-&gt;127.0.0.1:44685
18:07:48.344 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.345 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.345 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.345 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:44685
18:07:48.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /alpha HTTP/1.1
18:07:48.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.345 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; GET /alpha HTTP/1.1
18:07:48.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:44685
18:07:48.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
18:07:48.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.345 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;GET /alpha HTTP/1.1[\r][\n]&quot;
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:44685[\r][\n]&quot;
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.345 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.349 [XNIO-15 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44685]}, cookies=[:]): &lt;empty&gt; }
18:07:48.352 [XNIO-15 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
18:07:48.352 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.353 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/csv
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 53
18:07:48.353 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.353 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59492&lt;-&gt;127.0.0.1:44685
18:07:48.353 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.354 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@24d3852f
18:07:48.367 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7ecb2e4c
18:07:48.370 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@22030f57
18:07:48.371 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@461d49ee
18:07:48.372 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@778d45f8
18:07:48.372 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@49828dc1
18:07:48.374 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1e386546
18:07:48.374 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@64008015
18:07:48.379 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4acce8ed
18:07:48.380 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@35d362ee
18:07:48.381 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@46283600
18:07:48.381 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.387 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.400 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34997
18:07:48.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34997
18:07:48.400 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34997
18:07:48.401 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44304&lt;-&gt;127.0.0.1:34997
18:07:48.401 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
18:07:48.401 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.401 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /bravo HTTP/1.1
18:07:48.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:34997
18:07:48.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
18:07:48.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:34997[\r][\n]&quot;
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.410 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34997]}, cookies=[:]): &lt;empty&gt; }
18:07:48.412 [XNIO-16 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.412 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.412 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
18:07:48.420 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.420 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.421 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44304&lt;-&gt;127.0.0.1:34997
18:07:48.421 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.423 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.423 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.423 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34997
18:07:48.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
18:07:48.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.423 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; GET /bravo HTTP/1.1
18:07:48.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:34997
18:07:48.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
18:07:48.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.423 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:34997[\r][\n]&quot;
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.423 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.428 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34997]}, cookies=[:]): &lt;empty&gt; }
18:07:48.429 [XNIO-16 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
18:07:48.430 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.430 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44304&lt;-&gt;127.0.0.1:34997
18:07:48.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.432 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7ecb2e4c
18:07:48.438 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@a0a5f07
18:07:48.439 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d44e97d
18:07:48.440 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@71013beb
18:07:48.441 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4288cf3c
18:07:48.441 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4af7e614
18:07:48.442 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6ac1e042
18:07:48.442 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@456ece1d
18:07:48.443 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5cd5a8d
18:07:48.443 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2feabc5
18:07:48.446 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.446 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@39664b3a
18:07:48.449 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.451 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.452 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45671
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45671
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45671
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59432&lt;-&gt;127.0.0.1:45671
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /bravo HTTP/1.1
18:07:48.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:45671
18:07:48.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
18:07:48.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:45671[\r][\n]&quot;
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.453 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.460 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45671]}, cookies=[:]): &lt;empty&gt; }
18:07:48.461 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
18:07:48.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.463 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59432&lt;-&gt;127.0.0.1:45671
18:07:48.463 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.464 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.464 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.464 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45671
18:07:48.464 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo HTTP/1.1
18:07:48.464 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.464 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; GET /bravo HTTP/1.1
18:07:48.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:45671
18:07:48.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
18:07:48.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.465 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;GET /bravo HTTP/1.1[\r][\n]&quot;
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:45671[\r][\n]&quot;
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.465 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.466 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45671]}, cookies=[:]): &lt;empty&gt; }
18:07:48.467 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
18:07:48.468 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.468 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59432&lt;-&gt;127.0.0.1:45671
18:07:48.470 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.471 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@a0a5f07
18:07:48.482 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@d26a6ca
18:07:48.484 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5e311e1a
18:07:48.487 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4adbe1b3
18:07:48.488 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33dc954c
18:07:48.491 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2c995967
18:07:48.491 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@44805bdd
18:07:48.491 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@56ed8fb2
18:07:48.492 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@35aa0a1a
18:07:48.495 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a4d32a8
18:07:48.502 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.502 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@21805c1c
18:07:48.505 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.519 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.520 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40283
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40283
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40283
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57756&lt;-&gt;127.0.0.1:40283
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.520 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
18:07:48.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:40283
18:07:48.520 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:40283[\r][\n]&quot;
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.521 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.527 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40283]}, cookies=[:]): &lt;empty&gt; }
18:07:48.550 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.550 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.551 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
18:07:48.551 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.551 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.551 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57756&lt;-&gt;127.0.0.1:40283
18:07:48.551 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.552 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.552 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.552 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40283
18:07:48.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
18:07:48.553 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.553 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
18:07:48.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:40283
18:07:48.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
18:07:48.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:40283[\r][\n]&quot;
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.554 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40283]}, cookies=[:]): &lt;empty&gt; }
18:07:48.555 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
18:07:48.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.556 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.557 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57756&lt;-&gt;127.0.0.1:40283
18:07:48.557 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.557 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@d26a6ca
18:07:48.580 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@78bd38b3
18:07:48.582 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36d606bd
18:07:48.583 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@19d4ae59
18:07:48.584 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@576c1570
18:07:48.585 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5b084296
18:07:48.587 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3e2bce43
18:07:48.591 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6209203b
18:07:48.595 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5972c67d
18:07:48.597 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.597 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@60d88682
18:07:48.598 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.599 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@17df2ea8
18:07:48.601 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.601 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43963
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43963
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43963
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60750&lt;-&gt;127.0.0.1:43963
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.601 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
18:07:48.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:43963
18:07:48.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
18:07:48.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:43963[\r][\n]&quot;
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.603 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43963]}, cookies=[:]): &lt;empty&gt; }
18:07:48.608 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
18:07:48.609 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.609 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.610 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60750&lt;-&gt;127.0.0.1:43963
18:07:48.610 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.611 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.611 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.611 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43963
18:07:48.611 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one HTTP/1.1
18:07:48.611 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.611 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; GET /bravo?alpha=one HTTP/1.1
18:07:48.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:43963
18:07:48.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
18:07:48.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.612 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;GET /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:43963[\r][\n]&quot;
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.612 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.621 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43963]}, cookies=[:]): &lt;empty&gt; }
18:07:48.623 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
18:07:48.624 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.624 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.625 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60750&lt;-&gt;127.0.0.1:43963
18:07:48.625 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.625 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@78bd38b3
18:07:48.643 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2d384af0
18:07:48.649 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@39532639
18:07:48.650 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@30a962a7
18:07:48.654 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6cfc387a
18:07:48.655 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@28d003f7
18:07:48.655 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2777da5b
18:07:48.655 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6b9cad66
18:07:48.659 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@af488f4
18:07:48.659 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a33b6b0
18:07:48.660 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@5362a553
18:07:48.660 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.663 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.665 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.666 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36047
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36047
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36047
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52550&lt;-&gt;127.0.0.1:36047
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.666 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:48.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:36047
18:07:48.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
18:07:48.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.666 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:36047[\r][\n]&quot;
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.667 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.679 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36047]}, cookies=[:]): &lt;empty&gt; }
18:07:48.680 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
18:07:48.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.681 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52550&lt;-&gt;127.0.0.1:36047
18:07:48.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.684 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.684 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36047
18:07:48.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:48.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.684 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two HTTP/1.1
18:07:48.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:36047
18:07:48.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
18:07:48.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.684 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:36047[\r][\n]&quot;
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.684 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.687 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36047]}, cookies=[:]): &lt;empty&gt; }
18:07:48.688 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.689 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
18:07:48.690 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.690 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.691 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52550&lt;-&gt;127.0.0.1:36047
18:07:48.691 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.691 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2d384af0
18:07:48.705 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@c0d6736
18:07:48.707 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@142104ed
18:07:48.707 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@14792f98
18:07:48.707 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@23e8267c
18:07:48.711 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@42da70ff
18:07:48.713 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@68cbbb24
18:07:48.714 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@24622a19
18:07:48.723 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.724 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.724 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@720dec64
18:07:48.714 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7b8a8177
18:07:48.731 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d8a5682
18:07:48.734 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.734 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.734 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42357
18:07:48.734 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42357
18:07:48.734 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42357
18:07:48.735 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51204&lt;-&gt;127.0.0.1:42357
18:07:48.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:48.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.735 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:48.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42357
18:07:48.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
18:07:48.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.735 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42357[\r][\n]&quot;
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.735 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.747 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42357]}, cookies=[:]): &lt;empty&gt; }
18:07:48.749 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
18:07:48.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.751 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51204&lt;-&gt;127.0.0.1:42357
18:07:48.751 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.752 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.752 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.752 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42357
18:07:48.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:48.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.753 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
18:07:48.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:42357
18:07:48.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
18:07:48.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.753 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;GET /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:42357[\r][\n]&quot;
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.753 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.755 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42357]}, cookies=[:]): &lt;empty&gt; }
18:07:48.756 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
18:07:48.757 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51204&lt;-&gt;127.0.0.1:42357
18:07:48.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.759 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@c0d6736
18:07:48.769 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2aa7b445
18:07:48.786 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@55c0486f
18:07:48.795 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@103328c2
18:07:48.802 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@578ea949
18:07:48.802 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@148bcba0
18:07:48.802 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@111e33f2
18:07:48.803 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3c801e0c
18:07:48.803 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@63d7fabf
18:07:48.803 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.804 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2913f480
18:07:48.804 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.805 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@593e2fc2
18:07:48.812 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.812 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.812 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42745
18:07:48.812 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42745
18:07:48.812 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42745
18:07:48.813 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38478&lt;-&gt;127.0.0.1:42745
18:07:48.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:42745
18:07:48.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
18:07:48.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:42745[\r][\n]&quot;
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.813 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.827 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42745]}, cookies=[:]): &lt;empty&gt; }
18:07:48.827 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
18:07:48.829 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.829 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.830 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38478&lt;-&gt;127.0.0.1:42745
18:07:48.830 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.832 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.832 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.832 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42745
18:07:48.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.832 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.833 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:42745
18:07:48.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
18:07:48.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:42745[\r][\n]&quot;
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.833 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42745]}, cookies=[:]): &lt;empty&gt; }
18:07:48.834 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
18:07:48.835 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.839 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.840 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38478&lt;-&gt;127.0.0.1:42745
18:07:48.840 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.840 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2aa7b445
18:07:48.845 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@73211208
18:07:48.847 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@772613f7
18:07:48.848 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7f91d3ab
18:07:48.848 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2ca5e1a1
18:07:48.849 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@387596bb
18:07:48.850 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@121d1c1c
18:07:48.850 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@71a65dbc
18:07:48.850 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d2146fd
18:07:48.850 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@e25919
18:07:48.850 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.851 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@692dcdf4
18:07:48.851 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.853 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.853 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.853 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35921
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35921
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35921
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38014&lt;-&gt;127.0.0.1:35921
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:35921
18:07:48.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
18:07:48.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:35921[\r][\n]&quot;
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.857 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35921]}, cookies=[:]): &lt;empty&gt; }
18:07:48.858 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
18:07:48.859 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.859 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38014&lt;-&gt;127.0.0.1:35921
18:07:48.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.860 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.860 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.860 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35921
18:07:48.860 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.860 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.860 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:35921
18:07:48.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
18:07:48.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.861 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:35921[\r][\n]&quot;
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.861 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.861 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35921]}, cookies=[:]): &lt;empty&gt; }
18:07:48.862 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.862 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
18:07:48.863 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.863 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.863 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38014&lt;-&gt;127.0.0.1:35921
18:07:48.863 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.863 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@73211208
18:07:48.871 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1775171f
18:07:48.873 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@410d6da1
18:07:48.874 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5d6889d5
18:07:48.879 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5b4d80e8
18:07:48.880 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@283966e8
18:07:48.880 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b96c365
18:07:48.884 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@60ece861
18:07:48.885 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.879 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e268045
18:07:48.885 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@57be733e
18:07:48.880 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5274aca2
18:07:48.886 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.888 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.889 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37617
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37617
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37617
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43276&lt;-&gt;127.0.0.1:37617
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.889 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; hat: fedora
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:37617
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.889 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.889 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:37617[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.890 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.891 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:37617]}, cookies=[:]): &lt;empty&gt; }
18:07:48.898 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.899 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
18:07:48.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
18:07:48.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
18:07:48.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
18:07:48.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
18:07:48.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.900 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43276&lt;-&gt;127.0.0.1:37617
18:07:48.900 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.901 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37617
18:07:48.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; hat: fedora
18:07:48.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:37617
18:07:48.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
18:07:48.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.902 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:37617[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.906 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:37617]}, cookies=[:]): &lt;empty&gt; }
18:07:48.908 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
18:07:48.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Encoding: gzip
18:07:48.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
18:07:48.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Type: text/plain
18:07:48.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 27
18:07:48.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.910 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43276&lt;-&gt;127.0.0.1:37617
18:07:48.910 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.911 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1775171f
18:07:48.916 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@508b7bff
18:07:48.917 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@42b7ca08
18:07:48.919 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c0f8495
18:07:48.931 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@35bc2f06
18:07:48.935 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2af3f466
18:07:48.943 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2abf11f
18:07:48.944 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@592267a0
18:07:48.947 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@24e8bb96
18:07:48.955 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@341cd81e
18:07:48.967 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:48.967 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@50f4de3a
18:07:48.967 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:48.969 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.969 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.969 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35225
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35225
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35225
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36640&lt;-&gt;127.0.0.1:35225
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.970 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; coat: overcoat something
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:35225
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.970 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:35225[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.970 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.973 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35225]}, cookies=[:]): &lt;empty&gt; }
18:07:48.974 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
18:07:48.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
18:07:48.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
18:07:48.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
18:07:48.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
18:07:48.975 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.975 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36640&lt;-&gt;127.0.0.1:35225
18:07:48.975 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.976 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:48.976 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:48.976 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35225
18:07:48.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /charlie HTTP/1.1
18:07:48.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:48.976 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; GET /charlie HTTP/1.1
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; coat: overcoat something
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:35225
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:48.976 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;GET /charlie HTTP/1.1[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;coat: overcoat something[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:35225[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:48.976 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
18:07:48.977 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], coat=[overcoat something], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35225]}, cookies=[:]): &lt;empty&gt; }
18:07:48.978 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Encoding: gzip
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Type: text/plain
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 27
18:07:48.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:48.980 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:48.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36640&lt;-&gt;127.0.0.1:35225
18:07:48.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:48.980 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@508b7bff
18:07:48.996 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7573a71c
18:07:48.998 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@131f7311
18:07:48.999 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@460c3d8d
18:07:48.999 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7ab09ed5
18:07:48.998 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36e50655
18:07:48.999 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@518690ea
18:07:49.000 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@16f52cac
18:07:49.000 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3a63c946
18:07:49.000 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2338e5ab
18:07:49.001 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.001 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.007 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@678413c0
18:07:49.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.020 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.020 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34839
18:07:49.020 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34839
18:07:49.020 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34839
18:07:49.021 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49760&lt;-&gt;127.0.0.1:34839
18:07:49.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.021 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.021 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /delta HTTP/1.1
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34839
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
18:07:49.022 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.023 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34839[\r][\n]&quot;
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.023 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.026 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34839]}, cookies=[:]): &lt;empty&gt; }
18:07:49.032 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
18:07:49.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
18:07:49.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
18:07:49.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
18:07:49.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
18:07:49.033 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.033 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.037 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49760&lt;-&gt;127.0.0.1:34839
18:07:49.037 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.044 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.044 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.044 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34839
18:07:49.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.045 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; GET /delta HTTP/1.1
18:07:49.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:34839
18:07:49.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
18:07:49.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.045 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:34839[\r][\n]&quot;
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.045 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.046 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34839]}, cookies=[:]): &lt;empty&gt; }
18:07:49.046 [XNIO-26 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
18:07:49.047 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.048 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.048 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49760&lt;-&gt;127.0.0.1:34839
18:07:49.048 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.049 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7573a71c
18:07:49.055 [XNIO-26 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:49.056 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@77d52afd
18:07:49.058 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@144edb8c
18:07:49.058 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@76c04acb
18:07:49.058 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1743eb30
18:07:49.059 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@197011df
18:07:49.063 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7eb22cbf
18:07:49.059 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@d5ea395
18:07:49.071 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@53edf42b
18:07:49.087 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@433494f1
18:07:49.091 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.091 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@2f06d237
18:07:49.100 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.101 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.101 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43087
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43087
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43087
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56346&lt;-&gt;127.0.0.1:43087
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.102 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /delta HTTP/1.1
18:07:49.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:43087
18:07:49.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
18:07:49.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.102 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:43087[\r][\n]&quot;
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.102 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.107 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43087]}, cookies=[:]): &lt;empty&gt; }
18:07:49.108 [XNIO-27 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
18:07:49.109 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.109 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.110 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56346&lt;-&gt;127.0.0.1:43087
18:07:49.110 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.111 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.111 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.112 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43087
18:07:49.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.112 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; GET /delta HTTP/1.1
18:07:49.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:43087
18:07:49.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
18:07:49.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.112 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:43087[\r][\n]&quot;
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.112 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.114 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43087]}, cookies=[:]): &lt;empty&gt; }
18:07:49.115 [XNIO-27 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.115 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.115 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
18:07:49.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56346&lt;-&gt;127.0.0.1:43087
18:07:49.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.117 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@77d52afd
18:07:49.134 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@18791f1e
18:07:49.136 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5729562
18:07:49.136 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1d0369f5
18:07:49.143 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@fda700d
18:07:49.143 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@29e947d0
18:07:49.143 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@50bcf591
18:07:49.152 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@72181ed5
18:07:49.154 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@e9fe8db
18:07:49.163 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5a72c4d
18:07:49.170 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.171 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@50d51353
18:07:49.171 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.182 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.182 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.182 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43823
18:07:49.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43823
18:07:49.182 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43823
18:07:49.183 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41482&lt;-&gt;127.0.0.1:43823
18:07:49.183 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.183 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.183 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /delta HTTP/1.1
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Cookie: flavor=chocolate-chip
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:43823
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.183 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:43823[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.183 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.185 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43823]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@77db0c29]): &lt;empty&gt; }
18:07:49.197 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
18:07:49.198 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.198 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.199 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41482&lt;-&gt;127.0.0.1:43823
18:07:49.199 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.201 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.201 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.201 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43823
18:07:49.201 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.201 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.201 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; GET /delta HTTP/1.1
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Cookie: flavor=chocolate-chip
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:43823
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.201 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:43823[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.201 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.209 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43823]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@a7c2bd2]): &lt;empty&gt; }
18:07:49.212 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
18:07:49.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.213 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.214 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41482&lt;-&gt;127.0.0.1:43823
18:07:49.214 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.215 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@18791f1e
18:07:49.230 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5d612cb5
18:07:49.232 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@298daebf
18:07:49.232 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@38f1c766
18:07:49.232 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4b7b66d7
18:07:49.232 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@307fef7c
18:07:49.235 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@31ea221c
18:07:49.236 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f02df2c
18:07:49.237 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@50af74e1
18:07:49.238 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@50df26
18:07:49.238 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@229c50c1
18:07:49.238 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.239 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.242 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.242 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39633
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39633
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39633
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38654&lt;-&gt;127.0.0.1:39633
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.242 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /delta HTTP/1.1
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:39633
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.243 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:39633[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.243 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.244 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39633]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@47f811af, flavor:ersatz.undertow.server.handlers.CookieImpl@493ff720]): &lt;empty&gt; }
18:07:49.245 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
18:07:49.246 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.247 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38654&lt;-&gt;127.0.0.1:39633
18:07:49.247 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.249 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.249 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39633
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.249 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; GET /delta HTTP/1.1
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:39633
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.250 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:39633[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.250 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.252 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=chocolate-chip; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39633]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@480376c2, flavor:ersatz.undertow.server.handlers.CookieImpl@46c491b2]): &lt;empty&gt; }
18:07:49.254 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
18:07:49.255 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.255 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.256 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38654&lt;-&gt;127.0.0.1:39633
18:07:49.256 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.257 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5d612cb5
18:07:49.266 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@377ed1b2
18:07:49.268 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@17ea9c4f
18:07:49.268 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5c0d6abc
18:07:49.268 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4b5acbf8
18:07:49.272 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1e80e87a
18:07:49.282 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@64912c3b
18:07:49.286 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5b904711
18:07:49.291 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@54af8115
18:07:49.291 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3dbe2d91
18:07:49.293 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.293 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@8092397
18:07:49.295 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.304 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46661
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46661
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46661
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50146&lt;-&gt;127.0.0.1:46661
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie1 HTTP/1.1
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /multicookie1 HTTP/1.1
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Cookie: foo=bar
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:46661
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /multicookie1 HTTP/1.1[\r][\n]&quot;
18:07:49.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
18:07:49.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:46661[\r][\n]&quot;
18:07:49.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.305 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.305 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.315 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie1 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46661]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@d2ba536]): &lt;empty&gt; }
18:07:49.318 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
18:07:49.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.320 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50146&lt;-&gt;127.0.0.1:46661
18:07:49.320 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.323 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.323 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46661
18:07:49.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /multicookie2 HTTP/1.1
18:07:49.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.323 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /multicookie2 HTTP/1.1
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Cookie: foo=bar
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:46661
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.323 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /multicookie2 HTTP/1.1[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:46661[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.323 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.325 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /multicookie2 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46661]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@1e95cec7]): &lt;empty&gt; }
18:07:49.327 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.327 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
18:07:49.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.329 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50146&lt;-&gt;127.0.0.1:46661
18:07:49.329 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.331 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.332 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.332 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46661
18:07:49.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /lots/of/path/elements/multicookie3 HTTP/1.1
18:07:49.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.332 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; GET /lots/of/path/elements/multicookie3 HTTP/1.1
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Cookie: foo=bar
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:46661
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.332 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;GET /lots/of/path/elements/multicookie3 HTTP/1.1[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Cookie: foo=bar[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:46661[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.332 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.335 [XNIO-30 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /lots/of/path/elements/multicookie3 (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[foo=bar], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46661]}, cookies=[foo:ersatz.undertow.server.handlers.CookieImpl@139d80db]): &lt;empty&gt; }
18:07:49.336 [XNIO-30 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/plain
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 27
18:07:49.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.337 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.337 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50146&lt;-&gt;127.0.0.1:46661
18:07:49.337 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.356 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@377ed1b2
18:07:49.382 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@13aacfd1
18:07:49.392 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2933d189
18:07:49.392 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4c6f3090
18:07:49.393 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@13f8f5e1
18:07:49.393 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@31412e7c
18:07:49.404 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@79f620c4
18:07:49.408 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35f4bb96
18:07:49.410 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21b7fb91
18:07:49.410 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@74b5be1b
18:07:49.427 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.427 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@6ce1a0a9
18:07:49.428 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.433 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.433 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38995
18:07:49.433 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38995
18:07:49.433 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38995
18:07:49.434 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53284&lt;-&gt;127.0.0.1:38995
18:07:49.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
18:07:49.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.434 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /setkermit HTTP/1.1
18:07:49.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:38995
18:07:49.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.434 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:38995[\r][\n]&quot;
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.434 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.440 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38995]}, cookies=[:]): &lt;empty&gt; }
18:07:49.442 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.442 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/plain
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 27
18:07:49.443 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.447 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
18:07:49.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:38995
18:07:49.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.451 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.451 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.451 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38995
18:07:49.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
18:07:49.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /showkermit HTTP/1.1
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: kermit=frog
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:38995
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
18:07:49.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: kermit=frog[\r][\n]&quot;
18:07:49.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:38995[\r][\n]&quot;
18:07:49.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.451 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.454 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[kermit=frog], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38995]}, cookies=[kermit:ersatz.undertow.server.handlers.CookieImpl@1fd20c2b]): &lt;empty&gt; }
18:07:49.456 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Set-Cookie: fozzy=bear; path=/some/deep/path[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Set-Cookie: miss=piggy; path=/[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Set-Cookie: fozzy=bear; path=/some/deep/path
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Set-Cookie: miss=piggy; path=/
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/plain
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 27
18:07:49.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.457 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [fozzy=&quot;bear&quot;, version:0, domain:localhost, path:/some/deep/path, expiry:null] Illegal 'path' attribute &quot;/some/deep/path&quot;. Path of origin: &quot;/showkermit&quot;
18:07:49.458 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy&quot;, version:0, domain:localhost, path:/, expiry:null]
18:07:49.458 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:38995
18:07:49.458 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:38995/some/deep/path]
18:07:49.462 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.462 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38995
18:07:49.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /some/deep/path HTTP/1.1
18:07:49.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.462 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /some/deep/path HTTP/1.1
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: fozzy=bear; miss=piggy
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:38995
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: miss=piggy
18:07:49.462 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /some/deep/path HTTP/1.1[\r][\n]&quot;
18:07:49.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: fozzy=bear; miss=piggy[\r][\n]&quot;
18:07:49.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:38995[\r][\n]&quot;
18:07:49.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
18:07:49.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.463 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.470 [XNIO-31 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /some/deep/path (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[fozzy=bear; miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38995]}, cookies=[fozzy:ersatz.undertow.server.handlers.CookieImpl@2f6cef98, miss:ersatz.undertow.server.handlers.CookieImpl@21ab0405]): &lt;empty&gt; }
18:07:49.472 [XNIO-31 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.473 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/plain
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 27
18:07:49.474 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.474 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:38995
18:07:49.474 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.477 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.477 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - Cookie [version: 0][name: miss][value: piggy][domain: localhost][path: /][expiry: null] match [localhost:38995/setkermit]
18:07:49.477 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.477 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38995
18:07:49.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /setkermit HTTP/1.1
18:07:49.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; GET /setkermit HTTP/1.1
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: miss=piggy
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:38995
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Cookie: miss=piggy
18:07:49.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;GET /setkermit HTTP/1.1[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:38995[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Cookie: miss=piggy[\r][\n]&quot;
18:07:49.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.483 [XNIO-31 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /setkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[miss=piggy, miss=piggy], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38995]}, cookies=[miss:ersatz.undertow.server.handlers.CookieImpl@45c32f74]): &lt;empty&gt; }
18:07:49.484 [XNIO-31 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Set-Cookie: kermit=frog; path=/showkermit[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Set-Cookie: kermit=frog; path=/showkermit
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/plain
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 27
18:07:49.485 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.486 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.486 [Test worker] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected [kermit=&quot;frog&quot;, version:0, domain:localhost, path:/showkermit, expiry:null] Illegal 'path' attribute &quot;/showkermit&quot;. Path of origin: &quot;/setkermit&quot;
18:07:49.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53284&lt;-&gt;127.0.0.1:38995
18:07:49.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.487 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@13aacfd1
18:07:49.495 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7bf05cdc
18:07:49.497 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f41f9a2
18:07:49.503 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@33edb0d4
18:07:49.511 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4e1937a6
18:07:49.519 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c6d825d
18:07:49.523 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@35ca97d3
18:07:49.524 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1bcc8ad3
18:07:49.531 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d36a874
18:07:49.539 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.539 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4e2aa467
18:07:49.539 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@52c0de07
18:07:49.540 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.548 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.548 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.548 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46451
18:07:49.548 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46451
18:07:49.548 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46451
18:07:49.548 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57230&lt;-&gt;127.0.0.1:46451
18:07:49.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /showkermit HTTP/1.1
18:07:49.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.549 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; GET /showkermit HTTP/1.1
18:07:49.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:46451
18:07:49.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
18:07:49.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;GET /showkermit HTTP/1.1[\r][\n]&quot;
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:46451[\r][\n]&quot;
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.550 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /showkermit (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46451]}, cookies=[:]): &lt;empty&gt; }
18:07:49.551 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1[\r][\n]&quot;
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1[\r][\n]&quot;
18:07:49.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:49.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:49.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Set-Cookie: fozzy=&quot;bear; path=/some/deep/path&quot;; Version=1
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Set-Cookie: miss=&quot;piggy; path=/&quot;; Version=1
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/plain
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 27
18:07:49.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.553 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.553 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [fozzy=&quot;bear; path=/some/deep/path&quot;, version:1, domain:localhost, path:/, expiry:null]
18:07:49.553 [Test worker] DEBUG org.apache.http.client.protocol.ResponseProcessCookies - Cookie accepted [miss=&quot;piggy; path=/&quot;, version:1, domain:localhost, path:/, expiry:null]
18:07:49.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57230&lt;-&gt;127.0.0.1:46451
18:07:49.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.562 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7bf05cdc
18:07:49.571 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4a8485a9
18:07:49.583 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a9756c0
18:07:49.584 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@145e6180
18:07:49.587 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7c723b25
18:07:49.593 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4628781f
18:07:49.594 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5083d4b1
18:07:49.600 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1265555c
18:07:49.601 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@600764f1
18:07:49.607 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@10ff6cc
18:07:49.607 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.608 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.607 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@44bd90e7
18:07:49.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.620 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.620 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44699
18:07:49.620 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44699
18:07:49.620 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44699
18:07:49.621 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52628&lt;-&gt;127.0.0.1:44699
18:07:49.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
18:07:49.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:44699
18:07:49.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:44699[\r][\n]&quot;
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.632 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44699]}, cookies=[:]): &lt;empty&gt; }
18:07:49.635 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
18:07:49.636 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.637 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.639 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52628&lt;-&gt;127.0.0.1:44699
18:07:49.639 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.642 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.642 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44699
18:07:49.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.642 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; GET /delta HTTP/1.1
18:07:49.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:44699
18:07:49.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
18:07:49.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.642 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:44699[\r][\n]&quot;
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.642 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.647 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44699]}, cookies=[:]): &lt;empty&gt; }
18:07:49.648 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
18:07:49.649 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.649 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.650 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52628&lt;-&gt;127.0.0.1:44699
18:07:49.650 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.651 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4a8485a9
18:07:49.657 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4de63d
18:07:49.663 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@243091f0
18:07:49.666 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@f2c5759
18:07:49.666 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3dc8c98a
18:07:49.667 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ff9d3bd
18:07:49.668 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@79ef11a5
18:07:49.668 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@574056a6
18:07:49.669 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@48ea6e76
18:07:49.671 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@bb91bef
18:07:49.672 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.672 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@5f57ccb4
18:07:49.673 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.677 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.677 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34083
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34083
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34083
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51802&lt;-&gt;127.0.0.1:34083
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
18:07:49.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34083
18:07:49.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.678 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34083[\r][\n]&quot;
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.683 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34083]}, cookies=[:]): &lt;empty&gt; }
18:07:49.684 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
18:07:49.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51802&lt;-&gt;127.0.0.1:34083
18:07:49.686 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.687 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.688 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.688 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34083
18:07:49.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; GET /delta HTTP/1.1
18:07:49.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:34083
18:07:49.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
18:07:49.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:34083[\r][\n]&quot;
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.708 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34083]}, cookies=[:]): &lt;empty&gt; }
18:07:49.709 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/date
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 36
18:07:49.710 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.710 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.711 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51802&lt;-&gt;127.0.0.1:34083
18:07:49.711 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.712 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4de63d
18:07:49.728 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7c696f76
18:07:49.729 [XNIO-34 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34083]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Sat, 10 Aug 2019 23:07:46 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:49.731 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4403df0e
18:07:49.735 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5f4462d0
18:07:49.746 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@530b1267
18:07:49.747 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@33b02b42
18:07:49.747 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@583ba8c5
18:07:49.749 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6763bb7
18:07:49.753 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@18cd01c2
18:07:49.753 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.754 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.755 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5db7ab6f
18:07:49.758 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.758 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45973
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45973
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45973
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38784&lt;-&gt;127.0.0.1:45973
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.758 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /delta HTTP/1.1
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: flavor=peanut-butter
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:45973
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.759 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:45973[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.759 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.760 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@7b5eafc4
18:07:49.767 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45973]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@14ed3a3e]): &lt;empty&gt; }
18:07:49.771 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.772 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.772 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.772 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.772 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/date
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 36
18:07:49.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.774 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38784&lt;-&gt;127.0.0.1:45973
18:07:49.774 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.776 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.776 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45973
18:07:49.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.776 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; GET /delta HTTP/1.1
18:07:49.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Cookie: flavor=peanut-butter
18:07:49.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:45973
18:07:49.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
18:07:49.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.777 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:45973[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.779 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=peanut-butter], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45973]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@ae9ae84]): &lt;empty&gt; }
18:07:49.789 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/date
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 36
18:07:49.790 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.790 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38784&lt;-&gt;127.0.0.1:45973
18:07:49.791 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.792 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7c696f76
18:07:49.797 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@25674cbb
18:07:49.804 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e76d09f
18:07:49.811 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1861d87a
18:07:49.811 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@23785514
18:07:49.811 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7d574cfe
18:07:49.815 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2c6dab8b
18:07:49.816 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@45c22887
18:07:49.816 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@350ada63
18:07:49.817 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@478e84d2
18:07:49.818 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.818 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@60b35b88
18:07:49.819 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40215
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40215
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40215
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42408&lt;-&gt;127.0.0.1:40215
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /delta HTTP/1.1
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:40215
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
18:07:49.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:40215[\r][\n]&quot;
18:07:49.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.826 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40215]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@17a05f06, flavor:ersatz.undertow.server.handlers.CookieImpl@1967a382]): &lt;empty&gt; }
18:07:49.842 [XNIO-36 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/date
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 36
18:07:49.843 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.843 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.844 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42408&lt;-&gt;127.0.0.1:40215
18:07:49.844 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.846 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.846 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.846 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40215
18:07:49.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /delta HTTP/1.1
18:07:49.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.846 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; GET /delta HTTP/1.1
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:40215
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.847 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;GET /delta HTTP/1.1[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:40215[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.847 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.855 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Cookie=[flavor=oatmeal; count=dozen], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40215]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@60b45c44, flavor:ersatz.undertow.server.handlers.CookieImpl@6e73ae22]): &lt;empty&gt; }
18:07:49.857 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.857 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.858 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 200 OK
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Encoding: gzip
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Type: text/date
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 36
18:07:49.858 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.858 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42408&lt;-&gt;127.0.0.1:40215
18:07:49.859 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:49.860 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@25674cbb
18:07:49.895 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@110deb58
18:07:49.897 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@43f5328a
18:07:49.897 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@63bed306
18:07:49.903 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7eb768c0
18:07:49.905 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e4c4cd8
18:07:49.905 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@22436e09
18:07:49.907 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@561c262
18:07:49.917 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4141ef27
18:07:49.919 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4dad3a84
18:07:49.923 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:49.923 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@56d583ff
18:07:49.924 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:49.942 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:49.943 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42071
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42071
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42071
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60860&lt;-&gt;127.0.0.1:42071
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:49.943 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /basic HTTP/1.1
18:07:49.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42071
18:07:49.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:49.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.944 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42071[\r][\n]&quot;
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.944 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.954 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:49.954 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.958 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@212f8ec5 for /basic
18:07:49.958 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:49.959 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:49.960 [XNIO-37 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:49.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:49.960 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:49.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:49.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:49.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
18:07:49.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42071 requested authentication
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:49.961 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:49.962 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:49.967 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:49.967 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:49.967 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:49.968 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:49.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /basic HTTP/1.1
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42071
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:49.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42071[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:49.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:49.989 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:49.989 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:49.994 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:50.009 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.024 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@212f8ec5 for /basic
18:07:50.024 [XNIO-37 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:50.024 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]}, cookies=[:]): &lt;empty&gt; }
18:07:50.025 [XNIO-37 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
18:07:50.026 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.026 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.026 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.028 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:42071
18:07:50.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60860&lt;-&gt;127.0.0.1:42071
18:07:50.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.036 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.036 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.036 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42071
18:07:50.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.036 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /basic HTTP/1.1
18:07:50.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42071
18:07:50.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:50.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.036 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42071[\r][\n]&quot;
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.036 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@212f8ec5 for /basic
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.040 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
18:07:50.041 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42071 requested authentication
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.041 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; GET /basic HTTP/1.1
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42071
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.042 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42071[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:50.042 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]} response {}}
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@212f8ec5 for /basic
18:07:50.055 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:50.055 [XNIO-37 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42071]}, cookies=[:]): &lt;empty&gt; }
18:07:50.056 [XNIO-37 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 200 OK
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Encoding: gzip
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Type: text/plain
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 27
18:07:50.057 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.057 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.057 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.057 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:42071
18:07:50.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60860&lt;-&gt;127.0.0.1:42071
18:07:50.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.058 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@110deb58
18:07:50.062 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@197ffe43
18:07:50.064 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6798b68
18:07:50.067 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@12a1d3d3
18:07:50.067 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@303ce671
18:07:50.071 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@717f411d
18:07:50.077 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7307628d
18:07:50.087 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@42d287e6
18:07:50.095 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@40fa34a0
18:07:50.096 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a4b00cf
18:07:50.097 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.098 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.100 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.100 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39941
18:07:50.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39941
18:07:50.100 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39941
18:07:50.100 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39941 with timeout 0
18:07:50.101 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:50.101 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:50.101 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:50.101 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@ef6ed64
18:07:50.158 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:50.158 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:50.158 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:50.159 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.159 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.159 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47362&lt;-&gt;127.0.0.1:39941
18:07:50.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /basic HTTP/1.1
18:07:50.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:39941
18:07:50.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:50.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:39941[\r][\n]&quot;
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@64396678 for /basic
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.163 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.164 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39941 requested authentication
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.165 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /basic HTTP/1.1
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:39941
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.165 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:39941[\r][\n]&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:50.166 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.187 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.188 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.188 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
18:07:50.188 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.190 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.190 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
18:07:50.192 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.192 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
18:07:50.192 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.193 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.193 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
18:07:50.193 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.194 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.194 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
18:07:50.205 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.205 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
18:07:50.205 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.206 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
18:07:50.206 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.206 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
18:07:50.206 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
18:07:50.207 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@64396678 for /basic
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
18:07:50.207 [XNIO-38 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]}, cookies=[:]): &lt;empty&gt; }
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
18:07:50.207 [XNIO-38 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.207 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:50.208 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/plain
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 27
18:07:50.208 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.209 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.209 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.209 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:39941
18:07:50.210 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47362&lt;-&gt;127.0.0.1:39941
18:07:50.210 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.211 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.211 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39941
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /basic HTTP/1.1
18:07:50.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:39941
18:07:50.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:50.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:39941[\r][\n]&quot;
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.211 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@64396678 for /basic
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.212 [XNIO-38 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
18:07:50.213 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39941 requested authentication
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.214 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; GET /basic HTTP/1.1
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:39941
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.214 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:39941[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
18:07:50.214 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.218 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.218 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.219 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]} response {}}
18:07:50.219 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.219 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@64396678 for /basic
18:07:50.219 [XNIO-38 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
18:07:50.219 [XNIO-38 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39941]}, cookies=[:]): &lt;empty&gt; }
18:07:50.220 [XNIO-38 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.221 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/plain
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 27
18:07:50.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.223 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.223 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:39941
18:07:50.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47362&lt;-&gt;127.0.0.1:39941
18:07:50.224 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.224 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@197ffe43
18:07:50.236 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@17356ecc
18:07:50.238 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3fd14eb4
18:07:50.244 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1443b964
18:07:50.244 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4e39c4fb
18:07:50.244 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@17cc727d
18:07:50.245 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e1df033
18:07:50.245 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@178f9a8c
18:07:50.245 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@38afa1cd
18:07:50.245 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.247 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@46bae89a
18:07:50.247 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5be887a3
18:07:50.247 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42177
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42177
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42177
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:36926&lt;-&gt;127.0.0.1:42177
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /basic HTTP/1.1
18:07:50.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42177
18:07:50.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:50.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42177[\r][\n]&quot;
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6d9af213 for /basic
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.263 [XNIO-39 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:50.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:50.264 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42177 requested authentication
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.264 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.265 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /basic HTTP/1.1
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42177
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42177[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:50.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6d9af213 for /basic
18:07:50.277 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.278 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.278 [XNIO-39 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.278 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:50.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:50.279 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42177 requested authentication
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36926&lt;-&gt;127.0.0.1:42177
18:07:50.279 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.293 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.293 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.293 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42177
18:07:50.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /basic HTTP/1.1
18:07:50.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42177
18:07:50.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:50.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.294 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42177[\r][\n]&quot;
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.294 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6d9af213 for /basic
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.299 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:50.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:50.300 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42177 requested authentication
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.300 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.301 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.301 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.301 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.301 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; GET /basic HTTP/1.1
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:42177
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:42177[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:50.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@6d9af213 for /basic
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {}}
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42177]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.303 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
18:07:50.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
18:07:50.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42177 requested authentication
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:36926&lt;-&gt;127.0.0.1:42177
18:07:50.304 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.308 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@17356ecc
18:07:50.314 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@69493094
18:07:50.323 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@73930274
18:07:50.327 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@60d4eb9a
18:07:50.335 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@56731186
18:07:50.337 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c9879d
18:07:50.338 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@787e8a46
18:07:50.347 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@19c87f21
18:07:50.348 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2c861d7
18:07:50.349 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5b4260d3
18:07:50.350 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.350 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@5e8aa369
18:07:50.350 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.353 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.353 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40485
18:07:50.353 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40485
18:07:50.353 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40485
18:07:50.353 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40485 with timeout 0
18:07:50.353 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:50.354 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:50.354 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:50.380 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:50.380 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:50.380 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:50.380 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.380 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.380 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53822&lt;-&gt;127.0.0.1:40485
18:07:50.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /basic HTTP/1.1
18:07:50.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:40485
18:07:50.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:40485[\r][\n]&quot;
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@a055b27 for /basic
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.382 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40485 requested authentication
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.383 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.384 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /basic HTTP/1.1
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:40485
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:40485[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:50.384 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@a055b27 for /basic
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.387 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.388 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.388 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.388 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40485 requested authentication
18:07:50.388 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.388 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.389 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53822&lt;-&gt;127.0.0.1:40485
18:07:50.389 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.390 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.390 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.390 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40485
18:07:50.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.390 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /basic HTTP/1.1
18:07:50.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:40485
18:07:50.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.390 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:40485[\r][\n]&quot;
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.390 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@a055b27 for /basic
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.395 [XNIO-40 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40485 requested authentication
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /basic HTTP/1.1
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
18:07:50.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; GET /basic HTTP/1.1
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:40485
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;GET /basic HTTP/1.1[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:40485[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
18:07:50.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@a055b27 for /basic
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {}}
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ GET /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40485]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
18:07:50.400 [XNIO-40 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
18:07:50.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
18:07:50.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
18:07:50.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.401 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.401 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.401 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40485 requested authentication
18:07:50.401 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.401 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.402 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53822&lt;-&gt;127.0.0.1:40485
18:07:50.402 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.402 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@69493094
18:07:50.426 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1ff6595d
18:07:50.428 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@739047d
18:07:50.428 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@151f4d5c
18:07:50.431 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3734fcd1
18:07:50.435 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@10987af7
18:07:50.441 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5f4fe3bb
18:07:50.442 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@69932f64
18:07:50.442 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@182c4997
18:07:50.442 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7d343cd9
18:07:50.442 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.442 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@6561e10c
18:07:50.443 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.447 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.448 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39637
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39637
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39637
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42468&lt;-&gt;127.0.0.1:39637
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /digest HTTP/1.1
18:07:50.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:39637
18:07:50.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:39637[\r][\n]&quot;
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.449 [XNIO-41 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.449 [XNIO-41 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.450 [XNIO-41 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@65780eaa for /digest
18:07:50.450 [XNIO-41 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.452 [XNIO-41 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
18:07:50.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39637 requested authentication
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.452 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.453 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.456 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.456 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.456 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.456 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.456 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /digest HTTP/1.1
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:39637
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:39637[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.466 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.466 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.468 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.476 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.477 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@65780eaa for /digest
18:07:50.477 [XNIO-41 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:50.477 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;, uri=&quot;/digest&quot;, response=&quot;bd1953f3d4d42875b2295076d6379f8f&quot;, qop=auth, nc=00000001, cnonce=&quot;261be655f4af303c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]}, cookies=[:]): &lt;empty&gt; }
18:07:50.478 [XNIO-41 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;,qop=&quot;auth&quot;,rspauth=&quot;c02777a1318b33129520eb04d61ccc91&quot;,cnonce=&quot;261be655f4af303c&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;,qop=&quot;auth&quot;,rspauth=&quot;c02777a1318b33129520eb04d61ccc91&quot;,cnonce=&quot;261be655f4af303c&quot;,nc=00000001[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Authentication-Info: nextnonce=&quot;2/dSD4WHD8MNMTU2NTQ3ODQ3MDQ1MW/hi+aEBH+w7iEM+tLvq7s=&quot;,qop=&quot;auth&quot;,rspauth=&quot;c02777a1318b33129520eb04d61ccc91&quot;,cnonce=&quot;261be655f4af303c&quot;,nc=00000001
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/plain
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 27
18:07:50.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.479 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:39637
18:07:50.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42468&lt;-&gt;127.0.0.1:39637
18:07:50.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.487 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.487 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39637
18:07:50.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.487 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /digest HTTP/1.1
18:07:50.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:39637
18:07:50.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.487 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:39637[\r][\n]&quot;
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.487 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.490 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.490 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.490 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@65780eaa for /digest
18:07:50.490 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.491 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
18:07:50.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39637 requested authentication
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.491 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.492 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; GET /digest HTTP/1.1
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:39637
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.493 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:39637[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.493 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.494 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.495 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.495 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]} response {}}
18:07:50.496 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.496 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@65780eaa for /digest
18:07:50.496 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:50.496 [XNIO-41 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;, uri=&quot;/digest&quot;, response=&quot;f630321e142d1b3b82b9ca756259e96e&quot;, qop=auth, nc=00000001, cnonce=&quot;63951dd4f61c0553&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39637]}, cookies=[:]): &lt;empty&gt; }
18:07:50.497 [XNIO-41 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;42eb2a917708b18cb08d2edc03b02399&quot;,cnonce=&quot;63951dd4f61c0553&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;42eb2a917708b18cb08d2edc03b02399&quot;,cnonce=&quot;63951dd4f61c0553&quot;,nc=00000001[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 200 OK
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Encoding: gzip
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Authentication-Info: nextnonce=&quot;3M+ilGxyFPYNMTU2NTQ3ODQ3MDQ5MDrL7z0g7Q9HyIGfKgbkLS4=&quot;,qop=&quot;auth&quot;,rspauth=&quot;42eb2a917708b18cb08d2edc03b02399&quot;,cnonce=&quot;63951dd4f61c0553&quot;,nc=00000001
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Type: text/plain
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 27
18:07:50.498 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.498 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.498 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.498 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:39637
18:07:50.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42468&lt;-&gt;127.0.0.1:39637
18:07:50.499 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.500 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1ff6595d
18:07:50.504 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5beffb5c
18:07:50.506 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7222514
18:07:50.507 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5705b89f
18:07:50.506 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1b125938
18:07:50.511 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@50f3dada
18:07:50.523 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5ca71ec6
18:07:50.527 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@691d6e85
18:07:50.528 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@60c36a46
18:07:50.531 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@754f1fbc
18:07:50.531 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.531 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@6a1d5cc6
18:07:50.531 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.534 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41071
18:07:50.535 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41071
18:07:50.535 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41071
18:07:50.535 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41071 with timeout 0
18:07:50.535 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:50.535 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:50.535 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:50.566 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:50.566 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:50.566 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:50.566 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.566 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.566 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56428&lt;-&gt;127.0.0.1:41071
18:07:50.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.566 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /digest HTTP/1.1
18:07:50.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:41071
18:07:50.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.571 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.571 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.571 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@246c289e for /digest
18:07:50.571 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.571 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.572 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.572 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.572 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
18:07:50.572 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.572 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.572 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41071 requested authentication
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.573 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.574 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /digest HTTP/1.1
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:41071
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.574 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.574 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.579 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.579 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.579 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.580 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.580 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@246c289e for /digest
18:07:50.580 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:50.581 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;, uri=&quot;/digest&quot;, response=&quot;ead87a7776ed537c756a351ddf1d41a5&quot;, qop=auth, nc=00000001, cnonce=&quot;e4b90ecc64e35e91&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]}, cookies=[:]): &lt;empty&gt; }
18:07:50.581 [XNIO-42 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;32b092235a3bc397d82803e0d3d852e7&quot;,cnonce=&quot;e4b90ecc64e35e91&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;32b092235a3bc397d82803e0d3d852e7&quot;,cnonce=&quot;e4b90ecc64e35e91&quot;,nc=00000001[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Authentication-Info: nextnonce=&quot;eu8E6W+6hz8NMTU2NTQ3ODQ3MDU3MYs1c4zQ08nUWZ7tAmAiNKQ=&quot;,qop=&quot;auth&quot;,rspauth=&quot;32b092235a3bc397d82803e0d3d852e7&quot;,cnonce=&quot;e4b90ecc64e35e91&quot;,nc=00000001
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
18:07:50.582 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.582 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.583 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.583 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:41071
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56428&lt;-&gt;127.0.0.1:41071
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.584 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.584 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41071
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.584 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.585 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /digest HTTP/1.1
18:07:50.585 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:41071
18:07:50.585 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.585 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.585 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.585 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.587 [XNIO-42 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.587 [XNIO-42 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.587 [XNIO-42 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@246c289e for /digest
18:07:50.588 [XNIO-42 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.589 [XNIO-42 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 0
18:07:50.590 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41071 requested authentication
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.590 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.591 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.591 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; GET /digest HTTP/1.1
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:41071
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.592 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.593 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.595 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.596 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.596 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]} response {}}
18:07:50.597 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
18:07:50.597 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@246c289e for /digest
18:07:50.597 [XNIO-42 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
18:07:50.598 [XNIO-42 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;, uri=&quot;/digest&quot;, response=&quot;491cea0b43dd4b904029e1c0bd2087dc&quot;, qop=auth, nc=00000001, cnonce=&quot;f675194de542316d&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]}, cookies=[:]): &lt;empty&gt; }
18:07:50.598 [XNIO-42 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f32c88b74b32d6e0fdf1fb8a9d95b53c&quot;,cnonce=&quot;f675194de542316d&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f32c88b74b32d6e0fdf1fb8a9d95b53c&quot;,cnonce=&quot;f675194de542316d&quot;,nc=00000001[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Authentication-Info: nextnonce=&quot;LXmJ1kbimUQNMTU2NTQ3ODQ3MDU4OMw8RTTUzhyAd7ncWqa/1iw=&quot;,qop=&quot;auth&quot;,rspauth=&quot;f32c88b74b32d6e0fdf1fb8a9d95b53c&quot;,cnonce=&quot;f675194de542316d&quot;,nc=00000001
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
18:07:50.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.600 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
18:07:50.600 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:41071
18:07:50.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56428&lt;-&gt;127.0.0.1:41071
18:07:50.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.601 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5beffb5c
18:07:50.611 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3554a9f3
18:07:50.613 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@67a1dd37
18:07:50.615 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3c89a382
18:07:50.619 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3886b30b
18:07:50.619 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6a131578
18:07:50.619 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@775c6567
18:07:50.625 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@57a6e678
18:07:50.625 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@587c4103
18:07:50.626 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@204f7a7e
18:07:50.626 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.626 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@34c0e9d5
18:07:50.627 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40545
18:07:50.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40545
18:07:50.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40545
18:07:50.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39840&lt;-&gt;127.0.0.1:40545
18:07:50.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.632 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /digest HTTP/1.1
18:07:50.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40545
18:07:50.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.632 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40545[\r][\n]&quot;
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.632 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.637 [XNIO-43 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.637 [XNIO-43 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.637 [XNIO-43 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3b31307f for /digest
18:07:50.637 [XNIO-43 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.637 [XNIO-43 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.638 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.638 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.638 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.638 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40545 requested authentication
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.638 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.639 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.639 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.639 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.639 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /digest HTTP/1.1
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40545
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.639 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40545[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.639 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.643 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.643 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.643 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.644 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.644 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3b31307f for /digest
18:07:50.644 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;lf4kq13F6hUNMTU2NTQ3ODQ3MDYzN1pU1QCtvyfh8x1TxuTwV68=&quot;, uri=&quot;/digest&quot;, response=&quot;4be3944ca309f167ef0b4565ec28a4cd&quot;, qop=auth, nc=00000001, cnonce=&quot;c65b7d50ee33daf4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.645 [XNIO-43 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;bAmJCqbK8kENMTU2NTQ3ODQ3MDY0NDZ4ivDqNEvNPYf+lDMe+aU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;bAmJCqbK8kENMTU2NTQ3ODQ3MDY0NDZ4ivDqNEvNPYf+lDMe+aU=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.645 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40545 requested authentication
18:07:50.645 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.646 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.646 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39840&lt;-&gt;127.0.0.1:40545
18:07:50.646 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.648 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.648 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.648 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40545
18:07:50.648 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.648 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.648 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /digest HTTP/1.1
18:07:50.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40545
18:07:50.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.648 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40545[\r][\n]&quot;
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.648 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.654 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.654 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.654 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3b31307f for /digest
18:07:50.655 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.656 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.656 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40545 requested authentication
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.656 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.657 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; GET /digest HTTP/1.1
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:40545
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.657 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:40545[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.657 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.662 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.662 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.663 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.663 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.663 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@3b31307f for /digest
18:07:50.663 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;3vYFx94nOrINMTU2NTQ3ODQ3MDY1NZmrN4odFovzH2ArTRwTSXA=&quot;, uri=&quot;/digest&quot;, response=&quot;0059547d381317b770d01ec09cc852a6&quot;, qop=auth, nc=00000001, cnonce=&quot;299e7d97325e54a7&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40545]} response {}}
18:07:50.663 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;t/JgR7tM3EYNMTU2NTQ3ODQ3MDY2M7Etky+NeBfji/w/InMGz5A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
18:07:50.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;t/JgR7tM3EYNMTU2NTQ3ODQ3MDY2M7Etky+NeBfji/w/InMGz5A=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
18:07:50.664 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:40545 requested authentication
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39840&lt;-&gt;127.0.0.1:40545
18:07:50.664 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.665 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3554a9f3
18:07:50.670 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@23ced147
18:07:50.671 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@8ec1a97
18:07:50.671 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6e97828d
18:07:50.672 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@65e57dce
18:07:50.679 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c45f32d
18:07:50.683 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1683ff18
18:07:50.683 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21673f53
18:07:50.687 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@d26e527
18:07:50.687 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@294fd788
18:07:50.691 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.691 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.691 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@c8d8d5f
18:07:50.693 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.693 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.693 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37267
18:07:50.693 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37267
18:07:50.694 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37267
18:07:50.694 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37267 with timeout 0
18:07:50.694 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
18:07:50.694 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
18:07:50.694 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
18:07:50.715 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
18:07:50.715 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
18:07:50.715 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
18:07:50.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.716 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
18:07:50.716 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57534&lt;-&gt;127.0.0.1:37267
18:07:50.716 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.716 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.716 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /digest HTTP/1.1
18:07:50.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37267
18:07:50.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37267[\r][\n]&quot;
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.719 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.719 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.719 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@141afbb1 for /digest
18:07:50.719 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.719 [XNIO-44 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.720 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.720 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.720 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.720 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37267 requested authentication
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.721 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /digest HTTP/1.1
18:07:50.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37267
18:07:50.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.721 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.722 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37267[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.722 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.727 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.727 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.727 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.728 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.728 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@141afbb1 for /digest
18:07:50.728 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;wRaaDiUrOcENMTU2NTQ3ODQ3MDcxOUzGHkrb2sRjzi1gqG1f5/Q=&quot;, uri=&quot;/digest&quot;, response=&quot;f29057f24cf9e26f2a8d9bae7c31fb21&quot;, qop=auth, nc=00000001, cnonce=&quot;2ff5ed2b1eefc579&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.728 [XNIO-44 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;S8DHEwpnj9gNMTU2NTQ3ODQ3MDcyOFnWZXK/vwWvA9Y3vtpqkpQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;S8DHEwpnj9gNMTU2NTQ3ODQ3MDcyOFnWZXK/vwWvA9Y3vtpqkpQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.729 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37267 requested authentication
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.729 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57534&lt;-&gt;127.0.0.1:37267
18:07:50.730 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.731 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.731 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.731 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37267
18:07:50.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.731 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /digest HTTP/1.1
18:07:50.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37267
18:07:50.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.731 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37267[\r][\n]&quot;
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.731 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.735 [XNIO-44 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.735 [XNIO-44 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.735 [XNIO-44 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@141afbb1 for /digest
18:07:50.735 [XNIO-44 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.735 [XNIO-44 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.736 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37267 requested authentication
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
18:07:50.736 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
18:07:50.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /digest HTTP/1.1
18:07:50.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
18:07:50.737 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
18:07:50.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; GET /digest HTTP/1.1
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:37267
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.737 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;GET /digest HTTP/1.1[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:37267[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
18:07:50.737 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.738 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.738 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
18:07:50.739 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.739 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.739 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@141afbb1 for /digest
18:07:50.739 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ GET /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;XpIJCX3I0noNMTU2NTQ3ODQ3MDczNSpsgucuIb2+/7qh9+g9W+g=&quot;, uri=&quot;/digest&quot;, response=&quot;0beb17863dc8e78a124123e1f613b591&quot;, qop=auth, nc=00000001, cnonce=&quot;c96af44b3b70d1b1&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37267]} response {}}
18:07:50.739 [XNIO-44 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;y6uS9bbuPFANMTU2NTQ3ODQ3MDczOQLsQEqGct+QjEpYtbBVzA4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 401 Unauthorized
18:07:50.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
18:07:50.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;y6uS9bbuPFANMTU2NTQ3ODQ3MDczOQLsQEqGct+QjEpYtbBVzA4=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
18:07:50.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
18:07:50.740 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37267 requested authentication
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57534&lt;-&gt;127.0.0.1:37267
18:07:50.741 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.742 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@23ced147
18:07:50.747 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@27698f94
18:07:50.751 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@e7e90f7
18:07:50.752 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3837c948
18:07:50.755 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@440783c3
18:07:50.760 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@708ccc20
18:07:50.760 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@617a408b
18:07:50.760 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@49d1e37d
18:07:50.760 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7ea33a91
18:07:50.760 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@570df94d
18:07:50.767 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.767 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@16149269
18:07:50.769 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.780 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.781 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39767
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39767
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39767
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40774&lt;-&gt;127.0.0.1:39767
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /pass HTTP/1.1
18:07:50.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:39767
18:07:50.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
18:07:50.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
18:07:50.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:39767[\r][\n]&quot;
18:07:50.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.783 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39767]}, cookies=[:]): &lt;empty&gt; }
18:07:50.784 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 200 OK
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Encoding: gzip
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Type: text/plain
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 27
18:07:50.785 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.786 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40774&lt;-&gt;127.0.0.1:39767
18:07:50.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.787 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.787 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.787 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39767
18:07:50.787 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /pass HTTP/1.1
18:07:50.787 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.788 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; GET /pass HTTP/1.1
18:07:50.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:39767
18:07:50.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
18:07:50.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.788 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;GET /pass HTTP/1.1[\r][\n]&quot;
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:39767[\r][\n]&quot;
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.788 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.791 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39767]}, cookies=[:]): &lt;empty&gt; }
18:07:50.794 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 200 OK
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Encoding: gzip
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Type: text/plain
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 27
18:07:50.795 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.795 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.796 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40774&lt;-&gt;127.0.0.1:39767
18:07:50.796 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.796 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@27698f94
18:07:50.806 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7a157b05
18:07:50.811 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f60d0fc
18:07:50.811 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@91b053f
18:07:50.811 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@200439ea
18:07:50.814 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@576cd53b
18:07:50.819 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b2d44ec
18:07:50.822 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4a592501
18:07:50.827 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5cfe29f6
18:07:50.831 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@173b2bf7
18:07:50.831 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.832 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.836 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@1f2ccc3a
18:07:50.844 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.844 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.844 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44935
18:07:50.844 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44935
18:07:50.845 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44935
18:07:50.845 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40282&lt;-&gt;127.0.0.1:44935
18:07:50.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /handling HTTP/1.1
18:07:50.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:44935
18:07:50.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
18:07:50.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:44935[\r][\n]&quot;
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.845 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.850 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44935]}, cookies=[:]): &lt;empty&gt; }
18:07:50.851 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:50.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.851 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.851 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:50.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
18:07:50.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
18:07:50.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40282&lt;-&gt;127.0.0.1:44935
18:07:50.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.853 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.854 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.854 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44935
18:07:50.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.854 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; GET /handling HTTP/1.1
18:07:50.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:44935
18:07:50.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
18:07:50.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.854 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:44935[\r][\n]&quot;
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.854 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.859 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44935]}, cookies=[:]): &lt;empty&gt; }
18:07:50.860 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:50.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.860 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:50.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
18:07:50.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
18:07:50.860 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.860 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.860 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40282&lt;-&gt;127.0.0.1:44935
18:07:50.860 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.861 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7a157b05
18:07:50.864 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@78ba915d
18:07:50.867 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6d57e37a
18:07:50.867 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5827fbf5
18:07:50.869 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a8a214c
18:07:50.870 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1774785d
18:07:50.871 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@ee945e9
18:07:50.879 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@15b5dbd7
18:07:50.888 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27b75de7
18:07:50.895 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@df4ec2
18:07:50.903 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.903 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@2289f9f1
18:07:50.903 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.906 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.907 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40125
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40125
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40125
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45816&lt;-&gt;127.0.0.1:40125
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.907 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /handling HTTP/1.1
18:07:50.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:40125
18:07:50.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
18:07:50.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.907 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:40125[\r][\n]&quot;
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.907 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.915 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40125]}, cookies=[:]): &lt;empty&gt; }
18:07:50.915 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:50.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.916 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 210 Unknown
18:07:50.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
18:07:50.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
18:07:50.916 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.916 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.916 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45816&lt;-&gt;127.0.0.1:40125
18:07:50.916 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.917 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.917 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.917 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40125
18:07:50.917 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.917 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.917 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; GET /handling HTTP/1.1
18:07:50.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:40125
18:07:50.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
18:07:50.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:40125[\r][\n]&quot;
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.919 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40125]}, cookies=[:]): &lt;empty&gt; }
18:07:50.920 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:50.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.920 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 210 Unknown
18:07:50.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
18:07:50.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
18:07:50.920 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.921 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.921 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45816&lt;-&gt;127.0.0.1:40125
18:07:50.921 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.921 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@78ba915d
18:07:50.929 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3668bdc9
18:07:50.930 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7113c27f
18:07:50.931 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@77d3c06
18:07:50.935 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7157190d
18:07:50.939 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4a4f7cab
18:07:50.941 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@10c72f63
18:07:50.943 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@76437660
18:07:50.951 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@637c4cf4
18:07:50.951 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@643cb3b4
18:07:50.958 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:50.958 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@5bfceb7f
18:07:50.959 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:50.962 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.963 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39919
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39919
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39919
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40872&lt;-&gt;127.0.0.1:39919
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.963 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /handling HTTP/1.1
18:07:50.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:39919
18:07:50.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
18:07:50.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:39919[\r][\n]&quot;
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.963 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.970 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39919]}, cookies=[:]): &lt;empty&gt; }
18:07:50.970 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:50.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 211 Unknown
18:07:50.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
18:07:50.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
18:07:50.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.972 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.972 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40872&lt;-&gt;127.0.0.1:39919
18:07:50.972 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.973 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:50.973 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:50.973 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39919
18:07:50.973 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:50.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:50.974 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:50.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; GET /handling HTTP/1.1
18:07:50.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:39919
18:07:50.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
18:07:50.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:50.974 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:50.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:50.974 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:39919[\r][\n]&quot;
18:07:50.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:50.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:50.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:50.975 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
18:07:50.979 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39919]}, cookies=[:]): &lt;empty&gt; }
18:07:50.979 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:50.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:50.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:50.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:50.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:50.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
18:07:50.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 211 Unknown
18:07:50.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
18:07:50.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
18:07:50.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:50.980 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:50.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40872&lt;-&gt;127.0.0.1:39919
18:07:50.980 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:50.981 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3668bdc9
18:07:50.986 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1a286c89
18:07:50.988 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1043b247
18:07:50.991 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2cb36d65
18:07:50.992 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2524520d
18:07:50.992 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33d7f4bf
18:07:50.992 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@252ec2a1
18:07:50.995 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5a8d234b
18:07:50.997 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@f3b0b2b
18:07:50.998 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@71a0476d
18:07:51.003 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.003 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@39511ce6
18:07:51.004 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.016 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.016 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.016 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43201
18:07:51.016 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43201
18:07:51.016 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43201
18:07:51.017 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42444&lt;-&gt;127.0.0.1:43201
18:07:51.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /handling HTTP/1.1
18:07:51.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:43201
18:07:51.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
18:07:51.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:43201[\r][\n]&quot;
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.019 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.023 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43201]}, cookies=[:]): &lt;empty&gt; }
18:07:51.023 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:51.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.024 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:51.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
18:07:51.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
18:07:51.024 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.024 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42444&lt;-&gt;127.0.0.1:43201
18:07:51.024 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.025 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.025 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.025 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43201
18:07:51.025 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.025 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.025 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; GET /handling HTTP/1.1
18:07:51.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:43201
18:07:51.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
18:07:51.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.025 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:43201[\r][\n]&quot;
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.025 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.027 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43201]}, cookies=[:]): &lt;empty&gt; }
18:07:51.027 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
18:07:51.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.027 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.028 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 205 Reset Content
18:07:51.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
18:07:51.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
18:07:51.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.028 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.028 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42444&lt;-&gt;127.0.0.1:43201
18:07:51.028 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.028 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1a286c89
18:07:51.032 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@571bdce3
18:07:51.036 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2468609a
18:07:51.036 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4b7a0bab
18:07:51.037 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@458a6885
18:07:51.036 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1964ef31
18:07:51.039 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@66908237
18:07:51.042 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@ea8bf2
18:07:51.046 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@322081e8
18:07:51.047 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@44196bbf
18:07:51.055 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.055 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@50f5462f
18:07:51.055 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.221 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.221 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.221 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39765
18:07:51.221 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39765
18:07:51.222 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.222 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
18:07:51.222 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39765
18:07:51.223 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54372&lt;-&gt;127.0.0.1:39765
18:07:51.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.224 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.224 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
18:07:51.224 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.224 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
18:07:51.225 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /handling HTTP/1.1
18:07:51.225 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.225 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
18:07:51.226 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.226 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
18:07:51.226 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.226 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
18:07:51.227 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.227 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
18:07:51.227 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.227 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
18:07:51.231 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.231 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
18:07:51.231 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.231 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
18:07:51.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:39765
18:07:51.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
18:07:51.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.232 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:39765[\r][\n]&quot;
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.232 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.232 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.232 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
18:07:51.233 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.234 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
18:07:51.234 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
18:07:51.234 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: Shutdown connection
18:07:51.251 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39765]}, cookies=[:]): &lt;empty&gt; }
18:07:51.251 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.251 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:51.251 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.251 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.251 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.251 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 210 Unknown
18:07:51.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
18:07:51.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
18:07:51.252 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.252 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.252 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54372&lt;-&gt;127.0.0.1:39765
18:07:51.252 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39765
18:07:51.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; GET /handling HTTP/1.1
18:07:51.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:39765
18:07:51.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
18:07:51.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.253 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:39765[\r][\n]&quot;
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.253 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.257 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39765]}, cookies=[:]): &lt;empty&gt; }
18:07:51.258 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.258 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
18:07:51.258 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.258 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.258 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.258 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 210 Unknown
18:07:51.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
18:07:51.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
18:07:51.259 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.259 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54372&lt;-&gt;127.0.0.1:39765
18:07:51.259 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.259 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@571bdce3
18:07:51.263 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@143bae32
18:07:51.271 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5ab0529b
18:07:51.272 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@49cb44d
18:07:51.272 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7b8a173d
18:07:51.274 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5f7ee701
18:07:51.274 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@144a6788
18:07:51.275 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6217bede
18:07:51.276 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@25b350c4
18:07:51.279 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4b70f725
18:07:51.287 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.287 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@430867d4
18:07:51.287 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.290 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.290 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.290 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41071
18:07:51.290 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41071
18:07:51.291 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41071
18:07:51.291 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56490&lt;-&gt;127.0.0.1:41071
18:07:51.291 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.291 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.291 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
18:07:51.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:41071
18:07:51.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
18:07:51.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.291 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.291 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.301 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]}, cookies=[:]): &lt;empty&gt; }
18:07:51.301 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:51.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.302 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 211 Unknown
18:07:51.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
18:07:51.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
18:07:51.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.302 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56490&lt;-&gt;127.0.0.1:41071
18:07:51.302 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.303 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.303 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41071
18:07:51.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.303 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; GET /handling HTTP/1.1
18:07:51.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:41071
18:07:51.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
18:07:51.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.303 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:41071[\r][\n]&quot;
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.303 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.307 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41071]}, cookies=[:]): &lt;empty&gt; }
18:07:51.308 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
18:07:51.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
18:07:51.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
18:07:51.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.309 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 211 Unknown
18:07:51.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
18:07:51.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
18:07:51.309 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.309 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.309 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56490&lt;-&gt;127.0.0.1:41071
18:07:51.309 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.310 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@143bae32
18:07:51.315 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5158a65a
18:07:51.317 [XNIO-51 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
18:07:51.322 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3558b94
18:07:51.323 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@98fb92
18:07:51.339 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@20e643fb
18:07:51.347 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2f705c48
18:07:51.355 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@ea43cac
18:07:51.355 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4f80b12
18:07:51.367 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@77cff7de
18:07:51.375 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4e1b87c3
18:07:51.383 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.383 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.391 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@3a46dafc
18:07:51.394 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.394 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.394 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46875
18:07:51.394 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46875
18:07:51.395 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46875
18:07:51.395 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53998&lt;-&gt;127.0.0.1:46875
18:07:51.395 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.395 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.395 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
18:07:51.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:46875
18:07:51.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
18:07:51.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:46875[\r][\n]&quot;
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.396 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46875]}, cookies=[:]): &lt;empty&gt; }
18:07:51.397 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
18:07:51.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.398 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.399 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53998&lt;-&gt;127.0.0.1:46875
18:07:51.399 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.400 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46875
18:07:51.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; GET /handling HTTP/1.1
18:07:51.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:46875
18:07:51.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
18:07:51.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.400 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:46875[\r][\n]&quot;
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.400 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.417 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46875]}, cookies=[:]): &lt;empty&gt; }
18:07:51.418 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 200 OK
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Encoding: gzip
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Type: text/plain
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 27
18:07:51.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.419 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53998&lt;-&gt;127.0.0.1:46875
18:07:51.420 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.420 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5158a65a
18:07:51.424 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@193dbb51
18:07:51.424 [XNIO-52 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.426 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f629255
18:07:51.426 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@650fa63
18:07:51.427 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@102429c3
18:07:51.447 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@32b73df4
18:07:51.450 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@34ecd00e
18:07:51.451 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@65a0421e
18:07:51.451 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6b4e7a60
18:07:51.452 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.452 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.454 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.454 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43227
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43227
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43227
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47940&lt;-&gt;127.0.0.1:43227
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.455 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
18:07:51.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:43227
18:07:51.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
18:07:51.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.455 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:43227[\r][\n]&quot;
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.455 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.451 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7d3f98de
18:07:51.456 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@72600a38
18:07:51.458 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43227]}, cookies=[:]): &lt;empty&gt; }
18:07:51.459 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
18:07:51.460 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.460 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47940&lt;-&gt;127.0.0.1:43227
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.461 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43227
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.461 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; GET /handling HTTP/1.1
18:07:51.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:43227
18:07:51.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
18:07:51.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.461 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.461 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:43227[\r][\n]&quot;
18:07:51.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.462 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.463 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43227]}, cookies=[:]): &lt;empty&gt; }
18:07:51.463 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Encoding: gzip
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Type: text/plain
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 27
18:07:51.464 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.464 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.465 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47940&lt;-&gt;127.0.0.1:43227
18:07:51.465 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.465 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@193dbb51
18:07:51.469 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6b78c031
18:07:51.471 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7e0973c3
18:07:51.472 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@30809f99
18:07:51.471 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3addd0d8
18:07:51.478 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5b41a3d5
18:07:51.478 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.479 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.482 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38291
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38291
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38291
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51000&lt;-&gt;127.0.0.1:38291
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
18:07:51.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:38291
18:07:51.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
18:07:51.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:38291[\r][\n]&quot;
18:07:51.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.503 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7f33185d
18:07:51.503 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@52a5894b
18:07:51.503 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b8f77c
18:07:51.511 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@60635dda
18:07:51.511 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1650cb0b
18:07:51.514 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38291]}, cookies=[:]): &lt;empty&gt; }
18:07:51.514 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
18:07:51.515 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.515 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.516 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51000&lt;-&gt;127.0.0.1:38291
18:07:51.516 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.516 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.516 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.516 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38291
18:07:51.517 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.517 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.517 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; GET /handling HTTP/1.1
18:07:51.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:38291
18:07:51.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
18:07:51.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.517 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:38291[\r][\n]&quot;
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.517 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.531 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38291]}, cookies=[:]): &lt;empty&gt; }
18:07:51.532 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.533 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Encoding: gzip
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Type: text/plain
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 27
18:07:51.533 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.533 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51000&lt;-&gt;127.0.0.1:38291
18:07:51.533 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.534 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6b78c031
18:07:51.537 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6cb71ede
18:07:51.539 [XNIO-54 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.544 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@30a37c80
18:07:51.552 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@438b88ac
18:07:51.553 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fc0f176
18:07:51.553 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3435593a
18:07:51.569 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6729ed7
18:07:51.553 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@61b11353
18:07:51.584 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27ba7837
18:07:51.584 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@639d006c
18:07:51.590 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.590 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.593 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.593 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.593 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43721
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43721
18:07:51.594 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@e1c672
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43721
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44990&lt;-&gt;127.0.0.1:43721
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.594 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
18:07:51.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:43721
18:07:51.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
18:07:51.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.594 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:43721[\r][\n]&quot;
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.594 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.599 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43721]}, cookies=[:]): &lt;empty&gt; }
18:07:51.599 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
18:07:51.600 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.600 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44990&lt;-&gt;127.0.0.1:43721
18:07:51.601 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.602 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.602 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.602 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43721
18:07:51.602 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.602 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.602 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; GET /handling HTTP/1.1
18:07:51.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:43721
18:07:51.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
18:07:51.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.602 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:43721[\r][\n]&quot;
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.602 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.618 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43721]}, cookies=[:]): &lt;empty&gt; }
18:07:51.619 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.620 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Encoding: gzip
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Type: text/plain
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 27
18:07:51.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.621 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.621 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44990&lt;-&gt;127.0.0.1:43721
18:07:51.621 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.622 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6cb71ede
18:07:51.624 [XNIO-55 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.634 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4976452f
18:07:51.646 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ed22f4f
18:07:51.647 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4fa7ae40
18:07:51.662 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@632f5836
18:07:51.669 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@78424bea
18:07:51.678 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b1499f9
18:07:51.679 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7294a444
18:07:51.680 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3a0c2a7f
18:07:51.681 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@649df20b
18:07:51.681 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.682 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.685 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@2670a767
18:07:51.699 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.700 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.700 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38385
18:07:51.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38385
18:07:51.700 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38385
18:07:51.701 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51700&lt;-&gt;127.0.0.1:38385
18:07:51.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.701 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
18:07:51.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:38385
18:07:51.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
18:07:51.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.701 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:38385[\r][\n]&quot;
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.701 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.711 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38385]}, cookies=[:]): &lt;empty&gt; }
18:07:51.711 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.712 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.713 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.713 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
18:07:51.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
18:07:51.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
18:07:51.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
18:07:51.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
18:07:51.714 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.714 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.717 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51700&lt;-&gt;127.0.0.1:38385
18:07:51.717 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.718 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.718 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38385
18:07:51.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.718 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; GET /handling HTTP/1.1
18:07:51.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:38385
18:07:51.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
18:07:51.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.719 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:38385[\r][\n]&quot;
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.719 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.722 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38385]}, cookies=[:]): &lt;empty&gt; }
18:07:51.723 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 200 OK
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Encoding: gzip
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Type: text/plain
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 27
18:07:51.724 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.725 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51700&lt;-&gt;127.0.0.1:38385
18:07:51.725 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.725 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4976452f
18:07:51.729 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@150aca85
18:07:51.732 [XNIO-56 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ GET /handling request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38385]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sat, 10 Aug 2019 23:07:46 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
18:07:51.738 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@764013f0
18:07:51.740 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@43f60a0c
18:07:51.740 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2c649262
18:07:51.743 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5ed96c16
18:07:51.755 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7b722542
18:07:51.759 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5ca40320
18:07:51.759 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5c6c44c2
18:07:51.760 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@418b6a8b
18:07:51.761 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.761 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.763 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.764 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42843
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42843
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42843
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40490&lt;-&gt;127.0.0.1:42843
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
18:07:51.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:42843
18:07:51.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
18:07:51.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:42843[\r][\n]&quot;
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.765 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@6345dc92
18:07:51.771 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42843]}, cookies=[:]): &lt;empty&gt; }
18:07:51.773 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:51.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
18:07:51.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
18:07:51.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
18:07:51.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
18:07:51.774 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.774 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40490&lt;-&gt;127.0.0.1:42843
18:07:51.774 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.775 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.775 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.775 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42843
18:07:51.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.775 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; GET /handling HTTP/1.1
18:07:51.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:42843
18:07:51.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
18:07:51.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.775 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:42843[\r][\n]&quot;
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.775 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.779 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42843]}, cookies=[:]): &lt;empty&gt; }
18:07:51.780 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.780 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 300 Multiple Choices
18:07:51.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
18:07:51.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
18:07:51.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
18:07:51.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 27
18:07:51.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.781 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.781 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40490&lt;-&gt;127.0.0.1:42843
18:07:51.781 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.781 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@150aca85
18:07:51.785 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@e622072
18:07:51.789 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@56da7073
18:07:51.789 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@215325f6
18:07:51.789 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5c154097
18:07:51.795 [XNIO-57 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.804 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@34a6985c
18:07:51.804 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5c3b47a6
18:07:51.804 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@620c4856
18:07:51.804 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@27d52085
18:07:51.808 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@229ba9f5
18:07:51.822 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.822 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@6705fafb
18:07:51.823 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.825 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.825 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35485
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35485
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35485
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50812&lt;-&gt;127.0.0.1:35485
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.825 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
18:07:51.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:35485
18:07:51.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
18:07:51.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.826 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:35485[\r][\n]&quot;
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.826 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.827 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35485]}, cookies=[:]): &lt;empty&gt; }
18:07:51.827 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
18:07:51.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.828 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.829 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50812&lt;-&gt;127.0.0.1:35485
18:07:51.829 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.829 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.829 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.829 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35485
18:07:51.830 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.830 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.830 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; GET /handling HTTP/1.1
18:07:51.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:35485
18:07:51.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
18:07:51.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.830 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:35485[\r][\n]&quot;
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.830 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.835 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35485]}, cookies=[:]): &lt;empty&gt; }
18:07:51.836 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 400 Bad Request
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
18:07:51.836 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.837 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50812&lt;-&gt;127.0.0.1:35485
18:07:51.837 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.837 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@e622072
18:07:51.841 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7d43139a
18:07:51.843 [XNIO-58 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
18:07:51.847 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@524c921c
18:07:51.847 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1af0fc06
18:07:51.850 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@66dfdc
18:07:51.861 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@723df590
18:07:51.863 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2d4ed6b8
18:07:51.867 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3bd38438
18:07:51.867 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@65977351
18:07:51.867 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a4c5c61
18:07:51.868 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.868 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@11682836
18:07:51.868 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.870 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.871 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37005
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37005
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37005
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57396&lt;-&gt;127.0.0.1:37005
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.871 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.871 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
18:07:51.871 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:37005
18:07:51.871 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
18:07:51.871 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.871 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:37005[\r][\n]&quot;
18:07:51.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.872 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.875 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37005]}, cookies=[:]): &lt;empty&gt; }
18:07:51.876 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
18:07:51.876 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.876 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.877 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57396&lt;-&gt;127.0.0.1:37005
18:07:51.877 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.878 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.878 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.878 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37005
18:07:51.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /handling HTTP/1.1
18:07:51.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.878 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; GET /handling HTTP/1.1
18:07:51.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:37005
18:07:51.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
18:07:51.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.878 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;GET /handling HTTP/1.1[\r][\n]&quot;
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:37005[\r][\n]&quot;
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:51.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.887 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37005]}, cookies=[:]): &lt;empty&gt; }
18:07:51.888 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 500 Internal Server Error
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
18:07:51.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.888 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.889 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57396&lt;-&gt;127.0.0.1:37005
18:07:51.889 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.889 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7d43139a
18:07:51.898 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7736f243
18:07:51.903 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5d91cbad
18:07:51.907 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6cba79ac
18:07:51.912 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3a2d1e50
18:07:51.913 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a2c96ab
18:07:51.927 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@37c7ccea
18:07:51.939 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1906fcae
18:07:51.943 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.943 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:51.944 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@11862311
18:07:51.945 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2eb162dc
18:07:51.945 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@4774d5db
18:07:51.952 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.952 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.952 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41473
18:07:51.952 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41473
18:07:51.952 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41473
18:07:51.952 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39394&lt;-&gt;127.0.0.1:41473
18:07:51.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
18:07:51.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.953 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /gzip HTTP/1.1
18:07:51.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip
18:07:51.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:41473
18:07:51.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
18:07:51.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:41473[\r][\n]&quot;
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.953 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.955 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41473]}, cookies=[:]): &lt;empty&gt; }
18:07:51.956 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 29
18:07:51.956 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.957 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.964 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39394&lt;-&gt;127.0.0.1:41473
18:07:51.964 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:51.965 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:51.965 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41473
18:07:51.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /gzip HTTP/1.1
18:07:51.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:51.965 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:51.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; GET /gzip HTTP/1.1
18:07:51.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip
18:07:51.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:41473
18:07:51.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
18:07:51.965 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;GET /gzip HTTP/1.1[\r][\n]&quot;
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:41473[\r][\n]&quot;
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:51.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
18:07:51.967 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41473]}, cookies=[:]): &lt;empty&gt; }
18:07:51.968 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 29
18:07:51.968 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:51.968 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:51.969 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39394&lt;-&gt;127.0.0.1:41473
18:07:51.969 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:51.969 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7736f243
18:07:51.975 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1067e9dd
18:07:51.979 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@73b46cab
18:07:51.985 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@35428914
18:07:51.993 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@f84e5b6
18:07:51.994 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4e96d680
18:07:51.995 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d1da346
18:07:51.985 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@36deef43
18:07:51.996 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@18b19a4b
18:07:51.994 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3086506
18:07:51.999 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:51.999 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@1ff207ca
18:07:51.999 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:52.012 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:52.012 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:52.012 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37893
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37893
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37893
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59598&lt;-&gt;127.0.0.1:37893
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:52.013 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:52.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; GET /exceptionally HTTP/1.1
18:07:52.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:37893
18:07:52.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
18:07:52.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:52.013 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:37893[\r][\n]&quot;
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:52.013 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
18:07:52.015 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37893]}, cookies=[:]): &lt;empty&gt; }
18:07:52.016 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:52.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
18:07:52.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
18:07:52.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
18:07:52.016 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
18:07:52.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
18:07:52.017 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:52.017 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:52.020 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59598&lt;-&gt;127.0.0.1:37893
18:07:52.020 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:52.022 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1067e9dd
18:07:52.027 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@69b10755
18:07:52.030 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@776c46f0
18:07:52.030 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@45bb3370
18:07:52.035 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@52a46add
18:07:52.037 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6fa45f90
18:07:52.039 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6594dcb3
18:07:52.043 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5c2224f
18:07:52.047 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1d8ea6cb
18:07:52.047 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5a6ca3c3
18:07:52.047 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:52.047 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:52.047 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@47e2fcea
18:07:52.058 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:52.058 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38871
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38871
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38871
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:45868&lt;-&gt;127.0.0.1:38871
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:52.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:52.058 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; GET /exceptionally HTTP/1.1
18:07:52.058 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:38871
18:07:52.058 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
18:07:52.058 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:52.058 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:38871[\r][\n]&quot;
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:52.058 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
18:07:52.063 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38871]}, cookies=[:]): &lt;empty&gt; }
18:07:52.064 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
18:07:52.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
18:07:52.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:52.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:52.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:45868&lt;-&gt;127.0.0.1:38871
18:07:52.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:52.066 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@69b10755
18:07:52.077 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2f9280b3
18:07:52.079 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4aa08bb0
18:07:52.079 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@66aa9470
18:07:52.082 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5e7a0c35
18:07:52.086 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@5de591a9
18:07:52.087 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b26f2a1
18:07:52.087 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4bcde44b
18:07:52.098 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@258bab7a
18:07:52.102 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61b4ab20
18:07:52.104 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:52.104 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@1866600f
18:07:52.105 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:52.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:52.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:52.116 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42479
18:07:52.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42479
18:07:52.116 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42479
18:07:52.117 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51356&lt;-&gt;127.0.0.1:42479
18:07:52.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET /exceptionally HTTP/1.1
18:07:52.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:52.117 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:52.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; GET /exceptionally HTTP/1.1
18:07:52.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:42479
18:07:52.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
18:07:52.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:52.117 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;GET /exceptionally HTTP/1.1[\r][\n]&quot;
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:42479[\r][\n]&quot;
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:52.117 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
18:07:52.123 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /exceptionally (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42479]}, cookies=[:]): &lt;empty&gt; }
18:07:52.124 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
18:07:52.124 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 200 OK
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
18:07:52.125 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:52.125 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:52.126 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51356&lt;-&gt;127.0.0.1:42479
18:07:52.126 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:52.126 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2f9280b3
18:07:52.135 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3191a83c
18:07:52.141 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1fc9a129
18:07:52.141 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5e106c27
18:07:52.151 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@773c0c84
18:07:52.154 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@426277ce
18:07:52.159 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6acd7f91
18:07:52.159 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3f4a2abc
18:07:52.159 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7ad2c715
18:07:52.168 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@33a174e
18:07:52.169 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:52.169 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@e472d12
18:07:52.170 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:52.177 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:52.177 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:52.177 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:42677
18:07:52.177 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://www.mkdfiwiejglejrligjsldkflwngunwfnkwemfiwefdsf.com:42677
18:07:52.179 [Test worker] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-63: Shutdown connection
18:07:52.179 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection discarded
18:07:52.179 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection [Not bound]
18:07:52.187 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3191a83c
18:07:52.205 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@29f77b86
18:07:52.207 [XNIO-65 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4e4b2f93
18:07:52.211 [XNIO-65 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7bb33262
18:07:52.222 [XNIO-65 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1ec9d650
18:07:52.226 [XNIO-65 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-4', selector sun.nio.ch.EPollSelectorImpl@f9d7d0d
18:07:52.227 [XNIO-65 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3e3b099d
18:07:52.230 [XNIO-65 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2925de6c
18:07:52.231 [XNIO-65 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-7', selector sun.nio.ch.EPollSelectorImpl@54cca48f
18:07:52.231 [XNIO-65 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-8', selector sun.nio.ch.EPollSelectorImpl@687dd51c
18:07:52.233 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:52.249 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
18:07:52.249 [XNIO-65 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 Accept', selector sun.nio.ch.EPollSelectorImpl@7c33d089
18:07:52.306 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@21abb15f
18:07:52.309 [XNIO-66 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3bcd428d
18:07:52.319 [XNIO-66 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-2', selector sun.nio.ch.EPollSelectorImpl@72304b03
18:07:52.330 [XNIO-66 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-4', selector sun.nio.ch.EPollSelectorImpl@41534c16
18:07:52.330 [XNIO-66 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2385d25c
18:07:52.335 [XNIO-66 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6e42f2c8
18:07:52.339 [XNIO-66 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2b28fe34
18:07:52.339 [XNIO-66 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2c193458
18:07:52.340 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
18:07:52.340 [XNIO-66 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 Accept', selector sun.nio.ch.EPollSelectorImpl@4e1d3ae4
18:07:52.335 [XNIO-66 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-5', selector sun.nio.ch.EPollSelectorImpl@447c6a1d
18:07:52.349 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
18:07:52.349 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
18:07:52.349 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38889-&gt;http://localhost:35613
18:07:52.349 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38889-&gt;http://localhost:35613
18:07:52.349 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38889
18:07:52.350 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39864&lt;-&gt;127.0.0.1:38889
18:07:52.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request GET http://localhost:35613/proxied HTTP/1.1
18:07:52.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
18:07:52.350 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
18:07:52.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; GET http://localhost:35613/proxied HTTP/1.1
18:07:52.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:35613
18:07:52.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Proxy-Connection: Keep-Alive
18:07:52.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
18:07:52.350 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip,deflate
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;GET http://localhost:35613/proxied HTTP/1.1[\r][\n]&quot;
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:35613[\r][\n]&quot;
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Proxy-Connection: Keep-Alive[\r][\n]&quot;
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
18:07:52.350 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
18:07:52.425 [XNIO-66 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Sending request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target localhost/127.0.0.1:35613 for exchange HttpServerExchange{ GET http://localhost:35613/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35613]} response {}}
18:07:52.432 [XNIO-66 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Sent request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} to target 127.0.0.1 for exchange HttpServerExchange{ GET http://localhost:35613/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35613]} response {}}
18:07:52.439 [XNIO-66 I/O-8] DEBUG ersatz.undertow.client.http.HttpClientExchange - request terminated for request to localhost/127.0.0.1:35613 /proxied
18:07:52.447 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { GET /proxied (query=[:], headers={Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], X-Forwarded-Server=[localhost], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], X-Forwarded-Proto=[http], X-Forwarded-Port=[35613], X-Forwarded-For=[127.0.0.1], Host=[localhost:35613], X-Forwarded-Host=[localhost]}, cookies=[:]): &lt;empty&gt; }
18:07:52.448 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
18:07:52.475 [XNIO-66 I/O-8] DEBUG ersatz.undertow.server.handlers.proxy - Received response ClientResponse{responseHeaders={Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sat, 10 Aug 2019 23:07:46 GMT]}, responseCode=200, status='OK', protocol=HTTP/1.1} for request ClientRequest{path='/proxied', method=GET, protocol=HTTP/1.1} for exchange HttpServerExchange{ GET http://localhost:35613/proxied request {Proxy-Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35613]} response {}}
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Sat, 10 Aug 2019 23:07:46 GMT[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 27
18:07:52.477 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Sat, 10 Aug 2019 23:07:46 GMT
18:07:52.477 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
18:07:52.478 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39864&lt;-&gt;127.0.0.1:38889
18:07:52.478 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
18:07:52.481 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@21abb15f
18:07:52.485 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@29f77b86
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Aug 10, 2019 7:10:43 PM</p>
</div>
</div>
</body>
</html>
