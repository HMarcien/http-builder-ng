<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class groovyx.net.http.ApacheHttpPostSpec</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class groovyx.net.http.ApacheHttpPostSpec</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/groovyx.net.http.html">groovyx.net.http</a> &gt; ApacheHttpPostSpec</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">62</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">6.761s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">HTTP POST with BASIC authentication (authorized)</td>
<td>0.201s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with BASIC authentication (unauthorized)</td>
<td>0.145s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with DIGEST authentication (authorized)</td>
<td>0.117s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTP POST with DIGEST authentication (unauthorized)</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with BASIC authentication (authorized)</td>
<td>0.139s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with BASIC authentication (unauthorized)</td>
<td>0.098s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with DIGEST authentication (authorized)</td>
<td>0.122s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">HTTPS POST with DIGEST authentication (unauthorized)</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTP</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">form (url-encoded): HTTPS</td>
<td>0.136s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">gzip compression supported</td>
<td>0.107s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">interceptor</td>
<td>0.064s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP</td>
<td>0.322s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTP (core encoder)</td>
<td>0.178s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS</td>
<td>0.116s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">multipart request HTTPS (core encoder)</td>
<td>0.091s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post with defined content-type and charset (HTTP)</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post with defined content-type and charset (HTTPS)</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP application/json [:]</td>
<td>0.080s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP application/xml [one:1]</td>
<td>0.044s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/csv [one:1, two:2]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/html [two:2]</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTP text/plain null</td>
<td>0.339s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS application/json [:]</td>
<td>0.145s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS application/xml [one:1]</td>
<td>0.136s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/csv [one:1, two:2]</td>
<td>0.145s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/html [two:2]</td>
<td>0.084s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(): HTTPS text/plain null</td>
<td>0.448s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [:]</td>
<td>0.160s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [flavor:chocolate-chip, count:dozen]</td>
<td>0.108s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; [flavor:chocolate-chip]</td>
<td>0.230s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Closure): cookies -&gt; null</td>
<td>0.158s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [:]</td>
<td>0.128s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [flavor:oatmeal, count:dozen]</td>
<td>0.066s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; [flavor:peanut-butter]</td>
<td>0.110s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Class,Consumer): cookies -&gt; null</td>
<td>0.115s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [:]</td>
<td>0.118s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one, two], bravo:three]</td>
<td>0.114s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one, two]]</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:[one]]</td>
<td>0.078s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; [alpha:one]</td>
<td>0.124s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Closure): query -&gt; null</td>
<td>0.178s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; [:]</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; [hat:fedora]</td>
<td>0.061s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">post(Consumer): headers -&gt; null</td>
<td>0.063s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/json)</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (application/xml)</td>
<td>0.033s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">request content encoding (text/html)</td>
<td>0.059s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (200)</td>
<td>0.112s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (300)</td>
<td>0.062s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (400)</td>
<td>0.072s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with BiFunction (500)</td>
<td>0.055s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (200)</td>
<td>0.050s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (300)</td>
<td>0.065s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (400)</td>
<td>0.049s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">success/failure handler with Closure (500)</td>
<td>0.087s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (205)</td>
<td>0.069s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (210)</td>
<td>0.092s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with BiFunction (211)</td>
<td>0.045s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (205)</td>
<td>0.041s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (210)</td>
<td>0.111s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">when handler with Closure (211)</td>
<td>0.071s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>19:15:59.241 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5f8b5191
19:15:59.246 [XNIO-7 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a8f01a8
19:15:59.250 [XNIO-7 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1fb81ea7
19:15:59.252 [XNIO-7 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33dc8a99
19:15:59.258 [XNIO-7 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-4', selector sun.nio.ch.EPollSelectorImpl@521f509c
19:15:59.264 [XNIO-7 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-5', selector sun.nio.ch.EPollSelectorImpl@78404de4
19:15:59.273 [XNIO-7 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6f8f2c8a
19:15:59.274 [XNIO-7 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2d4b611e
19:15:59.274 [XNIO-7 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 I/O-8', selector sun.nio.ch.EPollSelectorImpl@79080918
19:15:59.276 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.277 [XNIO-7 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-7 Accept', selector sun.nio.ch.EPollSelectorImpl@19bcbed6
19:15:59.277 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.300 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.301 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.301 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45579
19:15:59.301 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45579
19:15:59.301 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45579
19:15:59.301 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38262&lt;-&gt;127.0.0.1:45579
19:15:59.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 0
19:15:59.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:45579
19:15:59.302 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
19:15:59.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.315 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.315 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:45579[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.316 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.320 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45579]}, cookies=[:]): &lt;empty&gt; }
19:15:59.405 [XNIO-7 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:59.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.406 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: text/plain
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 27
19:15:59.407 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:15:59.408 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.409 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38262&lt;-&gt;127.0.0.1:45579
19:15:59.409 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.418 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.418 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.418 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45579
19:15:59.418 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.418 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.418 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Content-Length: 0
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Host: localhost:45579
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Connection: Keep-Alive
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.419 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:59.419 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Host: localhost:45579[\r][\n]&quot;
19:15:59.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.420 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.423 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45579]}, cookies=[:]): &lt;empty&gt; }
19:15:59.448 [XNIO-7 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:59.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.wire - http-outgoing-4 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; HTTP/1.1 200 OK
19:15:59.450 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Encoding: gzip
19:15:59.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Connection: keep-alive
19:15:59.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Type: text/plain
19:15:59.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Content-Length: 27
19:15:59.451 [Test worker] DEBUG org.apache.http.headers - http-outgoing-4 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:15:59.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.452 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38262&lt;-&gt;127.0.0.1:45579
19:15:59.452 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.461 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5f8b5191
19:15:59.469 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6e925294
19:15:59.478 [XNIO-8 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-1', selector sun.nio.ch.EPollSelectorImpl@662d7195
19:15:59.498 [XNIO-8 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-2', selector sun.nio.ch.EPollSelectorImpl@458fa407
19:15:59.498 [XNIO-8 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7fe8c354
19:15:59.499 [XNIO-8 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-4', selector sun.nio.ch.EPollSelectorImpl@aee45c6
19:15:59.504 [XNIO-8 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-7', selector sun.nio.ch.EPollSelectorImpl@350e8cae
19:15:59.504 [XNIO-8 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b90c7be
19:15:59.504 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.504 [XNIO-8 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6ba7ac5f
19:15:59.504 [XNIO-8 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 I/O-8', selector sun.nio.ch.EPollSelectorImpl@18e5efb0
19:15:59.505 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.509 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.509 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.509 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46827
19:15:59.509 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46827
19:15:59.504 [XNIO-8 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-8 Accept', selector sun.nio.ch.EPollSelectorImpl@7da4fe64
19:15:59.512 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46827
19:15:59.512 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46827 with timeout 0
19:15:59.537 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:15:59.538 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:15:59.538 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:15:59.868 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:15:59.868 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:15:59.868 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:15:59.871 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.871 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:15:59.872 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38310&lt;-&gt;127.0.0.1:46827
19:15:59.872 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.873 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 0
19:15:59.874 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:46827
19:15:59.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
19:15:59.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.875 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:59.876 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:46827[\r][\n]&quot;
19:15:59.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.877 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.878 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.880 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46827]}, cookies=[:]): &lt;empty&gt; }
19:15:59.883 [XNIO-8 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:59.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:59.885 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:59.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:15:59.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.886 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:59.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
19:15:59.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
19:15:59.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
19:15:59.886 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
19:15:59.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
19:15:59.890 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:15:59.891 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.891 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38310&lt;-&gt;127.0.0.1:46827
19:15:59.891 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.892 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.892 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.892 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46827
19:15:59.892 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.892 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.893 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.893 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.894 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Content-Length: 0
19:15:59.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Host: localhost:46827
19:15:59.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Connection: Keep-Alive
19:15:59.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Content-Length: 0[\r][\n]&quot;
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Host: localhost:46827[\r][\n]&quot;
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.896 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.904 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[0], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46827]}, cookies=[:]): &lt;empty&gt; }
19:15:59.907 [XNIO-8 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:15:59.908 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.wire - http-outgoing-5 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:15:59.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; HTTP/1.1 200 OK
19:15:59.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Encoding: gzip
19:15:59.909 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Connection: keep-alive
19:15:59.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Type: text/plain
19:15:59.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Content-Length: 27
19:15:59.910 [Test worker] DEBUG org.apache.http.headers - http-outgoing-5 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:15:59.910 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38310&lt;-&gt;127.0.0.1:46827
19:15:59.911 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.912 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6e925294
19:15:59.924 [XNIO-8 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
19:15:59.926 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@e0f2d2a
19:15:59.939 [XNIO-9 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1bbe6c13
19:15:59.940 [XNIO-9 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-5', selector sun.nio.ch.EPollSelectorImpl@74c13a48
19:15:59.942 [XNIO-9 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35718916
19:15:59.943 [XNIO-9 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4ca56704
19:15:59.943 [XNIO-9 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3454a7d5
19:15:59.944 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:15:59.945 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:15:59.945 [XNIO-9 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 Accept', selector sun.nio.ch.EPollSelectorImpl@382435aa
19:15:59.939 [XNIO-9 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-2', selector sun.nio.ch.EPollSelectorImpl@25014d0e
19:15:59.940 [XNIO-9 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1c3936f6
19:15:59.948 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.940 [XNIO-9 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-9 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1c78ace0
19:15:59.950 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42109
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42109
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42109
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53592&lt;-&gt;127.0.0.1:42109
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.951 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.952 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.953 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 2
19:15:59.954 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:42109
19:15:59.955 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
19:15:59.962 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.963 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.965 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:59.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:42109[\r][\n]&quot;
19:15:59.966 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{}&quot;
19:15:59.973 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42109]}, cookies=[:]): {} }
19:15:59.979 [XNIO-9 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:15:59.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
19:15:59.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
19:15:59.980 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
19:15:59.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: application/json
19:15:59.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 39
19:15:59.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:15:59.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:15:59.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53592&lt;-&gt;127.0.0.1:42109
19:15:59.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:15:59.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:15:59.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:15:59.984 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42109
19:15:59.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:15:59.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:15:59.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:15:59.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; POST /alpha HTTP/1.1
19:15:59.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Type: application/json; charset=utf-8
19:15:59.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Content-Length: 2
19:15:59.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Host: localhost:42109
19:15:59.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Connection: Keep-Alive
19:15:59.985 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:15:59.985 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &gt;&gt; Accept-Encoding: gzip,deflate
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Host: localhost:42109[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;[\r][\n]&quot;
19:15:59.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &gt;&gt; &quot;{}&quot;
19:15:59.995 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42109]}, cookies=[:]): {} }
19:15:59.999 [XNIO-9 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:16:00.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:16:00.000 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:16:00.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.001 [Test worker] DEBUG org.apache.http.wire - http-outgoing-6 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; HTTP/1.1 200 OK
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Encoding: gzip
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Connection: keep-alive
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Type: application/json
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Content-Length: 39
19:16:00.001 [Test worker] DEBUG org.apache.http.headers - http-outgoing-6 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.001 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.002 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53592&lt;-&gt;127.0.0.1:42109
19:16:00.002 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.002 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@e0f2d2a
19:16:00.024 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@b28f517
19:16:00.026 [XNIO-10 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1f3a4e58
19:16:00.030 [XNIO-10 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7a6fbda4
19:16:00.034 [XNIO-10 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4c57f5cf
19:16:00.038 [XNIO-10 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3ddec33d
19:16:00.043 [XNIO-10 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4af14a26
19:16:00.043 [XNIO-10 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-6', selector sun.nio.ch.EPollSelectorImpl@735d0a72
19:16:00.044 [XNIO-10 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3465ab28
19:16:00.044 [XNIO-10 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2b57899f
19:16:00.047 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.047 [XNIO-10 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-10 Accept', selector sun.nio.ch.EPollSelectorImpl@6320e0c4
19:16:00.048 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.051 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.051 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.051 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42155
19:16:00.051 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42155
19:16:00.052 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42155
19:16:00.052 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42155 with timeout 0
19:16:00.052 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:00.052 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:00.052 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:00.105 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:00.105 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:00.105 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:00.106 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.106 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.106 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48236&lt;-&gt;127.0.0.1:42155
19:16:00.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.106 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 2
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:42155
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.106 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.106 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:42155[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.107 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{}&quot;
19:16:00.118 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42155]}, cookies=[:]): {} }
19:16:00.120 [XNIO-10 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
19:16:00.123 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.123 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.124 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48236&lt;-&gt;127.0.0.1:42155
19:16:00.124 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.128 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.128 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.128 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42155
19:16:00.128 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.128 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.128 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.128 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.128 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Content-Length: 2
19:16:00.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Host: localhost:42155
19:16:00.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Connection: Keep-Alive
19:16:00.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.129 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Content-Length: 2[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Host: localhost:42155[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.129 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &gt;&gt; &quot;{}&quot;
19:16:00.133 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[2], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42155]}, cookies=[:]): {} }
19:16:00.135 [XNIO-10 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/json]}): {&quot;value&quot;:&quot;ok-json&quot;}
19:16:00.143 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.144 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Type: application/json[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Content-Length: 39[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.wire - http-outgoing-7 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab]V*K[0xcc])MU[0xb2]R[0xca][0xcf][0xd6][0xcd]*[0xce][0xcf]S[0xaa][0x5][0x0][0xe2][0xce][0x90][0x14][0x13][0x0][0x0][0x0]&quot;
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; HTTP/1.1 200 OK
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Encoding: gzip
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Connection: keep-alive
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Type: application/json
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Content-Length: 39
19:16:00.147 [Test worker] DEBUG org.apache.http.headers - http-outgoing-7 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48236&lt;-&gt;127.0.0.1:42155
19:16:00.148 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.149 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@b28f517
19:16:00.158 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@99a750a
19:16:00.160 [XNIO-11 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-1', selector sun.nio.ch.EPollSelectorImpl@312b0875
19:16:00.161 [XNIO-11 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-2', selector sun.nio.ch.EPollSelectorImpl@5ab4c013
19:16:00.163 [XNIO-11 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e2c0df3
19:16:00.163 [XNIO-11 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4bc71795
19:16:00.164 [XNIO-11 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-5', selector sun.nio.ch.EPollSelectorImpl@36c2f301
19:16:00.164 [XNIO-11 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-7', selector sun.nio.ch.EPollSelectorImpl@65ace922
19:16:00.164 [XNIO-11 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-6', selector sun.nio.ch.EPollSelectorImpl@62ffc232
19:16:00.165 [XNIO-11 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 Accept', selector sun.nio.ch.EPollSelectorImpl@1b2330d
19:16:00.164 [XNIO-11 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-11 I/O-8', selector sun.nio.ch.EPollSelectorImpl@23092888
19:16:00.164 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.166 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.169 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.170 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33401
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33401
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33401
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:34406&lt;-&gt;127.0.0.1:33401
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 11
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:33401
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:33401[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:16:00.175 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33401]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:16:00.179 [XNIO-11 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/xml
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 65
19:16:00.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34406&lt;-&gt;127.0.0.1:33401
19:16:00.184 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.186 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.186 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.186 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33401
19:16:00.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.186 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.186 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Content-Length: 11
19:16:00.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Host: localhost:33401
19:16:00.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Connection: Keep-Alive
19:16:00.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.187 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Host: localhost:33401[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.190 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:16:00.190 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33401]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:16:00.193 [XNIO-11 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.wire - http-outgoing-8 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; HTTP/1.1 200 OK
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Encoding: gzip
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Connection: keep-alive
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Type: application/xml
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Content-Length: 65
19:16:00.194 [Test worker] DEBUG org.apache.http.headers - http-outgoing-8 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.195 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.197 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:34406&lt;-&gt;127.0.0.1:33401
19:16:00.197 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.197 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@99a750a
19:16:00.208 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@9b87da5
19:16:00.219 [XNIO-12 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a163e35
19:16:00.220 [XNIO-12 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3bf4bef0
19:16:00.229 [XNIO-12 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-3', selector sun.nio.ch.EPollSelectorImpl@386645b5
19:16:00.232 [XNIO-12 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5c82c835
19:16:00.233 [XNIO-12 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-5', selector sun.nio.ch.EPollSelectorImpl@40f5911e
19:16:00.235 [XNIO-12 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-7', selector sun.nio.ch.EPollSelectorImpl@323ff8d2
19:16:00.236 [XNIO-12 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-8', selector sun.nio.ch.EPollSelectorImpl@16e8f6cd
19:16:00.236 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.237 [XNIO-12 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 Accept', selector sun.nio.ch.EPollSelectorImpl@7f2800c8
19:16:00.235 [XNIO-12 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-12 I/O-6', selector sun.nio.ch.EPollSelectorImpl@738b4c9
19:16:00.239 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.243 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39287
19:16:00.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:39287
19:16:00.244 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39287
19:16:00.244 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:39287 with timeout 0
19:16:00.244 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:00.244 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:00.244 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:00.309 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:00.310 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:00.310 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:00.310 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.310 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.310 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:55866&lt;-&gt;127.0.0.1:39287
19:16:00.310 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.310 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.310 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 11
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:39287
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
19:16:00.310 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.311 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:39287[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.311 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:16:00.314 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39287]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:16:00.317 [XNIO-12 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:16:00.319 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
19:16:00.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
19:16:00.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
19:16:00.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
19:16:00.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
19:16:00.320 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.320 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55866&lt;-&gt;127.0.0.1:39287
19:16:00.323 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.324 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.324 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.324 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:39287
19:16:00.324 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.324 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.324 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Content-Length: 11
19:16:00.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Host: localhost:39287
19:16:00.324 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Connection: Keep-Alive
19:16:00.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.325 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Content-Length: 11[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Host: localhost:39287[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.325 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;}&quot;
19:16:00.326 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[11], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39287]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;} }
19:16:00.329 [XNIO-12 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[application/xml]}): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;
19:16:00.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Type: application/xml[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Content-Length: 65[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.wire - http-outgoing-9 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xb1][0xaf][0xc8][0xcd]Q(K-*[0xce][0xcc][0xcf][0xb3]U2[0xd4]3P[0xb2][0xb7][0xb3][0xc9]M-.NLOU(K[0xcc])M[0xb5]U[0xca][0xcf][0xd6][0x5][0xaa]R[0xd2][0xb7][0x3][0x0]![0x2][0xb2][0x8].[0x0][0x0][0x0]&quot;
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; HTTP/1.1 200 OK
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Encoding: gzip
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Connection: keep-alive
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Type: application/xml
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Content-Length: 65
19:16:00.331 [Test worker] DEBUG org.apache.http.headers - http-outgoing-9 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.331 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.334 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:55866&lt;-&gt;127.0.0.1:39287
19:16:00.334 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.335 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@9b87da5
19:16:00.346 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@544abcb3
19:16:00.349 [XNIO-13 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4bc82067
19:16:00.349 [XNIO-13 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-2', selector sun.nio.ch.EPollSelectorImpl@49f93e7f
19:16:00.350 [XNIO-13 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-3', selector sun.nio.ch.EPollSelectorImpl@19466bed
19:16:00.352 [XNIO-13 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-4', selector sun.nio.ch.EPollSelectorImpl@fb53cc
19:16:00.355 [XNIO-13 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-5', selector sun.nio.ch.EPollSelectorImpl@13a90b96
19:16:00.355 [XNIO-13 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-6', selector sun.nio.ch.EPollSelectorImpl@358cb1db
19:16:00.356 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.355 [XNIO-13 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7ef8d0c9
19:16:00.356 [XNIO-13 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6a2e153a
19:16:00.356 [XNIO-13 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-13 Accept', selector sun.nio.ch.EPollSelectorImpl@60ffbe1a
19:16:00.357 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.359 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.360 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34975
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34975
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34975
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58922&lt;-&gt;127.0.0.1:34975
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.360 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 9
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:34975
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.361 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:34975[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.361 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:16:00.370 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34975]}, cookies=[:]): {&quot;two&quot;:2} }
19:16:00.374 [XNIO-13 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/html
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 40
19:16:00.375 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.375 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.379 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58922&lt;-&gt;127.0.0.1:34975
19:16:00.379 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.396 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.396 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.396 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34975
19:16:00.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.397 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.397 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Content-Length: 9
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Host: localhost:34975
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Connection: Keep-Alive
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.397 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Host: localhost:34975[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:16:00.399 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34975]}, cookies=[:]): {&quot;two&quot;:2} }
19:16:00.403 [XNIO-13 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:16:00.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:16:00.403 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:16:00.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.404 [Test worker] DEBUG org.apache.http.wire - http-outgoing-10 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; HTTP/1.1 200 OK
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Encoding: gzip
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Connection: keep-alive
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Type: text/html
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Content-Length: 40
19:16:00.404 [Test worker] DEBUG org.apache.http.headers - http-outgoing-10 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.404 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.405 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58922&lt;-&gt;127.0.0.1:34975
19:16:00.405 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.406 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@544abcb3
19:16:00.410 [XNIO-13 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /alpha request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34975]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/html], Content-Length=[40], Date=[Sun, 11 Aug 2019 00:15:58 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:00.418 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@41ce307e
19:16:00.420 [XNIO-14 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-4', selector sun.nio.ch.EPollSelectorImpl@77dabb1e
19:16:00.420 [XNIO-14 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1799d3f
19:16:00.421 [XNIO-14 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6d1d3f3e
19:16:00.420 [XNIO-14 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2615203c
19:16:00.421 [XNIO-14 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-8', selector sun.nio.ch.EPollSelectorImpl@497b5ddc
19:16:00.420 [XNIO-14 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2f29c7ae
19:16:00.420 [XNIO-14 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-1', selector sun.nio.ch.EPollSelectorImpl@28396092
19:16:00.421 [XNIO-14 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1374ff9e
19:16:00.421 [XNIO-14 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-14 Accept', selector sun.nio.ch.EPollSelectorImpl@c7e8294
19:16:00.421 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.422 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.425 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.425 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.425 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35761
19:16:00.425 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:35761
19:16:00.425 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35761
19:16:00.425 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:35761 with timeout 0
19:16:00.426 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:00.426 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:00.426 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:00.465 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:00.465 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:00.465 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:00.465 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.465 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.465 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38226&lt;-&gt;127.0.0.1:35761
19:16:00.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.466 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 9
19:16:00.466 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35761
19:16:00.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
19:16:00.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.467 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.467 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35761[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.468 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:16:00.472 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35761]}, cookies=[:]): {&quot;two&quot;:2} }
19:16:00.477 [XNIO-14 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.478 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
19:16:00.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.480 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38226&lt;-&gt;127.0.0.1:35761
19:16:00.480 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:35761
19:16:00.481 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Content-Length: 9
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Host: localhost:35761
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Connection: Keep-Alive
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Content-Length: 9[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Host: localhost:35761[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.482 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &gt;&gt; &quot;{&quot;two&quot;:2}&quot;
19:16:00.483 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[9], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35761]}, cookies=[:]): {&quot;two&quot;:2} }
19:16:00.489 [XNIO-14 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/html]}): &lt;html&gt;&lt;body&gt;ok-html&lt;/body&gt;
19:16:00.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.490 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Type: text/html[\r][\n]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Content-Length: 40[\r][\n]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-11 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xb3][0xc9]([0xc9][0xcd][0xb1][0xb3]I[0xca]O[0xa9][0xb4][0xcb][0xcf][0xd6][0x5][0xf1]l[0xf4][0xc1]&lt;[0x0][0x84]/[0x88][0xcf][0x1a][0x0][0x0][0x0]&quot;
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; HTTP/1.1 200 OK
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Encoding: gzip
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Connection: keep-alive
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Type: text/html
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Content-Length: 40
19:16:00.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-11 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.492 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38226&lt;-&gt;127.0.0.1:35761
19:16:00.493 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.493 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@41ce307e
19:16:00.519 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6c4fa1ab
19:16:00.521 [XNIO-15 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-1', selector sun.nio.ch.EPollSelectorImpl@67b83f27
19:16:00.522 [XNIO-15 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6bbbdace
19:16:00.522 [XNIO-15 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-3', selector sun.nio.ch.EPollSelectorImpl@10ca0c2d
19:16:00.526 [XNIO-15 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-4', selector sun.nio.ch.EPollSelectorImpl@746bd156
19:16:00.527 [XNIO-15 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6cb48ae9
19:16:00.527 [XNIO-15 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-7', selector sun.nio.ch.EPollSelectorImpl@266cfbc9
19:16:00.526 [XNIO-15 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-5', selector sun.nio.ch.EPollSelectorImpl@63f30e31
19:16:00.530 [XNIO-15 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 Accept', selector sun.nio.ch.EPollSelectorImpl@733ef722
19:16:00.530 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.530 [XNIO-15 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-15 I/O-8', selector sun.nio.ch.EPollSelectorImpl@552eef0b
19:16:00.532 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.535 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.535 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41459
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41459
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41459
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33768&lt;-&gt;127.0.0.1:41459
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.536 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 19
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:41459
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.536 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.536 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:41459[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.537 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:16:00.543 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41459]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:16:00.545 [XNIO-15 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:16:00.546 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
19:16:00.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
19:16:00.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
19:16:00.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/csv
19:16:00.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 53
19:16:00.547 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.547 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.553 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33768&lt;-&gt;127.0.0.1:41459
19:16:00.553 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.555 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.555 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.555 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41459
19:16:00.556 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.556 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.556 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Content-Length: 19
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Host: localhost:41459
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Connection: Keep-Alive
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.556 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Host: localhost:41459[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.556 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:16:00.559 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41459]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:16:00.561 [XNIO-15 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.wire - http-outgoing-12 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; HTTP/1.1 200 OK
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Encoding: gzip
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Connection: keep-alive
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Type: text/csv
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Content-Length: 53
19:16:00.565 [Test worker] DEBUG org.apache.http.headers - http-outgoing-12 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.566 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33768&lt;-&gt;127.0.0.1:41459
19:16:00.566 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.567 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6c4fa1ab
19:16:00.577 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@136070ec
19:16:00.579 [XNIO-16 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2ca268ba
19:16:00.580 [XNIO-16 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7f6f6ba8
19:16:00.582 [XNIO-16 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-3', selector sun.nio.ch.EPollSelectorImpl@75f95116
19:16:00.588 [XNIO-16 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1801b481
19:16:00.592 [XNIO-16 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-5', selector sun.nio.ch.EPollSelectorImpl@36b544ad
19:16:00.603 [XNIO-16 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2278b6f
19:16:00.603 [XNIO-16 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-7', selector sun.nio.ch.EPollSelectorImpl@31761cdf
19:16:00.622 [XNIO-16 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5d89e6a7
19:16:00.624 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.627 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.631 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.631 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40249
19:16:00.631 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40249
19:16:00.632 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40249
19:16:00.632 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40249 with timeout 0
19:16:00.632 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:00.632 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:00.632 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:00.625 [XNIO-16 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-16 Accept', selector sun.nio.ch.EPollSelectorImpl@3eb4772b
19:16:00.679 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:00.679 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:00.679 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:00.679 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.679 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:00.680 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42320&lt;-&gt;127.0.0.1:40249
19:16:00.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 19
19:16:00.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:40249
19:16:00.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
19:16:00.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.681 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.681 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:40249[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:16:00.690 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40249]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:16:00.692 [XNIO-16 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.693 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.694 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
19:16:00.694 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.694 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42320&lt;-&gt;127.0.0.1:40249
19:16:00.695 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.696 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.697 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.697 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40249
19:16:00.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /alpha HTTP/1.1
19:16:00.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.697 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; POST /alpha HTTP/1.1
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Content-Length: 19
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Host: localhost:40249
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Connection: Keep-Alive
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.697 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;POST /alpha HTTP/1.1[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Host: localhost:40249[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.697 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &gt;&gt; &quot;{&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2}&quot;
19:16:00.710 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /alpha (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40249]}, cookies=[:]): {&quot;one&quot;:&quot;1&quot;,&quot;two&quot;:2} }
19:16:00.715 [XNIO-16 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/csv]}): alpha,bravo,charlie
one,two,three
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Type: text/csv[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Content-Length: 53[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.wire - http-outgoing-13 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]K[0xcc])[0xc8]H[0xd4]I*J,[0xcb][0xd7]I[0xce]H,[0xca][0xc9]L[0xe5][0xca][0xcf]K[0xd5]))[0xcf][0xd7])[0xc9](JM[0x5][0x0]/[0x14][0xe5][0x2]![0x0][0x0][0x0]&quot;
19:16:00.716 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; HTTP/1.1 200 OK
19:16:00.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Encoding: gzip
19:16:00.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Connection: keep-alive
19:16:00.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Type: text/csv
19:16:00.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Content-Length: 53
19:16:00.717 [Test worker] DEBUG org.apache.http.headers - http-outgoing-13 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.717 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42320&lt;-&gt;127.0.0.1:40249
19:16:00.718 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.718 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@136070ec
19:16:00.733 [XNIO-16 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
19:16:00.755 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2ddb28a4
19:16:00.780 [XNIO-17 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e24af22
19:16:00.787 [XNIO-17 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1d6e41ce
19:16:00.800 [XNIO-17 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-3', selector sun.nio.ch.EPollSelectorImpl@54959b95
19:16:00.814 [XNIO-17 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2406ddfc
19:16:00.826 [XNIO-17 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-5', selector sun.nio.ch.EPollSelectorImpl@177dd3e5
19:16:00.827 [XNIO-17 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-6', selector sun.nio.ch.EPollSelectorImpl@61d8d623
19:16:00.842 [XNIO-17 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-7', selector sun.nio.ch.EPollSelectorImpl@566cb2b6
19:16:00.858 [XNIO-17 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2479586
19:16:00.859 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.860 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.860 [XNIO-17 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-17 Accept', selector sun.nio.ch.EPollSelectorImpl@3fa81d35
19:16:00.867 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.867 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.868 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43905
19:16:00.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43905
19:16:00.869 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43905
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54984&lt;-&gt;127.0.0.1:43905
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; POST /bravo HTTP/1.1
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:43905
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:43905[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.871 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.894 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43905]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.896 [XNIO-17 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
19:16:00.898 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.898 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.898 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54984&lt;-&gt;127.0.0.1:43905
19:16:00.899 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.901 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.901 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43905
19:16:00.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
19:16:00.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.901 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; POST /bravo HTTP/1.1
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Content-Length: 30
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Host: localhost:43905
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Connection: Keep-Alive
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.901 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.901 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Host: localhost:43905[\r][\n]&quot;
19:16:00.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.902 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.914 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43905]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.916 [XNIO-17 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.wire - http-outgoing-14 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; HTTP/1.1 200 OK
19:16:00.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Encoding: gzip
19:16:00.917 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Connection: keep-alive
19:16:00.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Type: text/plain
19:16:00.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Content-Length: 27
19:16:00.918 [Test worker] DEBUG org.apache.http.headers - http-outgoing-14 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.918 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.918 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54984&lt;-&gt;127.0.0.1:43905
19:16:00.918 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.919 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2ddb28a4
19:16:00.927 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5710967a
19:16:00.929 [XNIO-18 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-1', selector sun.nio.ch.EPollSelectorImpl@558c3285
19:16:00.930 [XNIO-18 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-2', selector sun.nio.ch.EPollSelectorImpl@367b0566
19:16:00.933 [XNIO-18 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5be1d804
19:16:00.939 [XNIO-18 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1a947216
19:16:00.943 [XNIO-18 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7c90c4fc
19:16:00.950 [XNIO-18 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-6', selector sun.nio.ch.EPollSelectorImpl@13b19f5d
19:16:00.952 [XNIO-18 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-7', selector sun.nio.ch.EPollSelectorImpl@71ba7ead
19:16:00.955 [XNIO-18 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 I/O-8', selector sun.nio.ch.EPollSelectorImpl@540c60b3
19:16:00.956 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:00.957 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:00.960 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.960 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33623
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33623
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33623
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59956&lt;-&gt;127.0.0.1:33623
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.961 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; POST /bravo HTTP/1.1
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:33623
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.961 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:33623[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.962 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:00.967 [XNIO-18 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-18 Accept', selector sun.nio.ch.EPollSelectorImpl@48f0fdfa
19:16:00.978 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33623]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:00.980 [XNIO-18 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
19:16:00.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
19:16:00.982 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:00.982 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:00.982 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59956&lt;-&gt;127.0.0.1:33623
19:16:00.982 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:00.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:00.984 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:00.984 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33623
19:16:00.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo HTTP/1.1
19:16:00.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:00.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; POST /bravo HTTP/1.1
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Content-Length: 30
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Host: localhost:33623
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Connection: Keep-Alive
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:00.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;POST /bravo HTTP/1.1[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Host: localhost:33623[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:00.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;[\r][\n]&quot;
19:16:00.985 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.019 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.014 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33623]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.019 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-11: Shutdown connection
19:16:01.020 [XNIO-18 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.022 [Test worker] DEBUG org.apache.http.wire - http-outgoing-15 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.027 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; HTTP/1.1 200 OK
19:16:01.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Encoding: gzip
19:16:01.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Connection: keep-alive
19:16:01.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Type: text/plain
19:16:01.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Content-Length: 27
19:16:01.028 [Test worker] DEBUG org.apache.http.headers - http-outgoing-15 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.028 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.029 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.029 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Shutdown connection
19:16:01.029 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59956&lt;-&gt;127.0.0.1:33623
19:16:01.029 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.030 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.030 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Shutdown connection
19:16:01.031 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.031 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Shutdown connection
19:16:01.033 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5710967a
19:16:01.047 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.047 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-6: Shutdown connection
19:16:01.049 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.049 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-7: Shutdown connection
19:16:01.050 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.050 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-8: Shutdown connection
19:16:01.051 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.051 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-9: Shutdown connection
19:16:01.052 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.052 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-10: Shutdown connection
19:16:01.055 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.055 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-5: Shutdown connection
19:16:01.056 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.056 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-4: Shutdown connection
19:16:01.059 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@731a7ccc
19:16:01.061 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.061 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-1: Shutdown connection
19:16:01.067 [XNIO-19 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-3', selector sun.nio.ch.EPollSelectorImpl@57dcd1f6
19:16:01.075 [XNIO-19 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-4', selector sun.nio.ch.EPollSelectorImpl@80d9bf1
19:16:01.083 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.083 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection
19:16:01.086 [XNIO-19 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-6', selector sun.nio.ch.EPollSelectorImpl@25c8b35e
19:16:01.067 [XNIO-19 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-2', selector sun.nio.ch.EPollSelectorImpl@38b983d0
19:16:01.088 [XNIO-19 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-1', selector sun.nio.ch.EPollSelectorImpl@71f075f7
19:16:01.088 [XNIO-19 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-7', selector sun.nio.ch.EPollSelectorImpl@1c4dcb89
19:16:01.089 [XNIO-19 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e200e0b
19:16:01.090 [XNIO-19 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6e14f6fd
19:16:01.104 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:01.104 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-3: Shutdown connection
19:16:01.104 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.104 [XNIO-19 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-19 Accept', selector sun.nio.ch.EPollSelectorImpl@530216db
19:16:01.107 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.120 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.120 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44897
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44897
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44897
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50496&lt;-&gt;127.0.0.1:44897
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
19:16:01.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
19:16:01.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:44897
19:16:01.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
19:16:01.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.122 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:44897[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.122 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.127 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44897]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.154 [XNIO-19 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
19:16:01.155 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.156 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50496&lt;-&gt;127.0.0.1:44897
19:16:01.156 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.158 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.158 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.158 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44897
19:16:01.158 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
19:16:01.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.159 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Content-Length: 30
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Host: localhost:44897
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Connection: Keep-Alive
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.159 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Host: localhost:44897[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.159 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.161 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44897]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.165 [XNIO-19 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.165 [Test worker] DEBUG org.apache.http.wire - http-outgoing-16 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; HTTP/1.1 200 OK
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Encoding: gzip
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Connection: keep-alive
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Type: text/plain
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Content-Length: 27
19:16:01.166 [Test worker] DEBUG org.apache.http.headers - http-outgoing-16 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.166 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50496&lt;-&gt;127.0.0.1:44897
19:16:01.166 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.167 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@731a7ccc
19:16:01.193 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6578b9a6
19:16:01.197 [XNIO-20 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4b0a0656
19:16:01.199 [XNIO-20 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-3', selector sun.nio.ch.EPollSelectorImpl@37baa6a7
19:16:01.207 [XNIO-20 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-4', selector sun.nio.ch.EPollSelectorImpl@283067ce
19:16:01.210 [XNIO-20 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2a5c840a
19:16:01.213 [XNIO-20 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-5', selector sun.nio.ch.EPollSelectorImpl@677ef72b
19:16:01.218 [XNIO-20 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7bcce978
19:16:01.223 [XNIO-20 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-7', selector sun.nio.ch.EPollSelectorImpl@191d1ae1
19:16:01.223 [XNIO-20 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 I/O-8', selector sun.nio.ch.EPollSelectorImpl@75fa162f
19:16:01.224 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.224 [XNIO-20 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-20 Accept', selector sun.nio.ch.EPollSelectorImpl@6a042534
19:16:01.225 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.228 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.228 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42819
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42819
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42819
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54418&lt;-&gt;127.0.0.1:42819
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.229 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:42819
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.229 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:42819[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.230 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.233 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42819]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.239 [XNIO-20 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.240 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
19:16:01.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
19:16:01.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
19:16:01.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
19:16:01.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
19:16:01.241 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.241 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.241 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54418&lt;-&gt;127.0.0.1:42819
19:16:01.242 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.243 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.243 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42819
19:16:01.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one HTTP/1.1
19:16:01.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.243 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; POST /bravo?alpha=one HTTP/1.1
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Content-Length: 30
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Host: localhost:42819
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Connection: Keep-Alive
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.244 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;POST /bravo?alpha=one HTTP/1.1[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Host: localhost:42819[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.244 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.254 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42819]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.256 [XNIO-20 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.wire - http-outgoing-17 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; HTTP/1.1 200 OK
19:16:01.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Encoding: gzip
19:16:01.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Connection: keep-alive
19:16:01.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Type: text/plain
19:16:01.256 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Content-Length: 27
19:16:01.257 [Test worker] DEBUG org.apache.http.headers - http-outgoing-17 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.257 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.257 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54418&lt;-&gt;127.0.0.1:42819
19:16:01.257 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.258 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6578b9a6
19:16:01.264 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@aa90674
19:16:01.266 [XNIO-21 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-1', selector sun.nio.ch.EPollSelectorImpl@3be575af
19:16:01.266 [XNIO-21 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4b28c9ca
19:16:01.271 [XNIO-21 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-3', selector sun.nio.ch.EPollSelectorImpl@42af66a2
19:16:01.274 [XNIO-21 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2a4d1793
19:16:01.279 [XNIO-21 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7028de0a
19:16:01.280 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.275 [XNIO-21 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-5', selector sun.nio.ch.EPollSelectorImpl@41281c25
19:16:01.281 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.284 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.284 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41015
19:16:01.284 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41015
19:16:01.284 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41015
19:16:01.284 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47184&lt;-&gt;127.0.0.1:41015
19:16:01.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:01.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.285 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:41015
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.285 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:41015[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.285 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.275 [XNIO-21 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3df09fa9
19:16:01.275 [XNIO-21 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 I/O-7', selector sun.nio.ch.EPollSelectorImpl@68012c9
19:16:01.280 [XNIO-21 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-21 Accept', selector sun.nio.ch.EPollSelectorImpl@4bf70503
19:16:01.290 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41015]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.292 [XNIO-21 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
19:16:01.293 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.293 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47184&lt;-&gt;127.0.0.1:41015
19:16:01.294 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.295 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.295 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.295 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41015
19:16:01.296 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:01.296 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.296 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two HTTP/1.1
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Content-Length: 30
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Host: localhost:41015
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Connection: Keep-Alive
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two HTTP/1.1[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Host: localhost:41015[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.298 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41015]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.300 [XNIO-21 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.wire - http-outgoing-18 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; HTTP/1.1 200 OK
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Encoding: gzip
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Connection: keep-alive
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Type: text/plain
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Content-Length: 27
19:16:01.301 [Test worker] DEBUG org.apache.http.headers - http-outgoing-18 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.302 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.302 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47184&lt;-&gt;127.0.0.1:41015
19:16:01.302 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.303 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@aa90674
19:16:01.321 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4747e906
19:16:01.329 [XNIO-22 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-1', selector sun.nio.ch.EPollSelectorImpl@15c9e145
19:16:01.335 [XNIO-22 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4424deba
19:16:01.339 [XNIO-22 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-3', selector sun.nio.ch.EPollSelectorImpl@34c48c19
19:16:01.348 [XNIO-22 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2734d583
19:16:01.354 [XNIO-22 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3336e621
19:16:01.358 [XNIO-22 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-6', selector sun.nio.ch.EPollSelectorImpl@11e3b761
19:16:01.359 [XNIO-22 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6928aaa8
19:16:01.359 [XNIO-22 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 I/O-8', selector sun.nio.ch.EPollSelectorImpl@17ff8a2a
19:16:01.374 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.375 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.379 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.380 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40125
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40125
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40125
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50282&lt;-&gt;127.0.0.1:40125
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:01.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
19:16:01.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40125
19:16:01.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
19:16:01.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40125[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.381 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.391 [XNIO-22 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-22 Accept', selector sun.nio.ch.EPollSelectorImpl@238b0b3
19:16:01.395 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40125]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.397 [XNIO-22 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.397 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
19:16:01.398 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.398 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.399 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50282&lt;-&gt;127.0.0.1:40125
19:16:01.399 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.400 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.400 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40125
19:16:01.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:01.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.400 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Content-Length: 30
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Host: localhost:40125
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Connection: Keep-Alive
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.401 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;POST /bravo?alpha=one&amp;alpha=two&amp;bravo=three HTTP/1.1[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Host: localhost:40125[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.401 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.415 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /bravo (query=[alpha:[one, two], bravo:[three]], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40125]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.425 [XNIO-22 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.wire - http-outgoing-19 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; HTTP/1.1 200 OK
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Encoding: gzip
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Connection: keep-alive
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Type: text/plain
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Content-Length: 27
19:16:01.426 [Test worker] DEBUG org.apache.http.headers - http-outgoing-19 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.427 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50282&lt;-&gt;127.0.0.1:40125
19:16:01.427 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.428 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4747e906
19:16:01.442 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7f00b12e
19:16:01.459 [XNIO-23 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1cf099ad
19:16:01.460 [XNIO-23 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2aaa2522
19:16:01.460 [XNIO-23 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7c2e24ce
19:16:01.460 [XNIO-23 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5f0f7268
19:16:01.460 [XNIO-23 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-6', selector sun.nio.ch.EPollSelectorImpl@50218294
19:16:01.463 [XNIO-23 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-8', selector sun.nio.ch.EPollSelectorImpl@39158707
19:16:01.463 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.463 [XNIO-23 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2194affb
19:16:01.463 [XNIO-23 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 Accept', selector sun.nio.ch.EPollSelectorImpl@bb80266
19:16:01.467 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.470 [XNIO-23 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-23 I/O-1', selector sun.nio.ch.EPollSelectorImpl@500210dd
19:16:01.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.481 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.481 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40595
19:16:01.481 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40595
19:16:01.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40595
19:16:01.482 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50902&lt;-&gt;127.0.0.1:40595
19:16:01.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.482 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
19:16:01.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:40595
19:16:01.482 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
19:16:01.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.483 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:40595[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.483 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.485 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40595]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.487 [XNIO-23 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
19:16:01.488 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.488 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50902&lt;-&gt;127.0.0.1:40595
19:16:01.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.491 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.491 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.491 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40595
19:16:01.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.491 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Content-Length: 30
19:16:01.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Host: localhost:40595
19:16:01.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Connection: Keep-Alive
19:16:01.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.492 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Host: localhost:40595[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.492 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.492 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40595]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.494 [XNIO-23 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.494 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.495 [Test worker] DEBUG org.apache.http.wire - http-outgoing-20 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; HTTP/1.1 200 OK
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Encoding: gzip
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Connection: keep-alive
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Type: text/plain
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Content-Length: 27
19:16:01.495 [Test worker] DEBUG org.apache.http.headers - http-outgoing-20 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.495 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.495 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50902&lt;-&gt;127.0.0.1:40595
19:16:01.496 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.496 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7f00b12e
19:16:01.501 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5d32d5fa
19:16:01.515 [XNIO-24 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-1', selector sun.nio.ch.EPollSelectorImpl@41a5112e
19:16:01.518 [XNIO-24 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-2', selector sun.nio.ch.EPollSelectorImpl@590f77af
19:16:01.532 [XNIO-24 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1eee007
19:16:01.532 [XNIO-24 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5b26981d
19:16:01.533 [XNIO-24 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7935a6b8
19:16:01.533 [XNIO-24 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3721e468
19:16:01.533 [XNIO-24 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4a9969df
19:16:01.533 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.534 [XNIO-24 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 I/O-3', selector sun.nio.ch.EPollSelectorImpl@12a20d5
19:16:01.534 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.534 [XNIO-24 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-24 Accept', selector sun.nio.ch.EPollSelectorImpl@2b6cf54a
19:16:01.537 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.537 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.537 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40423
19:16:01.537 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40423
19:16:01.537 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40423
19:16:01.538 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46854&lt;-&gt;127.0.0.1:40423
19:16:01.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:40423
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:40423[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.543 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40423]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.547 [XNIO-24 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
19:16:01.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
19:16:01.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
19:16:01.549 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
19:16:01.550 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
19:16:01.550 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.550 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.550 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46854&lt;-&gt;127.0.0.1:40423
19:16:01.550 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.551 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.552 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.552 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40423
19:16:01.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.552 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Content-Length: 30
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Host: localhost:40423
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Connection: Keep-Alive
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.552 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Host: localhost:40423[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.554 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40423]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.557 [XNIO-24 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.wire - http-outgoing-21 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; HTTP/1.1 200 OK
19:16:01.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Encoding: gzip
19:16:01.557 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Connection: keep-alive
19:16:01.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Type: text/plain
19:16:01.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Content-Length: 27
19:16:01.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-21 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.558 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46854&lt;-&gt;127.0.0.1:40423
19:16:01.558 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.559 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5d32d5fa
19:16:01.562 [XNIO-24 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /charlie request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40423]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sun, 11 Aug 2019 00:15:58 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:01.572 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11e5f2f3
19:16:01.580 [XNIO-25 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7d69e0a6
19:16:01.580 [XNIO-25 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6b0bb25
19:16:01.581 [XNIO-25 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-3', selector sun.nio.ch.EPollSelectorImpl@d4dfddf
19:16:01.583 [XNIO-25 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-5', selector sun.nio.ch.EPollSelectorImpl@48fce56b
19:16:01.582 [XNIO-25 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-4', selector sun.nio.ch.EPollSelectorImpl@278924f3
19:16:01.586 [XNIO-25 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-6', selector sun.nio.ch.EPollSelectorImpl@edff56c
19:16:01.587 [XNIO-25 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-7', selector sun.nio.ch.EPollSelectorImpl@17d4aae1
19:16:01.588 [XNIO-25 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 I/O-8', selector sun.nio.ch.EPollSelectorImpl@766f3c2
19:16:01.594 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.594 [XNIO-25 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-25 Accept', selector sun.nio.ch.EPollSelectorImpl@9e89f03
19:16:01.595 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.598 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.599 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45983
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45983
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45983
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:48190&lt;-&gt;127.0.0.1:45983
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.599 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:45983
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.599 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.599 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:45983[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.600 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.610 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:45983]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.614 [XNIO-25 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
19:16:01.615 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.615 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.616 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48190&lt;-&gt;127.0.0.1:45983
19:16:01.616 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.617 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.617 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.617 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45983
19:16:01.617 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /charlie HTTP/1.1
19:16:01.617 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.617 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; POST /charlie HTTP/1.1
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; hat: fedora
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Content-Length: 30
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Host: localhost:45983
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Connection: Keep-Alive
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.617 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.617 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;POST /charlie HTTP/1.1[\r][\n]&quot;
19:16:01.617 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;hat: fedora[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Host: localhost:45983[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.618 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.619 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /charlie (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], hat=[fedora], Host=[localhost:45983]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.621 [XNIO-25 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.wire - http-outgoing-22 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:01.621 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; HTTP/1.1 200 OK
19:16:01.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Encoding: gzip
19:16:01.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Connection: keep-alive
19:16:01.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Type: text/plain
19:16:01.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Content-Length: 27
19:16:01.622 [Test worker] DEBUG org.apache.http.headers - http-outgoing-22 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.622 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.622 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:48190&lt;-&gt;127.0.0.1:45983
19:16:01.622 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.623 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11e5f2f3
19:16:01.632 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4b13b7c3
19:16:01.646 [XNIO-26 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-1', selector sun.nio.ch.EPollSelectorImpl@38b18824
19:16:01.651 [XNIO-26 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-2', selector sun.nio.ch.EPollSelectorImpl@53374d4b
19:16:01.658 [XNIO-26 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3106f774
19:16:01.660 [XNIO-26 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-5', selector sun.nio.ch.EPollSelectorImpl@46ac5ee
19:16:01.660 [XNIO-26 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-6', selector sun.nio.ch.EPollSelectorImpl@f528299
19:16:01.660 [XNIO-26 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4d48a01d
19:16:01.664 [XNIO-26 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-8', selector sun.nio.ch.EPollSelectorImpl@78b49566
19:16:01.666 [XNIO-26 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1153f092
19:16:01.667 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.667 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.676 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.677 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41741
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41741
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41741
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:51888&lt;-&gt;127.0.0.1:41741
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /chars HTTP/1.1
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.677 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; POST /chars HTTP/1.1
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Type: text/plain; charset=utf-8
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Content-Length: 24
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Host: localhost:41741
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Connection: Keep-Alive
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.677 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;POST /chars HTTP/1.1[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Type: text/plain; charset=utf-8[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Content-Length: 24[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Host: localhost:41741[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.678 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &gt;&gt; &quot;This is some plain text.&quot;
19:16:01.678 [XNIO-26 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-26 Accept', selector sun.nio.ch.EPollSelectorImpl@10d18762
19:16:01.681 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /chars (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/plain; charset=utf-8], Content-Length=[24], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41741]}, cookies=[:]): This is some plain text. }
19:16:01.682 [XNIO-26 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:01.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:01.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.683 [Test worker] DEBUG org.apache.http.wire - http-outgoing-23 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; HTTP/1.1 200 OK
19:16:01.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Connection: keep-alive
19:16:01.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Content-Length: 0
19:16:01.683 [Test worker] DEBUG org.apache.http.headers - http-outgoing-23 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.683 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.683 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:51888&lt;-&gt;127.0.0.1:41741
19:16:01.684 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.685 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4b13b7c3
19:16:01.689 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4a892eed
19:16:01.694 [XNIO-27 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-1', selector sun.nio.ch.EPollSelectorImpl@433379bb
19:16:01.698 [XNIO-27 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-2', selector sun.nio.ch.EPollSelectorImpl@69912a7e
19:16:01.703 [XNIO-27 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4814ddae
19:16:01.714 [XNIO-27 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-4', selector sun.nio.ch.EPollSelectorImpl@60a939a6
19:16:01.717 [XNIO-27 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3eb398e5
19:16:01.717 [XNIO-27 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-6', selector sun.nio.ch.EPollSelectorImpl@27dee5bb
19:16:01.717 [XNIO-27 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7565f580
19:16:01.718 [XNIO-27 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3792bb60
19:16:01.719 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.720 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.719 [XNIO-27 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-27 Accept', selector sun.nio.ch.EPollSelectorImpl@6933109a
19:16:01.724 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.724 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.724 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:41703
19:16:01.724 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:41703
19:16:01.724 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41703
19:16:01.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:41703 with timeout 0
19:16:01.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:01.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:01.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:01.761 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:01.761 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:01.761 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:01.761 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:01.761 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:01.761 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40006&lt;-&gt;127.0.0.1:41703
19:16:01.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /chars HTTP/1.1
19:16:01.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.761 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.761 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; POST /chars HTTP/1.1
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Type: text/plain; charset=utf-8
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Content-Length: 24
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Host: localhost:41703
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Connection: Keep-Alive
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.762 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;POST /chars HTTP/1.1[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Type: text/plain; charset=utf-8[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Content-Length: 24[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Host: localhost:41703[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.762 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &gt;&gt; &quot;This is some plain text.&quot;
19:16:01.763 [XNIO-27 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /chars (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/plain; charset=utf-8], Content-Length=[24], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41703]}, cookies=[:]): This is some plain text. }
19:16:01.764 [XNIO-27 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:01.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:01.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-24 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; HTTP/1.1 200 OK
19:16:01.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Connection: keep-alive
19:16:01.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Content-Length: 0
19:16:01.764 [Test worker] DEBUG org.apache.http.headers - http-outgoing-24 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.764 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.764 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40006&lt;-&gt;127.0.0.1:41703
19:16:01.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.765 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4a892eed
19:16:01.783 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@55e581fc
19:16:01.786 [XNIO-28 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-1', selector sun.nio.ch.EPollSelectorImpl@54825397
19:16:01.795 [XNIO-28 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7bf17aa3
19:16:01.800 [XNIO-28 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1a83508e
19:16:01.803 [XNIO-28 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-4', selector sun.nio.ch.EPollSelectorImpl@10579095
19:16:01.814 [XNIO-28 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-5', selector sun.nio.ch.EPollSelectorImpl@60d16574
19:16:01.820 [XNIO-28 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-6', selector sun.nio.ch.EPollSelectorImpl@14607cd9
19:16:01.831 [XNIO-28 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d50f21e
19:16:01.831 [XNIO-28 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1cc9c2bb
19:16:01.831 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:01.832 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:01.840 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.840 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38571
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38571
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38571
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53040&lt;-&gt;127.0.0.1:38571
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.841 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; POST /delta HTTP/1.1
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:38571
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.841 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:38571[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.841 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.842 [XNIO-28 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-28 Accept', selector sun.nio.ch.EPollSelectorImpl@1228c090
19:16:01.857 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38571]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.863 [XNIO-28 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.864 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.865 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
19:16:01.865 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.865 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.870 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53040&lt;-&gt;127.0.0.1:38571
19:16:01.870 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.894 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:01.897 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:01.897 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38571
19:16:01.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:01.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:01.897 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; POST /delta HTTP/1.1
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Content-Length: 30
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Host: localhost:38571
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Connection: Keep-Alive
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:01.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Host: localhost:38571[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;[\r][\n]&quot;
19:16:01.898 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:01.912 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38571]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:01.917 [XNIO-28 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:01.918 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[\r][\n]&quot;
19:16:01.919 [Test worker] DEBUG org.apache.http.wire - http-outgoing-25 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; HTTP/1.1 200 OK
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Encoding: gzip
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Connection: keep-alive
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Type: text/date
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Content-Length: 36
19:16:01.921 [Test worker] DEBUG org.apache.http.headers - http-outgoing-25 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:01.922 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:01.922 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53040&lt;-&gt;127.0.0.1:38571
19:16:01.922 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:01.923 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@55e581fc
19:16:01.951 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4e6b92bf
19:16:01.964 [XNIO-29 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6d05a4c3
19:16:01.969 [XNIO-29 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-2', selector sun.nio.ch.EPollSelectorImpl@67afed52
19:16:01.974 [XNIO-29 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4133bd9
19:16:01.982 [XNIO-29 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1243f9b5
19:16:01.992 [XNIO-29 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b14d31d
19:16:02.002 [XNIO-29 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-6', selector sun.nio.ch.EPollSelectorImpl@98b2871
19:16:02.014 [XNIO-29 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-7', selector sun.nio.ch.EPollSelectorImpl@338f254a
19:16:02.027 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.028 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.031 [XNIO-29 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1ccd3c4c
19:16:02.031 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.031 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.031 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45273
19:16:02.031 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45273
19:16:02.032 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45273
19:16:02.032 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33232&lt;-&gt;127.0.0.1:45273
19:16:02.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.032 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; POST /delta HTTP/1.1
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:45273
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.032 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:45273[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.035 [XNIO-29 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-29 Accept', selector sun.nio.ch.EPollSelectorImpl@4ccd21b
19:16:02.057 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45273]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.068 [XNIO-29 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
19:16:02.070 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.070 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.071 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33232&lt;-&gt;127.0.0.1:45273
19:16:02.071 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.073 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.073 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.073 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45273
19:16:02.073 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.073 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.073 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; POST /delta HTTP/1.1
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Content-Length: 30
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Host: localhost:45273
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Connection: Keep-Alive
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.073 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.073 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Host: localhost:45273[\r][\n]&quot;
19:16:02.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.074 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.082 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45273]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.086 [XNIO-29 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.wire - http-outgoing-26 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; HTTP/1.1 200 OK
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Encoding: gzip
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Connection: keep-alive
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Type: text/date
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Content-Length: 36
19:16:02.087 [Test worker] DEBUG org.apache.http.headers - http-outgoing-26 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.087 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.088 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33232&lt;-&gt;127.0.0.1:45273
19:16:02.088 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.089 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4e6b92bf
19:16:02.107 [XNIO-29 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:02.122 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@11259ace
19:16:02.146 [XNIO-30 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4bbff632
19:16:02.156 [XNIO-30 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4f19b3b
19:16:02.163 [XNIO-30 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-3', selector sun.nio.ch.EPollSelectorImpl@46829cb4
19:16:02.178 [XNIO-30 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7037918e
19:16:02.186 [XNIO-30 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-5', selector sun.nio.ch.EPollSelectorImpl@195e5801
19:16:02.196 [XNIO-30 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-6', selector sun.nio.ch.EPollSelectorImpl@664ffdbf
19:16:02.210 [XNIO-30 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6591801e
19:16:02.214 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.215 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.218 [XNIO-30 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 I/O-7', selector sun.nio.ch.EPollSelectorImpl@370b370b
19:16:02.227 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.227 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.227 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41259
19:16:02.227 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41259
19:16:02.227 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41259
19:16:02.229 [XNIO-30 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-30 Accept', selector sun.nio.ch.EPollSelectorImpl@4b011f57
19:16:02.236 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43528&lt;-&gt;127.0.0.1:41259
19:16:02.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.236 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.237 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; POST /delta HTTP/1.1
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Cookie: flavor=chocolate-chip
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:41259
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.239 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
19:16:02.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.239 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:41259[\r][\n]&quot;
19:16:02.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.240 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.244 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41259]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@71ab2c79]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.268 [XNIO-30 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
19:16:02.269 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.269 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43528&lt;-&gt;127.0.0.1:41259
19:16:02.270 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.272 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.272 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.272 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41259
19:16:02.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.272 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; POST /delta HTTP/1.1
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Cookie: flavor=chocolate-chip
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Content-Length: 30
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Host: localhost:41259
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Connection: Keep-Alive
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.272 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Cookie: flavor=chocolate-chip[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Host: localhost:41259[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.272 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.314 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41259]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@3aa06160]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.320 [XNIO-30 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.wire - http-outgoing-27 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; HTTP/1.1 200 OK
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Encoding: gzip
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Connection: keep-alive
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Type: text/date
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Content-Length: 36
19:16:02.321 [Test worker] DEBUG org.apache.http.headers - http-outgoing-27 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.321 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43528&lt;-&gt;127.0.0.1:41259
19:16:02.322 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.323 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@11259ace
19:16:02.334 [XNIO-30 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:02.339 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2e7653c5
19:16:02.344 [XNIO-31 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4f174786
19:16:02.352 [XNIO-31 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-2', selector sun.nio.ch.EPollSelectorImpl@653927cf
19:16:02.355 [XNIO-31 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7f08da56
19:16:02.356 [XNIO-31 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-4', selector sun.nio.ch.EPollSelectorImpl@740f9e67
19:16:02.363 [XNIO-31 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6bab6ade
19:16:02.366 [XNIO-31 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3853811f
19:16:02.366 [XNIO-31 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-7', selector sun.nio.ch.EPollSelectorImpl@24d14c00
19:16:02.367 [XNIO-31 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 I/O-8', selector sun.nio.ch.EPollSelectorImpl@554eec31
19:16:02.377 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.377 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.381 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.381 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40741
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40741
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40741
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59886&lt;-&gt;127.0.0.1:40741
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.381 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.381 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; POST /delta HTTP/1.1
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40741
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.382 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40741[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.382 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.383 [XNIO-31 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-31 Accept', selector sun.nio.ch.EPollSelectorImpl@6884da37
19:16:02.390 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40741]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@2cb46ceb, flavor:ersatz.undertow.server.handlers.CookieImpl@2273970d]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.392 [XNIO-31 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
19:16:02.393 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.393 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.393 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59886&lt;-&gt;127.0.0.1:40741
19:16:02.394 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.395 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.396 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.396 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40741
19:16:02.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.396 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; POST /delta HTTP/1.1
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Cookie: flavor=chocolate-chip; count=dozen
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Content-Length: 30
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Host: localhost:40741
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Connection: Keep-Alive
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.396 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Cookie: flavor=chocolate-chip; count=dozen[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Host: localhost:40741[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.396 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.426 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=chocolate-chip; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40741]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@758b70ef, flavor:ersatz.undertow.server.handlers.CookieImpl@7b4c902e]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.430 [XNIO-31 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.430 [Test worker] DEBUG org.apache.http.wire - http-outgoing-28 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; HTTP/1.1 200 OK
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Encoding: gzip
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Connection: keep-alive
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Type: text/date
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Content-Length: 36
19:16:02.431 [Test worker] DEBUG org.apache.http.headers - http-outgoing-28 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.431 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.431 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59886&lt;-&gt;127.0.0.1:40741
19:16:02.432 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.432 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2e7653c5
19:16:02.451 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3af32dc5
19:16:02.455 [XNIO-32 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6db34ca1
19:16:02.458 [XNIO-32 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-3', selector sun.nio.ch.EPollSelectorImpl@9fd62
19:16:02.459 [XNIO-32 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1211b589
19:16:02.467 [XNIO-32 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-2', selector sun.nio.ch.EPollSelectorImpl@19a50af4
19:16:02.473 [XNIO-32 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-5', selector sun.nio.ch.EPollSelectorImpl@25400f41
19:16:02.474 [XNIO-32 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-6', selector sun.nio.ch.EPollSelectorImpl@613d77b8
19:16:02.478 [XNIO-32 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7f3cd27a
19:16:02.484 [XNIO-32 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 I/O-8', selector sun.nio.ch.EPollSelectorImpl@29b7df60
19:16:02.488 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.489 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.500 [XNIO-32 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-32 Accept', selector sun.nio.ch.EPollSelectorImpl@56fdec6b
19:16:02.507 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.507 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.507 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40105
19:16:02.507 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40105
19:16:02.507 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40105
19:16:02.508 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43378&lt;-&gt;127.0.0.1:40105
19:16:02.508 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.508 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.508 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; POST /delta HTTP/1.1
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:40105
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.508 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:40105[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.508 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.513 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40105]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.517 [XNIO-32 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.520 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/date
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 36
19:16:02.521 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.522 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43378&lt;-&gt;127.0.0.1:40105
19:16:02.524 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.530 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.531 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.531 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40105
19:16:02.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.531 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; POST /delta HTTP/1.1
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Content-Length: 30
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Host: localhost:40105
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Connection: Keep-Alive
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.531 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Host: localhost:40105[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.532 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.537 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40105]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.539 [XNIO-32 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.wire - http-outgoing-29 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; HTTP/1.1 200 OK
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Encoding: gzip
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Connection: keep-alive
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Type: text/date
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Content-Length: 36
19:16:02.541 [Test worker] DEBUG org.apache.http.headers - http-outgoing-29 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.542 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43378&lt;-&gt;127.0.0.1:40105
19:16:02.542 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.543 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3af32dc5
19:16:02.558 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@20410f5b
19:16:02.558 [XNIO-32 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /delta request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40105]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/date], Content-Length=[36], Date=[Sun, 11 Aug 2019 00:15:58 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:02.562 [XNIO-33 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2d8273cd
19:16:02.563 [XNIO-33 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-2', selector sun.nio.ch.EPollSelectorImpl@36c3dbf9
19:16:02.582 [XNIO-33 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-3', selector sun.nio.ch.EPollSelectorImpl@10027bc0
19:16:02.586 [XNIO-33 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-4', selector sun.nio.ch.EPollSelectorImpl@38782813
19:16:02.606 [XNIO-33 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5832c9b1
19:16:02.606 [XNIO-33 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-6', selector sun.nio.ch.EPollSelectorImpl@bd9357a
19:16:02.615 [XNIO-33 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3d4a2ed
19:16:02.630 [XNIO-33 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3d96a31
19:16:02.646 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.646 [XNIO-33 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-33 Accept', selector sun.nio.ch.EPollSelectorImpl@4bd7d3a0
19:16:02.648 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.651 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.651 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43725
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:43725
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43725
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:33778&lt;-&gt;127.0.0.1:43725
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.652 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; POST /delta HTTP/1.1
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:43725
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.652 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:43725[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.652 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.655 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.658 [XNIO-33 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
19:16:02.659 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.659 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.660 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33778&lt;-&gt;127.0.0.1:43725
19:16:02.660 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.661 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.661 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.661 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:43725
19:16:02.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; POST /delta HTTP/1.1
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Content-Length: 30
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Host: localhost:43725
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Connection: Keep-Alive
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Host: localhost:43725[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.672 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.675 [XNIO-33 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-30 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; HTTP/1.1 200 OK
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Encoding: gzip
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Connection: keep-alive
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Type: text/date
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Content-Length: 36
19:16:02.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-30 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.676 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:33778&lt;-&gt;127.0.0.1:43725
19:16:02.677 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.677 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@20410f5b
19:16:02.687 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@18d36d6f
19:16:02.690 [XNIO-34 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-1', selector sun.nio.ch.EPollSelectorImpl@48609c3c
19:16:02.694 [XNIO-34 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2e7dcf7a
19:16:02.698 [XNIO-34 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7438a3f9
19:16:02.706 [XNIO-34 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-4', selector sun.nio.ch.EPollSelectorImpl@71eb99d9
19:16:02.709 [XNIO-34 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-5', selector sun.nio.ch.EPollSelectorImpl@42e3dc21
19:16:02.718 [XNIO-34 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-6', selector sun.nio.ch.EPollSelectorImpl@23e2ce93
19:16:02.735 [XNIO-34 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-7', selector sun.nio.ch.EPollSelectorImpl@2a82c9f3
19:16:02.754 [XNIO-34 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 I/O-8', selector sun.nio.ch.EPollSelectorImpl@760995c
19:16:02.766 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.766 [XNIO-34 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-34 Accept', selector sun.nio.ch.EPollSelectorImpl@372c344f
19:16:02.768 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.771 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.772 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35421
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:35421
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:35421
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40562&lt;-&gt;127.0.0.1:35421
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.772 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; POST /delta HTTP/1.1
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Cookie: flavor=peanut-butter
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:35421
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.776 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.776 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:35421[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.777 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.778 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35421]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@4458fa92]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.780 [XNIO-34 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
19:16:02.781 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40562&lt;-&gt;127.0.0.1:35421
19:16:02.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.784 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.784 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:35421
19:16:02.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; POST /delta HTTP/1.1
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Cookie: flavor=peanut-butter
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Content-Length: 30
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Host: localhost:35421
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Connection: Keep-Alive
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Cookie: flavor=peanut-butter[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Host: localhost:35421[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.785 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.788 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=peanut-butter], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:35421]}, cookies=[flavor:ersatz.undertow.server.handlers.CookieImpl@439a15e]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.790 [XNIO-34 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.wire - http-outgoing-31 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; HTTP/1.1 200 OK
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Encoding: gzip
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Connection: keep-alive
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Type: text/date
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Content-Length: 36
19:16:02.791 [Test worker] DEBUG org.apache.http.headers - http-outgoing-31 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.791 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40562&lt;-&gt;127.0.0.1:35421
19:16:02.792 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.792 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@18d36d6f
19:16:02.806 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@21f864df
19:16:02.808 [XNIO-35 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1689598b
19:16:02.810 [XNIO-35 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-3', selector sun.nio.ch.EPollSelectorImpl@7b23aeff
19:16:02.810 [XNIO-35 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6b12f765
19:16:02.811 [XNIO-35 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-4', selector sun.nio.ch.EPollSelectorImpl@62f71036
19:16:02.812 [XNIO-35 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-5', selector sun.nio.ch.EPollSelectorImpl@616aed86
19:16:02.814 [XNIO-35 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-6', selector sun.nio.ch.EPollSelectorImpl@177d5211
19:16:02.817 [XNIO-35 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3120a0f6
19:16:02.819 [XNIO-35 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3f50553d
19:16:02.822 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.823 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.827 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.827 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46807
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46807
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46807
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49734&lt;-&gt;127.0.0.1:46807
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.827 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; POST /delta HTTP/1.1
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:46807
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.828 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:46807[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.828 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.828 [XNIO-35 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-35 Accept', selector sun.nio.ch.EPollSelectorImpl@4aba57d5
19:16:02.846 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46807]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@19385298, flavor:ersatz.undertow.server.handlers.CookieImpl@17ffafcf]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.849 [XNIO-35 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
19:16:02.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
19:16:02.849 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:02.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
19:16:02.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
19:16:02.850 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.850 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.850 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49734&lt;-&gt;127.0.0.1:46807
19:16:02.850 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.852 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.852 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46807
19:16:02.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /delta HTTP/1.1
19:16:02.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.852 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; POST /delta HTTP/1.1
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Cookie: flavor=oatmeal; count=dozen
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Content-Length: 30
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Host: localhost:46807
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Connection: Keep-Alive
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.852 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;POST /delta HTTP/1.1[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Cookie: flavor=oatmeal; count=dozen[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Host: localhost:46807[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.852 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.864 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /delta (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Cookie=[flavor=oatmeal; count=dozen], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46807]}, cookies=[count:ersatz.undertow.server.handlers.CookieImpl@602e0f03, flavor:ersatz.undertow.server.handlers.CookieImpl@6ee9ed76]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:02.866 [XNIO-35 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/date]}): 2016.08.25 14:43
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Type: text/date[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Content-Length: 36[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.wire - http-outgoing-32 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0]3204[0xd3]3[0xb0][0xd0]32U04[0xb1]21[0x6][0x0][0x97][0x12][0x8d][0xdb][0x10][0x0][0x0][0x0]&quot;
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; HTTP/1.1 200 OK
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Encoding: gzip
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Connection: keep-alive
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Type: text/date
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Content-Length: 36
19:16:02.867 [Test worker] DEBUG org.apache.http.headers - http-outgoing-32 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.868 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.868 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49734&lt;-&gt;127.0.0.1:46807
19:16:02.869 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:02.869 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@21f864df
19:16:02.902 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6dc02ad6
19:16:02.905 [XNIO-36 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-1', selector sun.nio.ch.EPollSelectorImpl@810b79b
19:16:02.905 [XNIO-36 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-2', selector sun.nio.ch.EPollSelectorImpl@23c443bf
19:16:02.906 [XNIO-36 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5153330a
19:16:02.918 [XNIO-36 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-5', selector sun.nio.ch.EPollSelectorImpl@319d56a3
19:16:02.920 [XNIO-36 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2bc53ed4
19:16:02.922 [XNIO-36 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-6', selector sun.nio.ch.EPollSelectorImpl@3af5434f
19:16:02.926 [XNIO-36 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7c094261
19:16:02.931 [XNIO-36 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 I/O-8', selector sun.nio.ch.EPollSelectorImpl@668a3fe8
19:16:02.932 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:02.932 [XNIO-36 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-36 Accept', selector sun.nio.ch.EPollSelectorImpl@6de892be
19:16:02.935 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:02.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:02.945 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39445
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39445
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39445
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53398&lt;-&gt;127.0.0.1:39445
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:02.945 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; POST /basic HTTP/1.1
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:39445
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.946 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:39445[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.946 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.958 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:02.958 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.961 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@156dc69e for /basic
19:16:02.962 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:02.963 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:02.965 [XNIO-36 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:02.967 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:02.967 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:02.967 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:02.967 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39445 requested authentication
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:02.967 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:02.972 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:02.973 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:02.973 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:02.973 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:02.984 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; POST /basic HTTP/1.1
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:39445
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:02.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:39445[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:02.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:02.987 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:02.987 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:02.993 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:03.012 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.036 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@156dc69e for /basic
19:16:03.036 [XNIO-36 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:03.036 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.038 [XNIO-36 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/plain
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 27
19:16:03.039 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.039 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.039 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.041 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:39445
19:16:03.048 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53398&lt;-&gt;127.0.0.1:39445
19:16:03.048 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.050 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.050 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.050 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39445
19:16:03.050 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.050 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.050 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; POST /basic HTTP/1.1
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:39445
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.050 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:39445[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.051 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.054 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:03.055 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.055 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@156dc69e for /basic
19:16:03.055 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:03.055 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.055 [XNIO-36 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 0
19:16:03.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.056 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.056 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:39445 requested authentication
19:16:03.056 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.057 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.057 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.057 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.057 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.057 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.058 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.059 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.060 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.060 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; POST /basic HTTP/1.1
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Content-Length: 30
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Host: localhost:39445
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Connection: Keep-Alive
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.060 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:03.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Host: localhost:39445[\r][\n]&quot;
19:16:03.060 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:03.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.061 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.061 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:03.062 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.062 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]} response {}}
19:16:03.062 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.062 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@156dc69e for /basic
19:16:03.062 [XNIO-36 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:03.062 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39445]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.064 [XNIO-36 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.065 [Test worker] DEBUG org.apache.http.wire - http-outgoing-33 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; HTTP/1.1 200 OK
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Encoding: gzip
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Connection: keep-alive
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Type: text/plain
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Content-Length: 27
19:16:03.068 [Test worker] DEBUG org.apache.http.headers - http-outgoing-33 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.068 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.068 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.068 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for http://localhost:39445
19:16:03.069 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53398&lt;-&gt;127.0.0.1:39445
19:16:03.069 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.070 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6dc02ad6
19:16:03.077 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@7d00d1f5
19:16:03.087 [XNIO-37 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-1', selector sun.nio.ch.EPollSelectorImpl@162037cc
19:16:03.097 [XNIO-37 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1e95cec7
19:16:03.099 [XNIO-37 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3a0ac0c4
19:16:03.107 [XNIO-37 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2a55330b
19:16:03.111 [XNIO-37 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-6', selector sun.nio.ch.EPollSelectorImpl@139d80db
19:16:03.097 [XNIO-37 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-2', selector sun.nio.ch.EPollSelectorImpl@3d29e407
19:16:03.112 [XNIO-37 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5fc2a9bc
19:16:03.113 [XNIO-37 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3eea9ee
19:16:03.114 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.114 [XNIO-37 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-37 Accept', selector sun.nio.ch.EPollSelectorImpl@1594bc58
19:16:03.115 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.117 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.117 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38271
19:16:03.118 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:38271
19:16:03.118 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38271
19:16:03.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:38271 with timeout 0
19:16:03.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:03.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:03.118 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:03.150 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:03.150 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:03.150 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:03.150 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.150 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.150 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58706&lt;-&gt;127.0.0.1:38271
19:16:03.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.151 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; POST /basic HTTP/1.1
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:38271
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.151 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:38271[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.151 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2ea6f13e for /basic
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.155 [XNIO-37 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38271 requested authentication
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.157 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; POST /basic HTTP/1.1
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:38271
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.158 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:38271[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.158 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.163 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.163 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.163 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.164 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.164 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2ea6f13e for /basic
19:16:03.164 [XNIO-37 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:03.164 [XNIO-37 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.166 [XNIO-37 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
19:16:03.167 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.167 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.168 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.168 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:38271
19:16:03.168 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58706&lt;-&gt;127.0.0.1:38271
19:16:03.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.171 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.171 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.171 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:38271
19:16:03.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; POST /basic HTTP/1.1
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:38271
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:38271[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2ea6f13e for /basic
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.179 [XNIO-37 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.180 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.181 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 0
19:16:03.181 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38271 requested authentication
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.181 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.182 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; POST /basic HTTP/1.1
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Content-Length: 30
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Host: localhost:38271
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Connection: Keep-Alive
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.182 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &gt;&gt; Authorization: Basic YWRtaW46JDNjcjN0
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Host: localhost:38271[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;Authorization: Basic YWRtaW46JDNjcjN0[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.182 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.205 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.205 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.205 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header admin:$3cr3t (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]} response {}}
19:16:03.207 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.207 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@2ea6f13e for /basic
19:16:03.207 [XNIO-37 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /basic
19:16:03.207 [XNIO-37 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /basic (query=[:], headers={Connection=[Keep-Alive], Authorization=[Basic YWRtaW46JDNjcjN0], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38271]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.209 [XNIO-37 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.210 [Test worker] DEBUG org.apache.http.wire - http-outgoing-34 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; HTTP/1.1 200 OK
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Encoding: gzip
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Connection: keep-alive
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Type: text/plain
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Content-Length: 27
19:16:03.211 [Test worker] DEBUG org.apache.http.headers - http-outgoing-34 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.211 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.211 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.211 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'basic' auth scheme for https://localhost:38271
19:16:03.212 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58706&lt;-&gt;127.0.0.1:38271
19:16:03.212 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.212 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@7d00d1f5
19:16:03.228 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4ad9f98c
19:16:03.238 [XNIO-38 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5eb7803
19:16:03.247 [XNIO-38 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2e855050
19:16:03.248 [XNIO-38 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1ef50472
19:16:03.265 [XNIO-38 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6a8dbc55
19:16:03.265 [XNIO-38 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1a99e25b
19:16:03.266 [XNIO-38 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-6', selector sun.nio.ch.EPollSelectorImpl@621d62b7
19:16:03.267 [XNIO-38 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-7', selector sun.nio.ch.EPollSelectorImpl@44152de0
19:16:03.270 [XNIO-38 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2e74ac8c
19:16:03.271 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.272 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.275 [XNIO-38 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-38 Accept', selector sun.nio.ch.EPollSelectorImpl@4a09f549
19:16:03.282 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.282 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.282 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41069
19:16:03.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:41069
19:16:03.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:41069
19:16:03.282 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39722&lt;-&gt;127.0.0.1:41069
19:16:03.282 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.283 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.283 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; POST /basic HTTP/1.1
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41069
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.283 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41069[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.283 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@41bda65f for /basic
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.296 [XNIO-38 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.296 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41069 requested authentication
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.297 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; POST /basic HTTP/1.1
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41069
19:16:03.297 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.298 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41069[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.298 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.303 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.303 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.303 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.304 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.304 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@41bda65f for /basic
19:16:03.304 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.304 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.304 [XNIO-38 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.304 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
19:16:03.305 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41069 requested authentication
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39722&lt;-&gt;127.0.0.1:41069
19:16:03.305 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.329 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.329 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.329 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:41069
19:16:03.329 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.329 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.329 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; POST /basic HTTP/1.1
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41069
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.330 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41069[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.330 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@41bda65f for /basic
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.335 [XNIO-38 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.335 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41069 requested authentication
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; POST /basic HTTP/1.1
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Content-Length: 30
19:16:03.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Host: localhost:41069
19:16:03.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Connection: Keep-Alive
19:16:03.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Host: localhost:41069[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@41bda65f for /basic
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {}}
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:41069]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.353 [XNIO-38 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.wire - http-outgoing-35 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Connection: keep-alive
19:16:03.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Content-Length: 0
19:16:03.354 [Test worker] DEBUG org.apache.http.headers - http-outgoing-35 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.354 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:41069 requested authentication
19:16:03.354 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.355 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.355 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39722&lt;-&gt;127.0.0.1:41069
19:16:03.355 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.358 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4ad9f98c
19:16:03.362 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2e7eefcc
19:16:03.367 [XNIO-39 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5156261f
19:16:03.368 [XNIO-39 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-2', selector sun.nio.ch.EPollSelectorImpl@1d176afe
19:16:03.369 [XNIO-39 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4bb6c1b9
19:16:03.375 [XNIO-39 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6de62b90
19:16:03.382 [XNIO-39 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5eeeb2f8
19:16:03.386 [XNIO-39 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-6', selector sun.nio.ch.EPollSelectorImpl@24c5708d
19:16:03.386 [XNIO-39 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5d04f542
19:16:03.388 [XNIO-39 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 I/O-8', selector sun.nio.ch.EPollSelectorImpl@61b3ea25
19:16:03.389 [XNIO-39 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-39 Accept', selector sun.nio.ch.EPollSelectorImpl@45eced4e
19:16:03.389 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.390 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.392 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.393 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.393 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42461
19:16:03.393 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:42461
19:16:03.393 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42461
19:16:03.393 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:42461 with timeout 0
19:16:03.393 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:03.393 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:03.393 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:03.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:03.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:03.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:03.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.435 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.435 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38802&lt;-&gt;127.0.0.1:42461
19:16:03.435 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.435 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.435 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.435 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; POST /basic HTTP/1.1
19:16:03.435 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.435 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.435 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42461
19:16:03.435 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.436 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42461[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.436 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@367457a3 for /basic
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.437 [XNIO-39 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42461 requested authentication
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.438 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.439 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; POST /basic HTTP/1.1
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42461
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.439 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42461[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.439 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.440 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.440 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.440 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.440 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.441 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@367457a3 for /basic
19:16:03.441 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.441 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.441 [XNIO-39 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.441 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42461 requested authentication
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38802&lt;-&gt;127.0.0.1:42461
19:16:03.442 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.443 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.443 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.443 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:42461
19:16:03.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.443 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; POST /basic HTTP/1.1
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42461
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.444 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42461[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.444 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.446 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.447 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.447 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@367457a3 for /basic
19:16:03.447 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.447 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.447 [XNIO-39 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.448 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42461 requested authentication
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Digest authentication scheme not available
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [BASIC [complete=true]]
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /basic HTTP/1.1
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.448 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using basic scheme
19:16:03.449 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; POST /basic HTTP/1.1
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Content-Length: 30
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Host: localhost:42461
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Connection: Keep-Alive
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &gt;&gt; Authorization: Basic Z3Vlc3Q6YmxhaA==
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;POST /basic HTTP/1.1[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Host: localhost:42461[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;Authorization: Basic Z3Vlc3Q6YmxhaA==[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.455 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.455 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /basic, authentication required: true
19:16:03.455 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Found basic auth header guest:blah (decoded using charset UTF-8) in HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.455 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'guest' and mechanism BASIC for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.455 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.BasicAuthenticationMechanism@367457a3 for /basic
19:16:03.456 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {}}
19:16:03.456 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Sending basic auth challenge Basic realm=&quot;BasicTesting&quot; for HttpServerExchange{ POST /basic request {Connection=[Keep-Alive], Authorization=[Basic Z3Vlc3Q6YmxhaA==], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42461]} response {WWW-Authenticate=[Basic realm=&quot;BasicTesting&quot;]}}
19:16:03.456 [XNIO-39 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /basic
19:16:03.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.456 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;[\r][\n]&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.wire - http-outgoing-36 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Connection: keep-alive
19:16:03.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; WWW-Authenticate: Basic realm=&quot;BasicTesting&quot;
19:16:03.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Content-Length: 0
19:16:03.457 [Test worker] DEBUG org.apache.http.headers - http-outgoing-36 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:42461 requested authentication
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38802&lt;-&gt;127.0.0.1:42461
19:16:03.457 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.458 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2e7eefcc
19:16:03.485 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@22cea8d6
19:16:03.499 [XNIO-40 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-2', selector sun.nio.ch.EPollSelectorImpl@18cd01c2
19:16:03.500 [XNIO-40 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5db7ab6f
19:16:03.502 [XNIO-40 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6763bb7
19:16:03.507 [XNIO-40 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7b5eafc4
19:16:03.507 [XNIO-40 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-5', selector sun.nio.ch.EPollSelectorImpl@4a968a04
19:16:03.507 [XNIO-40 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-6', selector sun.nio.ch.EPollSelectorImpl@425c8e0e
19:16:03.514 [XNIO-40 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-7', selector sun.nio.ch.EPollSelectorImpl@14ed3a3e
19:16:03.514 [XNIO-40 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 I/O-8', selector sun.nio.ch.EPollSelectorImpl@ae9ae84
19:16:03.515 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.515 [XNIO-40 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-40 Accept', selector sun.nio.ch.EPollSelectorImpl@2a73c9bb
19:16:03.515 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.521 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.521 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.521 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38355
19:16:03.521 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38355
19:16:03.522 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38355
19:16:03.522 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50326&lt;-&gt;127.0.0.1:38355
19:16:03.522 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.522 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.522 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; POST /digest HTTP/1.1
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:38355
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.522 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.522 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:38355[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.523 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.535 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.535 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.535 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2c6dab8b for /digest
19:16:03.535 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.538 [XNIO-40 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
19:16:03.538 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.538 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38355 requested authentication
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.539 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.544 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.544 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.544 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.544 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.544 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.548 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; POST /digest HTTP/1.1
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:38355
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.548 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:38355[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.548 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.551 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.551 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.553 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.561 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.561 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2c6dab8b for /digest
19:16:03.561 [XNIO-40 task-2] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:03.561 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;, uri=&quot;/digest&quot;, response=&quot;a0a99383a6948f59c85140fa8b348836&quot;, qop=auth, nc=00000001, cnonce=&quot;d588ef7f2385b4d0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.562 [XNIO-40 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;52b868dfaba6f8fa40e87bf77e6afd3c&quot;,cnonce=&quot;d588ef7f2385b4d0&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;52b868dfaba6f8fa40e87bf77e6afd3c&quot;,cnonce=&quot;d588ef7f2385b4d0&quot;,nc=00000001[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Authentication-Info: nextnonce=&quot;Y/U7/8iYJA4NMTU2NTQ4MjU2MzUzNllvZYHrIgKV8w0+wb+LOmI=&quot;,qop=&quot;auth&quot;,rspauth=&quot;52b868dfaba6f8fa40e87bf77e6afd3c&quot;,cnonce=&quot;d588ef7f2385b4d0&quot;,nc=00000001
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/plain
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 27
19:16:03.563 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.563 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.563 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.563 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:38355
19:16:03.565 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50326&lt;-&gt;127.0.0.1:38355
19:16:03.565 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.567 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.567 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.567 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38355
19:16:03.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.567 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; POST /digest HTTP/1.1
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:38355
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.567 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:38355[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.567 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.568 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.569 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.569 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2c6dab8b for /digest
19:16:03.569 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.569 [XNIO-40 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.569 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 0
19:16:03.570 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:38355 requested authentication
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.570 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.571 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; POST /digest HTTP/1.1
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Content-Length: 30
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Host: localhost:38355
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Connection: Keep-Alive
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.571 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Host: localhost:38355[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.571 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.572 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.572 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.572 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]} response {}}
19:16:03.574 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.574 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@2c6dab8b for /digest
19:16:03.574 [XNIO-40 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:03.574 [XNIO-40 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;, uri=&quot;/digest&quot;, response=&quot;19479cb69c5fd85a0a1c9938f92830bf&quot;, qop=auth, nc=00000001, cnonce=&quot;c9cb3049516b216a&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38355]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.575 [XNIO-40 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36a8ef9849c9f60a8a9d4bf70c00ea4f&quot;,cnonce=&quot;c9cb3049516b216a&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36a8ef9849c9f60a8a9d4bf70c00ea4f&quot;,cnonce=&quot;c9cb3049516b216a&quot;,nc=00000001[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.wire - http-outgoing-37 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; HTTP/1.1 200 OK
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Encoding: gzip
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Connection: keep-alive
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Authentication-Info: nextnonce=&quot;uG4ScMAC6X8NMTU2NTQ4MjU2MzU2OTSfTzbqbIi2FEssqvKYu3M=&quot;,qop=&quot;auth&quot;,rspauth=&quot;36a8ef9849c9f60a8a9d4bf70c00ea4f&quot;,cnonce=&quot;c9cb3049516b216a&quot;,nc=00000001
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Type: text/plain
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Content-Length: 27
19:16:03.576 [Test worker] DEBUG org.apache.http.headers - http-outgoing-37 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.576 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.577 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.577 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for http://localhost:38355
19:16:03.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50326&lt;-&gt;127.0.0.1:38355
19:16:03.578 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.578 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@22cea8d6
19:16:03.579 [XNIO-40 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)
	at ersatz.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)
	at ersatz.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at ersatz.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 29 common frames omitted
19:16:03.581 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@16ae8d7
19:16:03.586 [XNIO-41 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1d0966fe
19:16:03.587 [XNIO-41 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-2', selector sun.nio.ch.EPollSelectorImpl@64c5d0e7
19:16:03.597 [XNIO-41 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-3', selector sun.nio.ch.EPollSelectorImpl@467b80d9
19:16:03.602 [XNIO-41 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-5', selector sun.nio.ch.EPollSelectorImpl@468f4d1f
19:16:03.598 [XNIO-41 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-4', selector sun.nio.ch.EPollSelectorImpl@a93f446
19:16:03.606 [XNIO-41 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-6', selector sun.nio.ch.EPollSelectorImpl@69f9ea90
19:16:03.615 [XNIO-41 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4ca5e320
19:16:03.615 [XNIO-41 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 I/O-8', selector sun.nio.ch.EPollSelectorImpl@20434386
19:16:03.615 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.615 [XNIO-41 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-41 Accept', selector sun.nio.ch.EPollSelectorImpl@45e56416
19:16:03.616 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.618 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.618 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.618 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43495
19:16:03.618 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:43495
19:16:03.618 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:43495
19:16:03.618 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:43495 with timeout 0
19:16:03.619 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:03.619 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:03.619 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:03.657 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:03.658 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:03.658 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:03.658 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.658 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44080&lt;-&gt;127.0.0.1:43495
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.658 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; POST /digest HTTP/1.1
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:43495
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.658 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:43495[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.658 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.659 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.659 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.660 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1dd0eeaa for /digest
19:16:03.660 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.660 [XNIO-41 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
19:16:03.661 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43495 requested authentication
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.661 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.662 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; POST /digest HTTP/1.1
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:43495
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.662 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:43495[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.662 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.667 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.667 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.667 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.669 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.669 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1dd0eeaa for /digest
19:16:03.669 [XNIO-41 task-4] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:03.669 [XNIO-41 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;, uri=&quot;/digest&quot;, response=&quot;2bd5d5b846f3546f5dbb52da74118d94&quot;, qop=auth, nc=00000001, cnonce=&quot;56376eea23bf550b&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.670 [XNIO-41 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fa70786ec737f13a0b8ce528facf8a4a&quot;,cnonce=&quot;56376eea23bf550b&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fa70786ec737f13a0b8ce528facf8a4a&quot;,cnonce=&quot;56376eea23bf550b&quot;,nc=00000001[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.671 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
19:16:03.671 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
19:16:03.671 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.671 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Authentication-Info: nextnonce=&quot;cS4F2Bu9aDcNMTU2NTQ4MjU2MzY2MHGcqyU1ROQA6i0e1meSa/U=&quot;,qop=&quot;auth&quot;,rspauth=&quot;fa70786ec737f13a0b8ce528facf8a4a&quot;,cnonce=&quot;56376eea23bf550b&quot;,nc=00000001
19:16:03.671 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/plain
19:16:03.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 27
19:16:03.672 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.672 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.672 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.672 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:43495
19:16:03.673 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44080&lt;-&gt;127.0.0.1:43495
19:16:03.673 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.674 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.674 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.674 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:43495
19:16:03.674 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.674 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.674 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; POST /digest HTTP/1.1
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:43495
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:43495[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.675 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.683 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.683 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.683 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1dd0eeaa for /digest
19:16:03.684 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.684 [XNIO-41 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 0
19:16:03.685 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:43495 requested authentication
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.685 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.686 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; POST /digest HTTP/1.1
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Content-Length: 30
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Host: localhost:43495
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Connection: Keep-Alive
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.686 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &gt;&gt; Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Host: localhost:43495[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;Authorization: Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.686 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.695 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.695 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.696 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]} response {}}
19:16:03.697 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authenticated as admin, roles [TESTER]
19:16:03.697 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@1dd0eeaa for /digest
19:16:03.697 [XNIO-41 task-6] DEBUG ersatz.undertow.request.security - Authentication result was AUTHENTICATED for /digest
19:16:03.697 [XNIO-41 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /digest (query=[:], headers={Connection=[Keep-Alive], Authorization=[Digest username=&quot;admin&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;, uri=&quot;/digest&quot;, response=&quot;daf42fcde43eb03b41f98b7bf9a51767&quot;, qop=auth, nc=00000001, cnonce=&quot;a95c50ee59088d53&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:43495]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.698 [XNIO-41 task-6] DEBUG com.stehno.ersatz.ErsatzServer - Response({Authentication-Info=[nextnonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;53f055c0ec7a9d5701062a87f2ded3bb&quot;,cnonce=&quot;a95c50ee59088d53&quot;,nc=00000001], Content-Type=[text/plain]}): ok-text
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Authentication-Info: nextnonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;53f055c0ec7a9d5701062a87f2ded3bb&quot;,cnonce=&quot;a95c50ee59088d53&quot;,nc=00000001[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.699 [Test worker] DEBUG org.apache.http.wire - http-outgoing-38 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; HTTP/1.1 200 OK
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Encoding: gzip
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Connection: keep-alive
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Authentication-Info: nextnonce=&quot;uqoo5XVQVpkNMTU2NTQ4MjU2MzY4NOlh0IyUhjpkxyo7LTvmKv0=&quot;,qop=&quot;auth&quot;,rspauth=&quot;53f055c0ec7a9d5701062a87f2ded3bb&quot;,cnonce=&quot;a95c50ee59088d53&quot;,nc=00000001
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Type: text/plain
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Content-Length: 27
19:16:03.700 [Test worker] DEBUG org.apache.http.headers - http-outgoing-38 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication succeeded
19:16:03.700 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Caching 'digest' auth scheme for https://localhost:43495
19:16:03.701 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44080&lt;-&gt;127.0.0.1:43495
19:16:03.701 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.701 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@16ae8d7
19:16:03.710 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2feca71a
19:16:03.712 [XNIO-42 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2407104c
19:16:03.714 [XNIO-42 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-3', selector sun.nio.ch.EPollSelectorImpl@39032b13
19:16:03.715 [XNIO-42 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-2', selector sun.nio.ch.EPollSelectorImpl@72e6ad99
19:16:03.715 [XNIO-42 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3f90f4af
19:16:03.722 [XNIO-42 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3c78070b
19:16:03.726 [XNIO-42 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4891b29a
19:16:03.727 [XNIO-42 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-7', selector sun.nio.ch.EPollSelectorImpl@45f130af
19:16:03.727 [XNIO-42 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3c78a864
19:16:03.728 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.728 [XNIO-42 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-42 Accept', selector sun.nio.ch.EPollSelectorImpl@6ea061ab
19:16:03.729 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.737 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.737 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.737 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45697
19:16:03.737 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45697
19:16:03.737 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45697
19:16:03.738 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44776&lt;-&gt;127.0.0.1:45697
19:16:03.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.738 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; POST /digest HTTP/1.1
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45697
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.738 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45697[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.738 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.740 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.740 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.740 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7ecc99b2 for /digest
19:16:03.740 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.741 [XNIO-42 task-1] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.741 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.741 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.741 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.741 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.741 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.741 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45697 requested authentication
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.742 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.743 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; POST /digest HTTP/1.1
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45697
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.743 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45697[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.743 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7ecc99b2 for /digest
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5/RftFzFc0INMTU2NTQ4MjU2Mzc0MHT8z9ngk3uU7tJNATIFPoQ=&quot;, uri=&quot;/digest&quot;, response=&quot;09b390f3c2df30db43272cf7c6738ad8&quot;, qop=auth, nc=00000001, cnonce=&quot;4a52ce1b64dc0ba4&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.745 [XNIO-42 task-2] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;OjkmVK9l5kINMTU2NTQ4MjU2Mzc0Ncb1MAiF2po3VC5dzuOvs6k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;OjkmVK9l5kINMTU2NTQ4MjU2Mzc0Ncb1MAiF2po3VC5dzuOvs6k=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.746 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45697 requested authentication
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44776&lt;-&gt;127.0.0.1:45697
19:16:03.746 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.748 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.748 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.748 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45697
19:16:03.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.748 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; POST /digest HTTP/1.1
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45697
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.748 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45697[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.748 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.749 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.749 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.749 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7ecc99b2 for /digest
19:16:03.749 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.749 [XNIO-42 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.749 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.750 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.750 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45697 requested authentication
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.750 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.751 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; POST /digest HTTP/1.1
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Content-Length: 30
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Host: localhost:45697
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Connection: Keep-Alive
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.751 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Host: localhost:45697[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.751 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@7ecc99b2 for /digest
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;5nu04P5ffa4NMTU2NTQ4MjU2Mzc0ObcdsLvoX8A9frUTM8Bv/qI=&quot;, uri=&quot;/digest&quot;, response=&quot;7729533a8b331e8db713f2b94c0c0b54&quot;, qop=auth, nc=00000001, cnonce=&quot;f9d19f1103c1161c&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45697]} response {}}
19:16:03.755 [XNIO-42 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;c6rLL6dI308NMTU2NTQ4MjU2Mzc1NXc2t5Fb0rLo4jZjSe5QXKs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-39 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Connection: keep-alive
19:16:03.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;c6rLL6dI308NMTU2NTQ4MjU2Mzc1NXc2t5Fb0rLo4jZjSe5QXKs=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Content-Length: 0
19:16:03.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-39 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:45697 requested authentication
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.756 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44776&lt;-&gt;127.0.0.1:45697
19:16:03.757 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.758 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2feca71a
19:16:03.763 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@371f9e5b
19:16:03.767 [XNIO-43 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-2', selector sun.nio.ch.EPollSelectorImpl@52197546
19:16:03.767 [XNIO-43 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-1', selector sun.nio.ch.EPollSelectorImpl@184fd1f5
19:16:03.768 [XNIO-43 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-5', selector sun.nio.ch.EPollSelectorImpl@360dabc1
19:16:03.768 [XNIO-43 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-6', selector sun.nio.ch.EPollSelectorImpl@51c0637b
19:16:03.768 [XNIO-43 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5f6ee86d
19:16:03.768 [XNIO-43 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-7', selector sun.nio.ch.EPollSelectorImpl@525ddaca
19:16:03.768 [XNIO-43 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-4', selector sun.nio.ch.EPollSelectorImpl@5a66d294
19:16:03.770 [XNIO-43 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 I/O-8', selector sun.nio.ch.EPollSelectorImpl@411d2043
19:16:03.770 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.770 [XNIO-43 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-43 Accept', selector sun.nio.ch.EPollSelectorImpl@cd8d9c0
19:16:03.771 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.774 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.774 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.774 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37577
19:16:03.774 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:37577
19:16:03.774 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37577
19:16:03.774 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:37577 with timeout 0
19:16:03.775 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:03.775 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:03.775 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:03.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:03.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:03.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:03.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.799 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:03.799 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:44836&lt;-&gt;127.0.0.1:37577
19:16:03.800 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.800 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.800 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; POST /digest HTTP/1.1
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37577
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.800 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.800 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.800 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.800 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.800 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37577[\r][\n]&quot;
19:16:03.800 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.802 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.802 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.802 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.802 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.803 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.803 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.803 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@22436e09 for /digest
19:16:03.804 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.804 [XNIO-43 task-3] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.804 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.805 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37577 requested authentication
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.805 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.806 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; POST /digest HTTP/1.1
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37577
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37577[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.807 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.807 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.807 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.807 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.807 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@22436e09 for /digest
19:16:03.808 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;QQTt4X/yBA0NMTU2NTQ4MjU2MzgwNJ+v/umjBb9h7Y8+Lh8V2fw=&quot;, uri=&quot;/digest&quot;, response=&quot;a682e9da63c0a46ee41572f3a5ae7de1&quot;, qop=auth, nc=00000001, cnonce=&quot;44d30565cd2598b0&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.808 [XNIO-43 task-4] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nb/0Ta8YgvwNMTU2NTQ4MjU2MzgwOPWiv/iKigVBg5PvXd1FmmQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nb/0Ta8YgvwNMTU2NTQ4MjU2MzgwOPWiv/iKigVBg5PvXd1FmmQ=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.808 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.808 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.808 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.808 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37577 requested authentication
19:16:03.808 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.809 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.809 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44836&lt;-&gt;127.0.0.1:37577
19:16:03.809 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.810 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.810 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.810 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:37577
19:16:03.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.810 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; POST /digest HTTP/1.1
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37577
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.810 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.811 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37577[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.811 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.811 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.812 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.812 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_ATTEMPTED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@22436e09 for /digest
19:16:03.812 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.812 [XNIO-43 task-5] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.812 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.813 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37577 requested authentication
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Authentication schemes in the order of preference: [Negotiate, Kerberos, NTLM, Digest, Basic]
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Negotiate authentication scheme not available
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Kerberos authentication scheme not available
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for NTLM authentication scheme not available
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.client.TargetAuthenticationStrategy - Challenge for Basic authentication scheme not available
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Selected authentication options: [DIGEST [complete=true, nonce=null, nc=0]]
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /digest HTTP/1.1
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: CHALLENGED
19:16:03.813 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Generating response to an authentication challenge using digest scheme
19:16:03.814 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; POST /digest HTTP/1.1
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Content-Length: 30
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Host: localhost:37577
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Connection: Keep-Alive
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.814 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &gt;&gt; Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;POST /digest HTTP/1.1[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Host: localhost:37577[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;Authorization: Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.814 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.819 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Setting authentication required for exchange HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.819 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Attempting to authenticate /digest, authentication required: true
19:16:03.820 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Found digest header Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot; in HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.820 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication failed with message UT000038: Authentication failed, requested user name 'nobody' and mechanism DIGEST for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.820 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication outcome was NOT_AUTHENTICATED with method ersatz.undertow.security.impl.DigestAuthenticationMechanism@22436e09 for /digest
19:16:03.820 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Sending authentication challenge for HttpServerExchange{ POST /digest request {Connection=[Keep-Alive], Authorization=[Digest username=&quot;nobody&quot;, realm=&quot;DigestTesting&quot;, nonce=&quot;Mfp6CYx6O6ANMTU2NTQ4MjU2MzgxMkmgzry+I/j+0YsibHWgp3E=&quot;, uri=&quot;/digest&quot;, response=&quot;cf76c297cbe0d6e99309d2444abb6a91&quot;, qop=auth, nc=00000001, cnonce=&quot;322152bbed56d4de&quot;, algorithm=MD5, opaque=&quot;00000000000000000000000000000000&quot;], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37577]} response {}}
19:16:03.820 [XNIO-43 task-6] DEBUG ersatz.undertow.request.security - Authentication result was CHALLENGE_SENT for /digest
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;HTTP/1.1 401 Unauthorized[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nG9ZTNqUCV0NMTU2NTQ4MjU2MzgyMNUfFA8AUDP3lXBmQkp+TGM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.wire - http-outgoing-40 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; HTTP/1.1 401 Unauthorized
19:16:03.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Connection: keep-alive
19:16:03.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; WWW-Authenticate: Digest realm=&quot;DigestTesting&quot;,domain=&quot;localhost&quot;,nonce=&quot;nG9ZTNqUCV0NMTU2NTQ4MjU2MzgyMNUfFA8AUDP3lXBmQkp+TGM=&quot;,opaque=&quot;00000000000000000000000000000000&quot;,algorithm=MD5,qop=&quot;auth&quot;
19:16:03.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Content-Length: 0
19:16:03.823 [Test worker] DEBUG org.apache.http.headers - http-outgoing-40 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication required
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - localhost:37577 requested authentication
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authorization challenge processed
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.auth.HttpAuthenticator - Authentication failed
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:44836&lt;-&gt;127.0.0.1:37577
19:16:03.824 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.825 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@371f9e5b
19:16:03.833 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@45766e9c
19:16:03.835 [XNIO-44 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7d45574e
19:16:03.835 [XNIO-44 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-2', selector sun.nio.ch.EPollSelectorImpl@582be6a2
19:16:03.835 [XNIO-44 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1f0284a4
19:16:03.836 [XNIO-44 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3754ef05
19:16:03.836 [XNIO-44 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-5', selector sun.nio.ch.EPollSelectorImpl@689de95e
19:16:03.836 [XNIO-44 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2b40edeb
19:16:03.845 [XNIO-44 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-7', selector sun.nio.ch.EPollSelectorImpl@30c1609c
19:16:03.850 [XNIO-44 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 I/O-8', selector sun.nio.ch.EPollSelectorImpl@6d883997
19:16:03.854 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.854 [XNIO-44 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-44 Accept', selector sun.nio.ch.EPollSelectorImpl@79bafc91
19:16:03.855 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.869 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.869 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.869 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42089
19:16:03.869 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42089
19:16:03.870 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42089
19:16:03.870 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:40726&lt;-&gt;127.0.0.1:42089
19:16:03.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /pass HTTP/1.1
19:16:03.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.870 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; POST /pass HTTP/1.1
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:42089
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.870 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;POST /pass HTTP/1.1[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:42089[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.870 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.879 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42089]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.880 [XNIO-44 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
19:16:03.881 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.881 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.882 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40726&lt;-&gt;127.0.0.1:42089
19:16:03.882 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.883 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.883 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.883 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42089
19:16:03.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /pass HTTP/1.1
19:16:03.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.883 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; POST /pass HTTP/1.1
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Content-Length: 30
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Host: localhost:42089
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Connection: Keep-Alive
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.883 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.883 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;POST /pass HTTP/1.1[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Host: localhost:42089[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.884 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.886 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /pass (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42089]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.887 [XNIO-44 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.wire - http-outgoing-41 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; HTTP/1.1 200 OK
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Encoding: gzip
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Connection: keep-alive
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Type: text/plain
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Content-Length: 27
19:16:03.888 [Test worker] DEBUG org.apache.http.headers - http-outgoing-41 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.888 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.889 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:40726&lt;-&gt;127.0.0.1:42089
19:16:03.889 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.889 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@45766e9c
19:16:03.890 [XNIO-44 task-2] ERROR ersatz.undertow.request - UT005071: Undertow request failed HttpServerExchange{ POST /pass request {Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42089]} response {Content-Encoding=[gzip], Connection=[keep-alive], Content-Type=[text/plain], Content-Length=[27], Date=[Sun, 11 Aug 2019 00:15:58 GMT]}}
java.lang.NullPointerException: null
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:427)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
19:16:03.901 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4dac7428
19:16:03.909 [XNIO-45 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-1', selector sun.nio.ch.EPollSelectorImpl@55eeb986
19:16:03.910 [XNIO-45 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-2', selector sun.nio.ch.EPollSelectorImpl@793e6227
19:16:03.911 [XNIO-45 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-4', selector sun.nio.ch.EPollSelectorImpl@32264f0c
19:16:03.911 [XNIO-45 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-6', selector sun.nio.ch.EPollSelectorImpl@422b2534
19:16:03.910 [XNIO-45 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-3', selector sun.nio.ch.EPollSelectorImpl@3112b54e
19:16:03.911 [XNIO-45 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-5', selector sun.nio.ch.EPollSelectorImpl@5678e339
19:16:03.914 [XNIO-45 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-7', selector sun.nio.ch.EPollSelectorImpl@22fe70b2
19:16:03.914 [XNIO-45 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7d7addb1
19:16:03.914 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:03.915 [XNIO-45 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-45 Accept', selector sun.nio.ch.EPollSelectorImpl@7f197bd0
19:16:03.915 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:03.923 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.924 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46163
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46163
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46163
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:59470&lt;-&gt;127.0.0.1:46163
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.924 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; POST /handling HTTP/1.1
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46163
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.924 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.924 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:03.924 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.924 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46163[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.925 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.929 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46163]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.930 [XNIO-45 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.931 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
19:16:03.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
19:16:03.931 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.931 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59470&lt;-&gt;127.0.0.1:46163
19:16:03.931 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.933 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:03.933 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:03.933 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46163
19:16:03.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:03.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:03.933 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; POST /handling HTTP/1.1
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Content-Length: 30
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Host: localhost:46163
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Connection: Keep-Alive
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:03.933 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:03.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:03.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:03.933 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Host: localhost:46163[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;[\r][\n]&quot;
19:16:03.934 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:03.934 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46163]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:03.936 [XNIO-45 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:03.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:03.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:03.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:03.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:03.936 [Test worker] DEBUG org.apache.http.wire - http-outgoing-42 &lt;&lt; &quot;[\r][\n]&quot;
19:16:03.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:03.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Connection: keep-alive
19:16:03.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Content-Length: 0
19:16:03.936 [Test worker] DEBUG org.apache.http.headers - http-outgoing-42 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:03.936 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:03.937 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:59470&lt;-&gt;127.0.0.1:46163
19:16:03.937 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:03.937 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4dac7428
19:16:03.942 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4b296b0e
19:16:03.992 [XNIO-46 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-1', selector sun.nio.ch.EPollSelectorImpl@5e8cf3a6
19:16:04.004 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.004 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-17: Shutdown connection
19:16:04.004 [XNIO-46 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-2', selector sun.nio.ch.EPollSelectorImpl@629c27e8
19:16:04.004 [XNIO-46 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-3', selector sun.nio.ch.EPollSelectorImpl@178209d6
19:16:04.006 [XNIO-46 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7a4f852c
19:16:04.015 [XNIO-46 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-7', selector sun.nio.ch.EPollSelectorImpl@616bb4ff
19:16:04.015 [XNIO-46 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-8', selector sun.nio.ch.EPollSelectorImpl@4bf3d393
19:16:04.018 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.019 [XNIO-46 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 Accept', selector sun.nio.ch.EPollSelectorImpl@67391a40
19:16:04.019 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.019 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-16: Shutdown connection
19:16:04.022 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.004 [XNIO-46 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6804e010
19:16:04.018 [XNIO-46 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-46 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21e59a55
19:16:04.022 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.023 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-15: Shutdown connection
19:16:04.027 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.027 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-22: Shutdown connection
19:16:04.028 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.028 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-21: Shutdown connection
19:16:04.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46301
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46301
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46301
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52032&lt;-&gt;127.0.0.1:46301
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.034 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; POST /handling HTTP/1.1
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:46301
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:46301[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.037 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.037 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-20: Shutdown connection
19:16:04.038 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46301]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.040 [XNIO-46 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:04.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.040 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.040 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 210 Unknown
19:16:04.040 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
19:16:04.040 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
19:16:04.040 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.040 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.041 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52032&lt;-&gt;127.0.0.1:46301
19:16:04.041 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.042 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.042 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46301
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.042 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.043 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; POST /handling HTTP/1.1
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Content-Length: 30
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Host: localhost:46301
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Connection: Keep-Alive
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.043 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Host: localhost:46301[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.043 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.044 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.044 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-19: Shutdown connection
19:16:04.044 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.044 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-18: Shutdown connection
19:16:04.045 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.045 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-26: Shutdown connection
19:16:04.045 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.045 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-25: Shutdown connection
19:16:04.046 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46301]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.048 [XNIO-46 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:04.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.048 [Test worker] DEBUG org.apache.http.wire - http-outgoing-43 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; HTTP/1.1 210 Unknown
19:16:04.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Connection: keep-alive
19:16:04.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Content-Length: 0
19:16:04.048 [Test worker] DEBUG org.apache.http.headers - http-outgoing-43 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.048 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.049 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52032&lt;-&gt;127.0.0.1:46301
19:16:04.049 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.049 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4b296b0e
19:16:04.053 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6123cbcd
19:16:04.058 [XNIO-47 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-1', selector sun.nio.ch.EPollSelectorImpl@57b10222
19:16:04.061 [XNIO-47 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2ca8f65a
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-24: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-23: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-31: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-30: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-29: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-28: Shutdown connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.067 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-27: Shutdown connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-33: Shutdown connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-32: Shutdown connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.068 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-35: Shutdown connection
19:16:04.069 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.069 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-34: Shutdown connection
19:16:04.069 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.069 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-42: Shutdown connection
19:16:04.070 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.070 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-41: Shutdown connection
19:16:04.070 [XNIO-47 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4e42d910
19:16:04.076 [XNIO-47 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-3', selector sun.nio.ch.EPollSelectorImpl@64d3bd0
19:16:04.079 [XNIO-47 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6552f5f2
19:16:04.080 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.080 [XNIO-47 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2bba9f4e
19:16:04.080 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-40: Shutdown connection
19:16:04.080 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.081 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-39: Shutdown connection
19:16:04.095 [XNIO-47 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-7', selector sun.nio.ch.EPollSelectorImpl@49c1aa32
19:16:04.099 [XNIO-47 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 I/O-8', selector sun.nio.ch.EPollSelectorImpl@64d8b76a
19:16:04.099 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.099 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.100 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-38: Shutdown connection
19:16:04.100 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.100 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-37: Shutdown connection
19:16:04.099 [XNIO-47 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-47 Accept', selector sun.nio.ch.EPollSelectorImpl@6d115190
19:16:04.100 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:04.100 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-36: Shutdown connection
19:16:04.101 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.104 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.104 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.104 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42243
19:16:04.104 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:42243
19:16:04.104 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:42243
19:16:04.104 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37094&lt;-&gt;127.0.0.1:42243
19:16:04.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.105 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; POST /handling HTTP/1.1
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42243
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.105 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42243[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.105 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.111 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42243]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.114 [XNIO-47 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:04.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.114 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 211 Unknown
19:16:04.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
19:16:04.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
19:16:04.114 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.114 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37094&lt;-&gt;127.0.0.1:42243
19:16:04.115 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.116 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.116 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:42243
19:16:04.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.116 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; POST /handling HTTP/1.1
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Content-Length: 30
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Host: localhost:42243
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Connection: Keep-Alive
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.116 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Host: localhost:42243[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.116 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.119 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:42243]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.120 [XNIO-47 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:04.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.121 [Test worker] DEBUG org.apache.http.wire - http-outgoing-44 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; HTTP/1.1 211 Unknown
19:16:04.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Connection: keep-alive
19:16:04.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Content-Length: 0
19:16:04.121 [Test worker] DEBUG org.apache.http.headers - http-outgoing-44 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.121 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37094&lt;-&gt;127.0.0.1:42243
19:16:04.121 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.122 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6123cbcd
19:16:04.130 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4c373cbd
19:16:04.140 [XNIO-48 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-1', selector sun.nio.ch.EPollSelectorImpl@831439
19:16:04.140 [XNIO-48 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-3', selector sun.nio.ch.EPollSelectorImpl@144e1fdf
19:16:04.140 [XNIO-48 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-2', selector sun.nio.ch.EPollSelectorImpl@ec720a6
19:16:04.141 [XNIO-48 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-4', selector sun.nio.ch.EPollSelectorImpl@19f8bd02
19:16:04.142 [XNIO-48 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-5', selector sun.nio.ch.EPollSelectorImpl@28912c4a
19:16:04.142 [XNIO-48 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-6', selector sun.nio.ch.EPollSelectorImpl@94eda1b
19:16:04.146 [XNIO-48 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4c9bdd0c
19:16:04.148 [XNIO-48 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 I/O-8', selector sun.nio.ch.EPollSelectorImpl@725d7ed2
19:16:04.150 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.150 [XNIO-48 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-48 Accept', selector sun.nio.ch.EPollSelectorImpl@3727abf8
19:16:04.151 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.161 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.161 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.161 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37667
19:16:04.161 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37667
19:16:04.161 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37667
19:16:04.162 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:56800&lt;-&gt;127.0.0.1:37667
19:16:04.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.162 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; POST /handling HTTP/1.1
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:37667
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.162 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:37667[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.162 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.166 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37667]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.168 [XNIO-48 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:04.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.169 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:04.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
19:16:04.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
19:16:04.169 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.169 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56800&lt;-&gt;127.0.0.1:37667
19:16:04.169 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.170 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.170 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.170 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37667
19:16:04.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.170 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.171 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; POST /handling HTTP/1.1
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Content-Length: 30
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Host: localhost:37667
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Connection: Keep-Alive
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.171 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Host: localhost:37667[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.171 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.182 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37667]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.189 [XNIO-48 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;HTTP/1.1 205 Reset Content[\r][\n]&quot;
19:16:04.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.189 [Test worker] DEBUG org.apache.http.wire - http-outgoing-45 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; HTTP/1.1 205 Reset Content
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Connection: keep-alive
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Content-Length: 0
19:16:04.190 [Test worker] DEBUG org.apache.http.headers - http-outgoing-45 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.190 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.191 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:56800&lt;-&gt;127.0.0.1:37667
19:16:04.191 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.191 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4c373cbd
19:16:04.201 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@66193d6a
19:16:04.222 [XNIO-49 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-1', selector sun.nio.ch.EPollSelectorImpl@790fa67
19:16:04.229 [XNIO-49 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-3', selector sun.nio.ch.EPollSelectorImpl@e23f542
19:16:04.222 [XNIO-49 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7f49c32e
19:16:04.234 [XNIO-49 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6b5c383b
19:16:04.238 [XNIO-49 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-5', selector sun.nio.ch.EPollSelectorImpl@73f50fc3
19:16:04.242 [XNIO-49 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7f73e7cc
19:16:04.244 [XNIO-49 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-7', selector sun.nio.ch.EPollSelectorImpl@4d3df0cd
19:16:04.245 [XNIO-49 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 I/O-8', selector sun.nio.ch.EPollSelectorImpl@66fff13
19:16:04.246 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.247 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.249 [XNIO-49 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-49 Accept', selector sun.nio.ch.EPollSelectorImpl@27c7647f
19:16:04.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.253 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.253 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36831
19:16:04.253 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:36831
19:16:04.254 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:36831
19:16:04.254 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50640&lt;-&gt;127.0.0.1:36831
19:16:04.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.254 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; POST /handling HTTP/1.1
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:36831
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.254 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:36831[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.254 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.263 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36831]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.265 [XNIO-49 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:04.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.265 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 210 Unknown
19:16:04.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
19:16:04.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
19:16:04.265 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.265 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.265 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50640&lt;-&gt;127.0.0.1:36831
19:16:04.266 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.267 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.267 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.267 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:36831
19:16:04.267 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.267 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.267 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; POST /handling HTTP/1.1
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Content-Length: 30
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Host: localhost:36831
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Connection: Keep-Alive
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.267 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Host: localhost:36831[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.267 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.286 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:36831]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.288 [XNIO-49 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;HTTP/1.1 210 Unknown[\r][\n]&quot;
19:16:04.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.288 [Test worker] DEBUG org.apache.http.wire - http-outgoing-46 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; HTTP/1.1 210 Unknown
19:16:04.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Connection: keep-alive
19:16:04.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Content-Length: 0
19:16:04.288 [Test worker] DEBUG org.apache.http.headers - http-outgoing-46 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.288 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.289 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50640&lt;-&gt;127.0.0.1:36831
19:16:04.289 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.289 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@66193d6a
19:16:04.293 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4c9fb0f5
19:16:04.302 [XNIO-50 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1e874d17
19:16:04.303 [XNIO-50 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-2', selector sun.nio.ch.EPollSelectorImpl@31d99831
19:16:04.303 [XNIO-50 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6fc7f4a0
19:16:04.305 [XNIO-50 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2d70d1c3
19:16:04.309 [XNIO-50 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7207cb6
19:16:04.310 [XNIO-50 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-6', selector sun.nio.ch.EPollSelectorImpl@35bb82f0
19:16:04.311 [XNIO-50 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-7', selector sun.nio.ch.EPollSelectorImpl@7b0cef2c
19:16:04.311 [XNIO-50 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 I/O-8', selector sun.nio.ch.EPollSelectorImpl@3f3e66fe
19:16:04.312 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.312 [XNIO-50 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-50 Accept', selector sun.nio.ch.EPollSelectorImpl@366b848b
19:16:04.313 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.316 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.316 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38363
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38363
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38363
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:57414&lt;-&gt;127.0.0.1:38363
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.316 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; POST /handling HTTP/1.1
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38363
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
19:16:04.316 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.317 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38363[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.317 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.324 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38363]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.325 [XNIO-50 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:04.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.326 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 211 Unknown
19:16:04.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
19:16:04.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
19:16:04.326 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.326 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.327 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57414&lt;-&gt;127.0.0.1:38363
19:16:04.327 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.328 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.328 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.328 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38363
19:16:04.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.328 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; POST /handling HTTP/1.1
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Content-Length: 30
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Host: localhost:38363
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Connection: Keep-Alive
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.328 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Host: localhost:38363[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.328 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.334 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38363]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.336 [XNIO-50 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;HTTP/1.1 211 Unknown[\r][\n]&quot;
19:16:04.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.336 [Test worker] DEBUG org.apache.http.wire - http-outgoing-47 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; HTTP/1.1 211 Unknown
19:16:04.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Connection: keep-alive
19:16:04.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Content-Length: 0
19:16:04.336 [Test worker] DEBUG org.apache.http.headers - http-outgoing-47 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.336 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.336 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:57414&lt;-&gt;127.0.0.1:38363
19:16:04.336 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.337 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4c9fb0f5
19:16:04.343 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@76e5f5d4
19:16:04.347 [XNIO-51 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7fa0e845
19:16:04.348 [XNIO-51 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-2', selector sun.nio.ch.EPollSelectorImpl@50c3c969
19:16:04.350 [XNIO-51 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4675e3a5
19:16:04.354 [XNIO-51 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6d06f681
19:16:04.355 [XNIO-51 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-5', selector sun.nio.ch.EPollSelectorImpl@39b21f66
19:16:04.358 [XNIO-51 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-6', selector sun.nio.ch.EPollSelectorImpl@1880984d
19:16:04.366 [XNIO-51 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-7', selector sun.nio.ch.EPollSelectorImpl@d84d8ae
19:16:04.370 [XNIO-51 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 I/O-8', selector sun.nio.ch.EPollSelectorImpl@59957342
19:16:04.370 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.371 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.375 [XNIO-51 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-51 Accept', selector sun.nio.ch.EPollSelectorImpl@1a5bd50f
19:16:04.379 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.379 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.379 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37063
19:16:04.379 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37063
19:16:04.379 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37063
19:16:04.379 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52262&lt;-&gt;127.0.0.1:37063
19:16:04.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.380 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; POST /handling HTTP/1.1
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37063
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.380 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37063[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.380 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.381 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37063]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.382 [XNIO-51 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.383 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 200 OK
19:16:04.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
19:16:04.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
19:16:04.383 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.383 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52262&lt;-&gt;127.0.0.1:37063
19:16:04.383 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.384 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.384 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.384 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37063
19:16:04.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.384 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; POST /handling HTTP/1.1
19:16:04.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Content-Length: 30
19:16:04.384 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Host: localhost:37063
19:16:04.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Connection: Keep-Alive
19:16:04.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.385 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Host: localhost:37063[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.385 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.386 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37063]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.387 [XNIO-51 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.387 [Test worker] DEBUG org.apache.http.wire - http-outgoing-48 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.387 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; HTTP/1.1 200 OK
19:16:04.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Connection: keep-alive
19:16:04.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Content-Length: 0
19:16:04.388 [Test worker] DEBUG org.apache.http.headers - http-outgoing-48 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.388 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.388 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52262&lt;-&gt;127.0.0.1:37063
19:16:04.388 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.388 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@76e5f5d4
19:16:04.392 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@357083a7
19:16:04.404 [XNIO-52 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1ed73222
19:16:04.405 [XNIO-52 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6c49462a
19:16:04.406 [XNIO-52 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-3', selector sun.nio.ch.EPollSelectorImpl@4cd4281b
19:16:04.407 [XNIO-52 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-4', selector sun.nio.ch.EPollSelectorImpl@66d41cda
19:16:04.411 [XNIO-52 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-5', selector sun.nio.ch.EPollSelectorImpl@2ca6e587
19:16:04.415 [XNIO-52 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-6', selector sun.nio.ch.EPollSelectorImpl@6fbd14f0
19:16:04.423 [XNIO-52 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5e6eb767
19:16:04.430 [XNIO-52 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 I/O-8', selector sun.nio.ch.EPollSelectorImpl@2eb7fafc
19:16:04.434 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.434 [XNIO-52 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-52 Accept', selector sun.nio.ch.EPollSelectorImpl@4c58abab
19:16:04.435 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.437 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.438 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34857
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34857
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34857
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:46324&lt;-&gt;127.0.0.1:34857
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.438 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; POST /handling HTTP/1.1
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:34857
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.438 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:34857[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.438 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.441 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34857]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.449 [XNIO-52 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:04.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.449 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:04.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
19:16:04.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
19:16:04.449 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.450 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.450 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46324&lt;-&gt;127.0.0.1:34857
19:16:04.450 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.451 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.451 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.451 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34857
19:16:04.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.451 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; POST /handling HTTP/1.1
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Content-Length: 30
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Host: localhost:34857
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Connection: Keep-Alive
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.452 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Host: localhost:34857[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.452 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.452 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34857]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.453 [XNIO-52 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:04.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.454 [Test worker] DEBUG org.apache.http.wire - http-outgoing-49 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:04.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Connection: keep-alive
19:16:04.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Content-Length: 0
19:16:04.454 [Test worker] DEBUG org.apache.http.headers - http-outgoing-49 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.454 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:46324&lt;-&gt;127.0.0.1:34857
19:16:04.454 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.455 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@357083a7
19:16:04.458 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@653e82e3
19:16:04.460 [XNIO-52 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
19:16:04.467 [XNIO-53 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-3', selector sun.nio.ch.EPollSelectorImpl@39e930a8
19:16:04.468 [XNIO-53 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-4', selector sun.nio.ch.EPollSelectorImpl@7bd5fff6
19:16:04.468 [XNIO-53 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3b1324d8
19:16:04.470 [XNIO-53 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-1', selector sun.nio.ch.EPollSelectorImpl@4df336d5
19:16:04.471 [XNIO-53 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-6', selector sun.nio.ch.EPollSelectorImpl@2aae5d7b
19:16:04.471 [XNIO-53 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-7', selector sun.nio.ch.EPollSelectorImpl@73ad1425
19:16:04.471 [XNIO-53 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-8', selector sun.nio.ch.EPollSelectorImpl@632ef0ad
19:16:04.475 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.476 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.479 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38701
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:38701
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:38701
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41324&lt;-&gt;127.0.0.1:38701
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.479 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; POST /handling HTTP/1.1
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:38701
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.479 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:38701[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.480 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.485 [XNIO-53 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 Accept', selector sun.nio.ch.EPollSelectorImpl@7c90aacc
19:16:04.467 [XNIO-53 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-53 I/O-2', selector sun.nio.ch.EPollSelectorImpl@70853dbe
19:16:04.487 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38701]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.489 [XNIO-53 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:04.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.489 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:04.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
19:16:04.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
19:16:04.489 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.489 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41324&lt;-&gt;127.0.0.1:38701
19:16:04.489 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.490 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.490 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.490 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:38701
19:16:04.490 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.490 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.490 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; POST /handling HTTP/1.1
19:16:04.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Content-Length: 30
19:16:04.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Host: localhost:38701
19:16:04.490 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Connection: Keep-Alive
19:16:04.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.491 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Host: localhost:38701[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.491 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.503 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:38701]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.504 [XNIO-53 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:04.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.504 [Test worker] DEBUG org.apache.http.wire - http-outgoing-50 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:04.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Connection: keep-alive
19:16:04.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Content-Length: 0
19:16:04.504 [Test worker] DEBUG org.apache.http.headers - http-outgoing-50 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.505 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.505 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41324&lt;-&gt;127.0.0.1:38701
19:16:04.505 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.505 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@653e82e3
19:16:04.509 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@39e2d081
19:16:04.514 [XNIO-54 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-2', selector sun.nio.ch.EPollSelectorImpl@634cfb63
19:16:04.514 [XNIO-54 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6750eac3
19:16:04.519 [XNIO-54 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-4', selector sun.nio.ch.EPollSelectorImpl@2791f5b2
19:16:04.527 [XNIO-54 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7334d002
19:16:04.535 [XNIO-54 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-6', selector sun.nio.ch.EPollSelectorImpl@21e426d0
19:16:04.535 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.536 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.538 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.539 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45723
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45723
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45723
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:60950&lt;-&gt;127.0.0.1:45723
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.539 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; POST /handling HTTP/1.1
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 30
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:45723
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.539 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.539 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:45723[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.540 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.514 [XNIO-54 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-1', selector sun.nio.ch.EPollSelectorImpl@40dd91ef
19:16:04.535 [XNIO-54 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-7', selector sun.nio.ch.EPollSelectorImpl@6b283d3
19:16:04.535 [XNIO-54 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1cd6fdd4
19:16:04.547 [XNIO-54 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-54 Accept', selector sun.nio.ch.EPollSelectorImpl@58819fbb
19:16:04.551 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45723]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.552 [XNIO-54 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.552 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.553 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
19:16:04.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
19:16:04.553 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.553 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60950&lt;-&gt;127.0.0.1:45723
19:16:04.554 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.557 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.557 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.557 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45723
19:16:04.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.558 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; POST /handling HTTP/1.1
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Content-Length: 30
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Host: localhost:45723
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Connection: Keep-Alive
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.558 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Host: localhost:45723[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.558 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.576 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45723]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.579 [XNIO-54 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.581 [Test worker] DEBUG org.apache.http.wire - http-outgoing-51 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.581 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Connection: keep-alive
19:16:04.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Content-Length: 0
19:16:04.591 [Test worker] DEBUG org.apache.http.headers - http-outgoing-51 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.591 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:60950&lt;-&gt;127.0.0.1:45723
19:16:04.592 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.592 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@39e2d081
19:16:04.606 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@1c09825d
19:16:04.614 [XNIO-55 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-1', selector sun.nio.ch.EPollSelectorImpl@70b65119
19:16:04.630 [XNIO-55 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-2', selector sun.nio.ch.EPollSelectorImpl@609fb466
19:16:04.643 [XNIO-55 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-3', selector sun.nio.ch.EPollSelectorImpl@2987410b
19:16:04.652 [XNIO-55 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-4', selector sun.nio.ch.EPollSelectorImpl@6101ee36
19:16:04.653 [XNIO-55 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-5', selector sun.nio.ch.EPollSelectorImpl@3cefe892
19:16:04.653 [XNIO-55 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-6', selector sun.nio.ch.EPollSelectorImpl@794c2098
19:16:04.654 [XNIO-55 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3e4b7974
19:16:04.654 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.655 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.654 [XNIO-55 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 I/O-8', selector sun.nio.ch.EPollSelectorImpl@322e9108
19:16:04.654 [XNIO-55 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-55 Accept', selector sun.nio.ch.EPollSelectorImpl@6f60cfd
19:16:04.672 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.672 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.673 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37761
19:16:04.673 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:37761
19:16:04.673 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:37761
19:16:04.674 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53590&lt;-&gt;127.0.0.1:37761
19:16:04.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.675 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; POST /handling HTTP/1.1
19:16:04.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.675 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 30
19:16:04.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:37761
19:16:04.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
19:16:04.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.676 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.676 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:37761[\r][\n]&quot;
19:16:04.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.677 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.694 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37761]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.696 [XNIO-55 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.696 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
19:16:04.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
19:16:04.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
19:16:04.696 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.696 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.696 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53590&lt;-&gt;127.0.0.1:37761
19:16:04.696 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.697 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.698 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.698 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:37761
19:16:04.698 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.698 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.698 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; POST /handling HTTP/1.1
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Content-Length: 30
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Host: localhost:37761
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Connection: Keep-Alive
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.698 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Host: localhost:37761[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.698 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.705 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:37761]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.707 [XNIO-55 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.708 [Test worker] DEBUG org.apache.http.wire - http-outgoing-52 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; HTTP/1.1 200 OK
19:16:04.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Connection: keep-alive
19:16:04.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Content-Length: 0
19:16:04.708 [Test worker] DEBUG org.apache.http.headers - http-outgoing-52 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.708 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.708 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53590&lt;-&gt;127.0.0.1:37761
19:16:04.708 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.709 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@1c09825d
19:16:04.713 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@663ed887
19:16:04.726 [XNIO-56 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-1', selector sun.nio.ch.EPollSelectorImpl@74874f4a
19:16:04.733 [XNIO-56 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-2', selector sun.nio.ch.EPollSelectorImpl@7c15785c
19:16:04.733 [XNIO-56 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-3', selector sun.nio.ch.EPollSelectorImpl@31497dc
19:16:04.733 [XNIO-56 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-4', selector sun.nio.ch.EPollSelectorImpl@4a404e5c
19:16:04.739 [XNIO-56 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-5', selector sun.nio.ch.EPollSelectorImpl@11fe28d4
19:16:04.751 [XNIO-56 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-6', selector sun.nio.ch.EPollSelectorImpl@39891076
19:16:04.751 [XNIO-56 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21dbf2a0
19:16:04.751 [XNIO-56 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 I/O-8', selector sun.nio.ch.EPollSelectorImpl@33c69e35
19:16:04.752 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.752 [XNIO-56 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-56 Accept', selector sun.nio.ch.EPollSelectorImpl@207baf63
19:16:04.752 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.755 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.755 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40461
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:40461
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40461
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:53710&lt;-&gt;127.0.0.1:40461
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.755 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; POST /handling HTTP/1.1
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 30
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:40461
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.756 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:40461[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.756 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.758 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40461]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.763 [XNIO-56 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:04.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.764 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:04.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
19:16:04.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
19:16:04.765 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.765 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53710&lt;-&gt;127.0.0.1:40461
19:16:04.765 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.766 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.766 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.766 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:40461
19:16:04.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.766 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; POST /handling HTTP/1.1
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Content-Length: 30
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Host: localhost:40461
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Connection: Keep-Alive
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.766 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Host: localhost:40461[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.766 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.769 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40461]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.770 [XNIO-56 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;HTTP/1.1 300 Multiple Choices[\r][\n]&quot;
19:16:04.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.771 [Test worker] DEBUG org.apache.http.wire - http-outgoing-53 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; HTTP/1.1 300 Multiple Choices
19:16:04.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Connection: keep-alive
19:16:04.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Content-Length: 0
19:16:04.771 [Test worker] DEBUG org.apache.http.headers - http-outgoing-53 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.771 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.771 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:53710&lt;-&gt;127.0.0.1:40461
19:16:04.771 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.772 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@663ed887
19:16:04.776 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6c62b40b
19:16:04.779 [XNIO-56 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
19:16:04.783 [XNIO-57 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-1', selector sun.nio.ch.EPollSelectorImpl@31abf6cb
19:16:04.803 [XNIO-57 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-3', selector sun.nio.ch.EPollSelectorImpl@31254ca4
19:16:04.803 [XNIO-57 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-2', selector sun.nio.ch.EPollSelectorImpl@730ba63e
19:16:04.809 [XNIO-57 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-4', selector sun.nio.ch.EPollSelectorImpl@29b837b4
19:16:04.814 [XNIO-57 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-5', selector sun.nio.ch.EPollSelectorImpl@48425a0a
19:16:04.815 [XNIO-57 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-6', selector sun.nio.ch.EPollSelectorImpl@226dac47
19:16:04.816 [XNIO-57 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-7', selector sun.nio.ch.EPollSelectorImpl@5f8c8e29
19:16:04.816 [XNIO-57 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 I/O-8', selector sun.nio.ch.EPollSelectorImpl@20705508
19:16:04.818 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.819 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.821 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.822 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45487
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:45487
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:45487
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:43084&lt;-&gt;127.0.0.1:45487
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.822 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; POST /handling HTTP/1.1
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 30
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:45487
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.822 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:45487[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.822 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.825 [XNIO-57 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-57 Accept', selector sun.nio.ch.EPollSelectorImpl@79873cbc
19:16:04.831 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.832 [XNIO-57 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:04.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.833 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:04.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
19:16:04.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
19:16:04.833 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.833 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.833 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43084&lt;-&gt;127.0.0.1:45487
19:16:04.833 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.838 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.838 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:45487
19:16:04.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.838 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; POST /handling HTTP/1.1
19:16:04.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Content-Length: 30
19:16:04.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Host: localhost:45487
19:16:04.838 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Connection: Keep-Alive
19:16:04.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.839 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Host: localhost:45487[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.839 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.843 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:45487]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.844 [XNIO-57 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;HTTP/1.1 400 Bad Request[\r][\n]&quot;
19:16:04.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.844 [Test worker] DEBUG org.apache.http.wire - http-outgoing-54 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; HTTP/1.1 400 Bad Request
19:16:04.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Connection: keep-alive
19:16:04.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Content-Length: 0
19:16:04.845 [Test worker] DEBUG org.apache.http.headers - http-outgoing-54 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.845 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:43084&lt;-&gt;127.0.0.1:45487
19:16:04.845 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.845 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6c62b40b
19:16:04.849 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@5d01ae3f
19:16:04.852 [XNIO-57 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:242)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.flush(HttpResponseConduit.java:739)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.flush(AbstractFixedLengthStreamSinkConduit.java:229)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 22 common frames omitted
19:16:04.861 [XNIO-58 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-1', selector sun.nio.ch.EPollSelectorImpl@382ac433
19:16:04.862 [XNIO-58 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-2', selector sun.nio.ch.EPollSelectorImpl@283986fe
19:16:04.864 [XNIO-58 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-3', selector sun.nio.ch.EPollSelectorImpl@df82d47
19:16:04.865 [XNIO-58 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-4', selector sun.nio.ch.EPollSelectorImpl@514d2c8c
19:16:04.865 [XNIO-58 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1e87b268
19:16:04.866 [XNIO-58 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4c0c8b6
19:16:04.870 [XNIO-58 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-7', selector sun.nio.ch.EPollSelectorImpl@712eb38b
19:16:04.883 [XNIO-58 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5f799966
19:16:04.884 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.884 [XNIO-58 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-58 Accept', selector sun.nio.ch.EPollSelectorImpl@662d98e6
19:16:04.884 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.886 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.886 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.886 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39725
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39725
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39725
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:41020&lt;-&gt;127.0.0.1:39725
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.887 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; POST /handling HTTP/1.1
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 30
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:39725
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.887 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:39725[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.887 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.889 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.893 [XNIO-58 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.895 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
19:16:04.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
19:16:04.895 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.895 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.895 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41020&lt;-&gt;127.0.0.1:39725
19:16:04.895 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.896 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.896 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.896 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39725
19:16:04.896 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /handling HTTP/1.1
19:16:04.896 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.896 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; POST /handling HTTP/1.1
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Content-Length: 30
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Host: localhost:39725
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Connection: Keep-Alive
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.897 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;POST /handling HTTP/1.1[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Host: localhost:39725[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.897 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.898 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /handling (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39725]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.900 [XNIO-58 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({}): &lt;empty&gt;
19:16:04.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;HTTP/1.1 500 Internal Server Error[\r][\n]&quot;
19:16:04.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Content-Length: 0[\r][\n]&quot;
19:16:04.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.900 [Test worker] DEBUG org.apache.http.wire - http-outgoing-55 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; HTTP/1.1 500 Internal Server Error
19:16:04.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Connection: keep-alive
19:16:04.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Content-Length: 0
19:16:04.900 [Test worker] DEBUG org.apache.http.headers - http-outgoing-55 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.900 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:04.900 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:41020&lt;-&gt;127.0.0.1:39725
19:16:04.900 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:04.901 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@5d01ae3f
19:16:04.912 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@39f4de12
19:16:04.934 [XNIO-59 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-1', selector sun.nio.ch.EPollSelectorImpl@2888d301
19:16:04.947 [XNIO-59 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-2', selector sun.nio.ch.EPollSelectorImpl@6b0cf90
19:16:04.947 [XNIO-59 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-3', selector sun.nio.ch.EPollSelectorImpl@43afc7eb
19:16:04.948 [XNIO-59 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1fe80d50
19:16:04.952 [XNIO-59 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-5', selector sun.nio.ch.EPollSelectorImpl@56395709
19:16:04.952 [XNIO-59 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-6', selector sun.nio.ch.EPollSelectorImpl@65fe835a
19:16:04.953 [XNIO-59 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-7', selector sun.nio.ch.EPollSelectorImpl@33b5a67a
19:16:04.953 [XNIO-59 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7a27cae9
19:16:04.953 [XNIO-59 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-59 Accept', selector sun.nio.ch.EPollSelectorImpl@7840a6cf
19:16:04.953 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:04.954 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:04.960 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:04.960 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34471
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34471
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34471
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:37586&lt;-&gt;127.0.0.1:34471
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /gzip HTTP/1.1
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:04.960 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; POST /gzip HTTP/1.1
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 30
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:34471
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
19:16:04.960 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;POST /gzip HTTP/1.1[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:34471[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:04.961 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:04.990 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34471]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:04.992 [XNIO-59 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 29
19:16:04.992 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:04.993 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37586&lt;-&gt;127.0.0.1:34471
19:16:05.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.002 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.002 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.002 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34471
19:16:05.002 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /gzip HTTP/1.1
19:16:05.002 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.002 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; POST /gzip HTTP/1.1
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Accept-Encoding: gzip
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Content-Length: 30
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Host: localhost:34471
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; Connection: Keep-Alive
19:16:05.002 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;POST /gzip HTTP/1.1[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Accept-Encoding: gzip[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Content-Length: 30[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Host: localhost:34471[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.002 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &gt;&gt; &quot;{&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42}&quot;
19:16:05.006 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /gzip (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip], Content-Type=[application/json; charset=utf-8], Content-Length=[30], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34471]}, cookies=[:]): {&quot;alpha&quot;:&quot;bravo&quot;,&quot;charlie&quot;:42} }
19:16:05.008 [XNIO-59 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Content-Length: 29[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.wire - http-outgoing-56 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xab][0xa8][0x18][0x5][0xa3]`[0x14][0xc]w[0x0][0x0][0xe6][0xc9]A;[0xe8][0x3][0x0][0x0]&quot;
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; HTTP/1.1 200 OK
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Encoding: gzip
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Connection: keep-alive
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Type: text/plain
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Content-Length: 29
19:16:05.008 [Test worker] DEBUG org.apache.http.headers - http-outgoing-56 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.009 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:37586&lt;-&gt;127.0.0.1:34471
19:16:05.009 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.009 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@39f4de12
19:16:05.015 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@770247d
19:16:05.017 [XNIO-60 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-1', selector sun.nio.ch.EPollSelectorImpl@11bc7c3d
19:16:05.018 [XNIO-60 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-2', selector sun.nio.ch.EPollSelectorImpl@57f8cf6f
19:16:05.022 [XNIO-60 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5b6ba6be
19:16:05.022 [XNIO-60 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-4', selector sun.nio.ch.EPollSelectorImpl@53ae5cfc
19:16:05.023 [XNIO-60 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6ac0d566
19:16:05.026 [XNIO-60 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-6', selector sun.nio.ch.EPollSelectorImpl@4b3d8c89
19:16:05.028 [XNIO-60 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21f36cd2
19:16:05.029 [XNIO-60 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 I/O-8', selector sun.nio.ch.EPollSelectorImpl@357126b3
19:16:05.029 [XNIO-60 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-60 Accept', selector sun.nio.ch.EPollSelectorImpl@a3217af
19:16:05.029 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.030 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.034 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.035 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39157
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:39157
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:39157
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:52564&lt;-&gt;127.0.0.1:39157
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.035 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; POST /types HTTP/1.1
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 19
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:39157
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.035 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:39157[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.035 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
19:16:05.051 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39157]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
19:16:05.052 [XNIO-60 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
19:16:05.053 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.053 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.054 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52564&lt;-&gt;127.0.0.1:39157
19:16:05.054 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.054 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.054 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:39157
19:16:05.054 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.055 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.055 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; POST /types HTTP/1.1
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Type: application/json; charset=utf-8
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Content-Length: 19
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Host: localhost:39157
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Connection: Keep-Alive
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.055 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Type: application/json; charset=utf-8[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Content-Length: 19[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Host: localhost:39157[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.055 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &gt;&gt; &quot;{&quot;value&quot;:&quot;ok-json&quot;}&quot;
19:16:05.062 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/json; charset=utf-8], Content-Length=[19], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:39157]}, cookies=[:]): {&quot;value&quot;:&quot;ok-json&quot;} }
19:16:05.064 [XNIO-60 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.064 [Test worker] DEBUG org.apache.http.wire - http-outgoing-57 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; HTTP/1.1 200 OK
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Encoding: gzip
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Connection: keep-alive
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Type: text/plain
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Content-Length: 27
19:16:05.065 [Test worker] DEBUG org.apache.http.headers - http-outgoing-57 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.065 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:52564&lt;-&gt;127.0.0.1:39157
19:16:05.065 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.066 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@770247d
19:16:05.067 [XNIO-60 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:05.071 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@178b59f2
19:16:05.073 [XNIO-61 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-1', selector sun.nio.ch.EPollSelectorImpl@1a4dda9d
19:16:05.076 [XNIO-61 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-6', selector sun.nio.ch.EPollSelectorImpl@76272d53
19:16:05.076 [XNIO-61 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-4', selector sun.nio.ch.EPollSelectorImpl@3aa961a1
19:16:05.080 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.080 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.076 [XNIO-61 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-5', selector sun.nio.ch.EPollSelectorImpl@18279409
19:16:05.076 [XNIO-61 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-7', selector sun.nio.ch.EPollSelectorImpl@69c4f89
19:16:05.076 [XNIO-61 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-2', selector sun.nio.ch.EPollSelectorImpl@79f937c4
19:16:05.076 [XNIO-61 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-3', selector sun.nio.ch.EPollSelectorImpl@c9c0ff4
19:16:05.082 [XNIO-61 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 I/O-8', selector sun.nio.ch.EPollSelectorImpl@32fc56a0
19:16:05.083 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.083 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46601
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46601
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46601
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:39452&lt;-&gt;127.0.0.1:46601
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.083 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; POST /types HTTP/1.1
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/xml; charset=utf-8
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 46
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:46601
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.083 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:46601[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.083 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
19:16:05.084 [XNIO-61 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-61 Accept', selector sun.nio.ch.EPollSelectorImpl@5ee90fce
19:16:05.084 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46601]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
19:16:05.085 [XNIO-61 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
19:16:05.086 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.086 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39452&lt;-&gt;127.0.0.1:46601
19:16:05.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.087 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.087 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46601
19:16:05.088 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.088 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.088 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; POST /types HTTP/1.1
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Type: application/xml; charset=utf-8
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Content-Length: 46
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Host: localhost:46601
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Connection: Keep-Alive
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.088 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Type: application/xml; charset=utf-8[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Content-Length: 46[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Host: localhost:46601[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.088 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &gt;&gt; &quot;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt;&quot;
19:16:05.098 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/xml; charset=utf-8], Content-Length=[46], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46601]}, cookies=[:]): &lt;?xml version=&quot;1.0&quot;?&gt;&lt;message value=&quot;ok-xml&quot;/&gt; }
19:16:05.099 [XNIO-61 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.099 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.wire - http-outgoing-58 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; HTTP/1.1 200 OK
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Encoding: gzip
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Connection: keep-alive
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Type: text/plain
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Content-Length: 27
19:16:05.100 [Test worker] DEBUG org.apache.http.headers - http-outgoing-58 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.100 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:39452&lt;-&gt;127.0.0.1:46601
19:16:05.101 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.101 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@178b59f2
19:16:05.104 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@6fa642cc
19:16:05.106 [XNIO-62 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-1', selector sun.nio.ch.EPollSelectorImpl@7f515e43
19:16:05.110 [XNIO-62 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-2', selector sun.nio.ch.EPollSelectorImpl@2c2c8adb
19:16:05.121 [XNIO-62 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-4', selector sun.nio.ch.EPollSelectorImpl@22191bbc
19:16:05.133 [XNIO-62 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-5', selector sun.nio.ch.EPollSelectorImpl@1b98efec
19:16:05.121 [XNIO-62 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6db962a3
19:16:05.134 [XNIO-62 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-6', selector sun.nio.ch.EPollSelectorImpl@534dc04a
19:16:05.137 [XNIO-62 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-7', selector sun.nio.ch.EPollSelectorImpl@efed5d4
19:16:05.138 [XNIO-62 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 I/O-8', selector sun.nio.ch.EPollSelectorImpl@48600253
19:16:05.141 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.142 [XNIO-62 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-62 Accept', selector sun.nio.ch.EPollSelectorImpl@3de4848c
19:16:05.142 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.145 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.145 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.145 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34289
19:16:05.145 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:34289
19:16:05.145 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:34289
19:16:05.146 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:54428&lt;-&gt;127.0.0.1:34289
19:16:05.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.146 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; POST /types HTTP/1.1
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: text/html; charset=utf-8
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 7
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:34289
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.146 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:34289[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.146 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;ok-html&quot;
19:16:05.152 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34289]}, cookies=[:]): ok-html }
19:16:05.153 [XNIO-62 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
19:16:05.154 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.154 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.155 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54428&lt;-&gt;127.0.0.1:34289
19:16:05.155 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.156 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.156 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.156 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:34289
19:16:05.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /types HTTP/1.1
19:16:05.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.156 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; POST /types HTTP/1.1
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Type: text/html; charset=utf-8
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Content-Length: 7
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Host: localhost:34289
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Connection: Keep-Alive
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.156 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;POST /types HTTP/1.1[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Type: text/html; charset=utf-8[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Content-Length: 7[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Host: localhost:34289[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.156 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &gt;&gt; &quot;ok-html&quot;
19:16:05.158 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /types (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[text/html; charset=utf-8], Content-Length=[7], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:34289]}, cookies=[:]): ok-html }
19:16:05.160 [XNIO-62 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.wire - http-outgoing-59 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; HTTP/1.1 200 OK
19:16:05.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Encoding: gzip
19:16:05.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Connection: keep-alive
19:16:05.160 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Type: text/plain
19:16:05.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Content-Length: 27
19:16:05.161 [Test worker] DEBUG org.apache.http.headers - http-outgoing-59 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.161 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.161 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:54428&lt;-&gt;127.0.0.1:34289
19:16:05.161 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.161 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@6fa642cc
19:16:05.167 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@2635b92b
19:16:05.169 [XNIO-63 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-1', selector sun.nio.ch.EPollSelectorImpl@52ec35f2
19:16:05.169 [XNIO-63 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-2', selector sun.nio.ch.EPollSelectorImpl@692c907b
19:16:05.174 [XNIO-63 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-3', selector sun.nio.ch.EPollSelectorImpl@33cd6939
19:16:05.174 [XNIO-63 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-4', selector sun.nio.ch.EPollSelectorImpl@63fdeb89
19:16:05.175 [XNIO-63 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-5', selector sun.nio.ch.EPollSelectorImpl@6bc7026d
19:16:05.175 [XNIO-63 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-6', selector sun.nio.ch.EPollSelectorImpl@7e9617b3
19:16:05.177 [XNIO-63 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3cce3fc
19:16:05.186 [XNIO-63 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 I/O-8', selector sun.nio.ch.EPollSelectorImpl@d9833eb
19:16:05.190 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.190 [XNIO-63 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-63 Accept', selector sun.nio.ch.EPollSelectorImpl@367d40b5
19:16:05.191 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.204 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.204 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.204 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44997
19:16:05.204 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:44997
19:16:05.204 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:44997
19:16:05.205 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:50616&lt;-&gt;127.0.0.1:44997
19:16:05.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
19:16:05.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.205 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; POST /form HTTP/1.1
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 34
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:44997
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.205 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:44997[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.205 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:05.205 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44997]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:05.221 [XNIO-63 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
19:16:05.222 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.222 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50616&lt;-&gt;127.0.0.1:44997
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.223 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:44997
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.223 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; POST /form HTTP/1.1
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Content-Length: 34
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Host: localhost:44997
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Connection: Keep-Alive
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.223 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Host: localhost:44997[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.224 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:05.224 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:44997]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:05.226 [XNIO-63 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.wire - http-outgoing-60 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; HTTP/1.1 200 OK
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Encoding: gzip
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Connection: keep-alive
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Type: text/plain
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Content-Length: 27
19:16:05.226 [Test worker] DEBUG org.apache.http.headers - http-outgoing-60 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.227 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.227 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:50616&lt;-&gt;127.0.0.1:44997
19:16:05.227 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.227 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@2635b92b
19:16:05.229 [XNIO-63 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:05.234 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@4f63b8d9
19:16:05.238 [XNIO-64 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-1', selector sun.nio.ch.EPollSelectorImpl@386126d4
19:16:05.242 [XNIO-64 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-2', selector sun.nio.ch.EPollSelectorImpl@117135af
19:16:05.242 [XNIO-64 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-4', selector sun.nio.ch.EPollSelectorImpl@43e44536
19:16:05.243 [XNIO-64 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-5', selector sun.nio.ch.EPollSelectorImpl@fcf745e
19:16:05.243 [XNIO-64 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5112a893
19:16:05.243 [XNIO-64 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-6', selector sun.nio.ch.EPollSelectorImpl@129ed5ce
19:16:05.244 [XNIO-64 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-7', selector sun.nio.ch.EPollSelectorImpl@524d7d1f
19:16:05.244 [XNIO-64 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 I/O-8', selector sun.nio.ch.EPollSelectorImpl@1551be0
19:16:05.247 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.247 [XNIO-64 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-64 Accept', selector sun.nio.ch.EPollSelectorImpl@405265f3
19:16:05.248 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.250 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.250 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.250 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:32881
19:16:05.251 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:32881
19:16:05.251 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:32881
19:16:05.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:32881 with timeout 0
19:16:05.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:05.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:05.251 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:05.317 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:05.318 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:05.318 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:05.318 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.318 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.318 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:47000&lt;-&gt;127.0.0.1:32881
19:16:05.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
19:16:05.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.318 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; POST /form HTTP/1.1
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 34
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:32881
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.318 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:32881[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.318 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:05.334 [XNIO-64 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32881]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:05.336 [XNIO-64 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
19:16:05.337 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.337 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.338 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47000&lt;-&gt;127.0.0.1:32881
19:16:05.338 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.339 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.339 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.339 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:32881
19:16:05.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /form HTTP/1.1
19:16:05.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.339 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; POST /form HTTP/1.1
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Type: application/x-www-form-urlencoded; charset=utf-8
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Content-Length: 34
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Host: localhost:32881
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Connection: Keep-Alive
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.339 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;POST /form HTTP/1.1[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Type: application/x-www-form-urlencoded; charset=utf-8[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Content-Length: 34[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Host: localhost:32881[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.340 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &gt;&gt; &quot;username=bobvila&amp;password=oldhouse&quot;
19:16:05.362 [XNIO-64 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /form (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[application/x-www-form-urlencoded; charset=utf-8], Content-Length=[34], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:32881]}, cookies=[:]): username=bobvila&amp;password=oldhouse }
19:16:05.364 [XNIO-64 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.wire - http-outgoing-61 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.365 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; HTTP/1.1 200 OK
19:16:05.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Encoding: gzip
19:16:05.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Connection: keep-alive
19:16:05.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Type: text/plain
19:16:05.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Content-Length: 27
19:16:05.366 [Test worker] DEBUG org.apache.http.headers - http-outgoing-61 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.366 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.366 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:47000&lt;-&gt;127.0.0.1:32881
19:16:05.366 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.366 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@4f63b8d9
19:16:05.388 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@f01f166
19:16:05.389 [XNIO-64 task-4] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:170)
	at ersatz.undertow.protocols.ssl.SslConduit.doWrap(SslConduit.java:892)
	at ersatz.undertow.protocols.ssl.SslConduit.write(SslConduit.java:379)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:478)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:164)
		... 27 common frames omitted
19:16:05.392 [XNIO-65 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-1', selector sun.nio.ch.EPollSelectorImpl@462dda84
19:16:05.395 [XNIO-65 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-2', selector sun.nio.ch.EPollSelectorImpl@418df04
19:16:05.397 [XNIO-65 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-3', selector sun.nio.ch.EPollSelectorImpl@6b144325
19:16:05.399 [XNIO-65 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-4', selector sun.nio.ch.EPollSelectorImpl@19fcc188
19:16:05.402 [XNIO-65 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-5', selector sun.nio.ch.EPollSelectorImpl@c2f2c4c
19:16:05.411 [XNIO-65 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-6', selector sun.nio.ch.EPollSelectorImpl@10cc0bc7
19:16:05.414 [XNIO-65 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-7', selector sun.nio.ch.EPollSelectorImpl@21cf90c4
19:16:05.419 [XNIO-65 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 I/O-8', selector sun.nio.ch.EPollSelectorImpl@515e1876
19:16:05.421 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.421 [XNIO-65 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-65 Accept', selector sun.nio.ch.EPollSelectorImpl@3cc385d
19:16:05.422 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.468 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.468 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.468 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46087
19:16:05.468 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:46087
19:16:05.469 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46087
19:16:05.469 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:38526&lt;-&gt;127.0.0.1:46087
19:16:05.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.469 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; POST /upload HTTP/1.1
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Type: multipart/form-data; boundary=arEKesa23p; charset=utf-8
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Length: 336
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:46087
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.469 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=arEKesa23p; charset=utf-8[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:46087[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--arEKesa23p[\r][\n]&quot;
19:16:05.469 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--arEKesa23p[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.470 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--arEKesa23p--[\r][\n]&quot;
19:16:05.470 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=arEKesa23p; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46087]}, cookies=[:]): --arEKesa23p
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--arEKesa23p
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--arEKesa23p--
 }
19:16:05.598 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.598 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-51: Shutdown connection
19:16:05.598 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.599 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-61: Shutdown connection
19:16:05.605 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.605 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-59: Shutdown connection
19:16:05.605 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.605 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-60: Shutdown connection
19:16:05.613 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.613 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-56: Shutdown connection
19:16:05.614 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.614 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-57: Shutdown connection
19:16:05.614 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.615 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-58: Shutdown connection
19:16:05.615 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.615 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-53: Shutdown connection
19:16:05.616 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.616 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-54: Shutdown connection
19:16:05.616 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.616 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-55: Shutdown connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-43: Shutdown connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-44: Shutdown connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.617 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-45: Shutdown connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-46: Shutdown connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-49: Shutdown connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.618 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-50: Shutdown connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-52: Shutdown connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-47: Shutdown connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-48: Shutdown connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Shutting down connection
19:16:05.619 [Finalizer] DEBUG org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-0: Shutdown connection
19:16:05.679 [XNIO-65 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 200 OK
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
19:16:05.680 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.680 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.681 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38526&lt;-&gt;127.0.0.1:46087
19:16:05.681 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.682 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.682 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:46087
19:16:05.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.682 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; POST /upload HTTP/1.1
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Type: multipart/form-data; boundary=30cbdB3nUC; charset=utf-8
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Content-Length: 336
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Host: localhost:46087
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Connection: Keep-Alive
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.682 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=30cbdB3nUC; charset=utf-8[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Host: localhost:46087[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--30cbdB3nUC[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--30cbdB3nUC[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.682 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &gt;&gt; &quot;--30cbdB3nUC--[\r][\n]&quot;
19:16:05.685 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=30cbdB3nUC; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46087]}, cookies=[:]): --30cbdB3nUC
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--30cbdB3nUC
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--30cbdB3nUC--
 }
19:16:05.687 [XNIO-65 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.wire - http-outgoing-62 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; HTTP/1.1 200 OK
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Encoding: gzip
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Connection: keep-alive
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Type: text/plain
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Content-Length: 27
19:16:05.688 [Test worker] DEBUG org.apache.http.headers - http-outgoing-62 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.688 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.689 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:38526&lt;-&gt;127.0.0.1:46087
19:16:05.689 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.689 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@f01f166
19:16:05.693 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@3335085
19:16:05.695 [XNIO-65 task-2] DEBUG ersatz.undertow.request.io - UT005013: An IOException occurred
java.nio.channels.ClosedChannelException: null
	at sun.nio.ch.SocketChannelImpl.shutdownOutput(SocketChannelImpl.java:797)
	at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:190)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.processWrite(HttpResponseConduit.java:250)
	at ersatz.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:596)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:106)
	at ersatz.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:120)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.performFlushIfRequired(DeflatingStreamSinkConduit.java:419)
	at ersatz.undertow.conduits.DeflatingStreamSinkConduit.flush(DeflatingStreamSinkConduit.java:349)
	at ersatz.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162)
	at ersatz.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)
	at ersatz.xnio.channels.Channels.flushBlocking(Channels.java:63)
	at ersatz.undertow.io.UndertowOutputStream.close(UndertowOutputStream.java:344)
	at ersatz.undertow.io.BlockingSenderImpl.close(BlockingSenderImpl.java:170)
	at ersatz.undertow.io.DefaultIoCallback.onComplete(DefaultIoCallback.java:54)
	at ersatz.undertow.io.BlockingSenderImpl.invokeOnComplete(BlockingSenderImpl.java:227)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:95)
	at ersatz.undertow.io.BlockingSenderImpl.send(BlockingSenderImpl.java:117)
	at com.stehno.ersatz.ErsatzServer.send(ErsatzServer.groovy:494)
	at com.stehno.ersatz.ErsatzServer.access$0(ErsatzServer.groovy)
	at com.stehno.ersatz.ErsatzServer$1.handleRequest(ErsatzServer.groovy:370)
	at ersatz.undertow.server.handlers.HttpTraceHandler.handleRequest(HttpTraceHandler.java:70)
	at ersatz.undertow.server.handlers.encoding.EncodingHandler.handleRequest(EncodingHandler.java:72)
	at ersatz.undertow.server.Connectors.executeRootHandler(Connectors.java:332)
	at ersatz.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:812)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.nio.channels.ClosedByInterruptException: null
		at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
		at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:511)
		at ersatz.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:184)
		... 25 common frames omitted
19:16:05.705 [XNIO-66 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-2', selector sun.nio.ch.EPollSelectorImpl@65e57dce
19:16:05.710 [XNIO-66 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-3', selector sun.nio.ch.EPollSelectorImpl@5c45f32d
19:16:05.711 [XNIO-66 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-4', selector sun.nio.ch.EPollSelectorImpl@1683ff18
19:16:05.711 [XNIO-66 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-5', selector sun.nio.ch.EPollSelectorImpl@21673f53
19:16:05.712 [XNIO-66 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-6', selector sun.nio.ch.EPollSelectorImpl@d26e527
19:16:05.710 [XNIO-66 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-1', selector sun.nio.ch.EPollSelectorImpl@6e97828d
19:16:05.714 [XNIO-66 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-7', selector sun.nio.ch.EPollSelectorImpl@c8d8d5f
19:16:05.719 [XNIO-66 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 I/O-8', selector sun.nio.ch.EPollSelectorImpl@7c29dc82
19:16:05.719 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.719 [XNIO-66 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-66 Accept', selector sun.nio.ch.EPollSelectorImpl@36db63f4
19:16:05.720 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.723 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.724 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.724 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46819
19:16:05.725 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:46819
19:16:05.725 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:46819
19:16:05.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:46819 with timeout 0
19:16:05.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:05.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:05.725 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:05.772 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:05.773 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:05.773 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:05.773 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.773 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:05.773 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:58534&lt;-&gt;127.0.0.1:46819
19:16:05.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.773 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; POST /upload HTTP/1.1
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Type: multipart/form-data; boundary=OeiLnH3wJ1; charset=utf-8
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Length: 336
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:46819
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.773 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=OeiLnH3wJ1; charset=utf-8[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:46819[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--OeiLnH3wJ1[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--OeiLnH3wJ1[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.773 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--OeiLnH3wJ1--[\r][\n]&quot;
19:16:05.777 [XNIO-66 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=OeiLnH3wJ1; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46819]}, cookies=[:]): --OeiLnH3wJ1
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--OeiLnH3wJ1
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--OeiLnH3wJ1--
 }
19:16:05.781 [XNIO-66 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 200 OK
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
19:16:05.782 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.782 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58534&lt;-&gt;127.0.0.1:46819
19:16:05.782 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.784 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.784 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.784 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:46819
19:16:05.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.784 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; POST /upload HTTP/1.1
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Type: multipart/form-data; boundary=0gNzPrMjlJ; charset=utf-8
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Content-Length: 336
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Host: localhost:46819
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Connection: Keep-Alive
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.784 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: multipart/form-data; boundary=0gNzPrMjlJ; charset=utf-8[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Length: 336[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Host: localhost:46819[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--0gNzPrMjlJ[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: text/plain; charset=ISO-8859-1[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Transfer-Encoding: 8bit[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--0gNzPrMjlJ[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;Content-Transfer-Encoding: binary[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.784 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &gt;&gt; &quot;--0gNzPrMjlJ--[\r][\n]&quot;
19:16:05.798 [XNIO-66 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/form-data; boundary=0gNzPrMjlJ; charset=utf-8], Content-Length=[336], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:46819]}, cookies=[:]): --0gNzPrMjlJ
Content-Disposition: form-data; name=&quot;alpha&quot;
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

some data
--0gNzPrMjlJ
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;
Content-Type: text/plain
Content-Transfer-Encoding: binary

This is bravo content
--0gNzPrMjlJ--
 }
19:16:05.805 [XNIO-66 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.805 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.wire - http-outgoing-63 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; HTTP/1.1 200 OK
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Encoding: gzip
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Connection: keep-alive
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Type: text/plain
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Content-Length: 27
19:16:05.806 [Test worker] DEBUG org.apache.http.headers - http-outgoing-63 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.806 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.806 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:58534&lt;-&gt;127.0.0.1:46819
19:16:05.806 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.807 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@3335085
19:16:05.816 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@32b1fe9c
19:16:05.818 [XNIO-67 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-1', selector sun.nio.ch.EPollSelectorImpl@708ccc20
19:16:05.820 [XNIO-67 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-2', selector sun.nio.ch.EPollSelectorImpl@16149269
19:16:05.822 [XNIO-67 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-3', selector sun.nio.ch.EPollSelectorImpl@69e82e13
19:16:05.825 [XNIO-67 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-4', selector sun.nio.ch.EPollSelectorImpl@26e894b1
19:16:05.826 [XNIO-67 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-5', selector sun.nio.ch.EPollSelectorImpl@7f5a7651
19:16:05.830 [XNIO-67 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-6', selector sun.nio.ch.EPollSelectorImpl@59c92f61
19:16:05.846 [XNIO-67 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-7', selector sun.nio.ch.EPollSelectorImpl@183ea0e0
19:16:05.858 [XNIO-67 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 I/O-8', selector sun.nio.ch.EPollSelectorImpl@5ece9ccb
19:16:05.862 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.862 [XNIO-67 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-67 Accept', selector sun.nio.ch.EPollSelectorImpl@39d58e30
19:16:05.863 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:05.970 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.971 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33719
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {}-&gt;http://localhost:33719
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:33719
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:42608&lt;-&gt;127.0.0.1:33719
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.971 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; POST /upload HTTP/1.1
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_0_1348605340.1565482565891&quot;; charset=utf-8
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Length: 329
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:33719
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.971 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_0_1348605340.1565482565891&quot;; charset=utf-8[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Length: 329[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:33719[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_0_1348605340.1565482565891[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_0_1348605340.1565482565891[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.971 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.972 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_0_1348605340.1565482565891--[\r][\n]&quot;
19:16:05.975 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_0_1348605340.1565482565891&quot;; charset=utf-8], Content-Length=[329], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33719]}, cookies=[:]): ------=_Part_0_1348605340.1565482565891
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_0_1348605340.1565482565891
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_0_1348605340.1565482565891--
 }
19:16:05.978 [XNIO-67 task-1] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.978 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.979 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 27
19:16:05.979 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.979 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.979 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42608&lt;-&gt;127.0.0.1:33719
19:16:05.979 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:05.981 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:05.981 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {}-&gt;http://localhost:33719
19:16:05.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:05.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:05.981 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; POST /upload HTTP/1.1
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_1_793403800.1565482565980&quot;; charset=utf-8
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Content-Length: 326
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Host: localhost:33719
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Connection: Keep-Alive
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:05.981 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_1_793403800.1565482565980&quot;; charset=utf-8[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Length: 326[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Host: localhost:33719[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_1_793403800.1565482565980[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_1_793403800.1565482565980[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:05.981 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &gt;&gt; &quot;------=_Part_1_793403800.1565482565980--[\r][\n]&quot;
19:16:05.982 [XNIO-67 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_1_793403800.1565482565980&quot;; charset=utf-8], Content-Length=[326], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:33719]}, cookies=[:]): ------=_Part_1_793403800.1565482565980
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_1_793403800.1565482565980
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_1_793403800.1565482565980--
 }
19:16:05.984 [XNIO-67 task-2] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[\r][\n]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.wire - http-outgoing-64 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; HTTP/1.1 200 OK
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Encoding: gzip
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Connection: keep-alive
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Type: text/plain
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Content-Length: 27
19:16:05.984 [Test worker] DEBUG org.apache.http.headers - http-outgoing-64 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:05.985 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:05.985 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:42608&lt;-&gt;127.0.0.1:33719
19:16:05.985 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:05.985 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@32b1fe9c
19:16:05.988 [Test worker] DEBUG ersatz.undertow - starting undertow server ersatz.undertow.Undertow@17e81670
19:16:05.990 [XNIO-68 I/O-1] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-1', selector sun.nio.ch.EPollSelectorImpl@630a3ca
19:16:05.990 [XNIO-68 I/O-5] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-5', selector sun.nio.ch.EPollSelectorImpl@242ced60
19:16:05.990 [XNIO-68 I/O-4] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-4', selector sun.nio.ch.EPollSelectorImpl@619fcf25
19:16:05.991 [XNIO-68 I/O-6] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-6', selector sun.nio.ch.EPollSelectorImpl@45e8fdbe
19:16:05.990 [XNIO-68 I/O-3] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-3', selector sun.nio.ch.EPollSelectorImpl@1d4f45a8
19:16:05.990 [XNIO-68 I/O-2] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-2', selector sun.nio.ch.EPollSelectorImpl@4720fd5f
19:16:05.994 [XNIO-68 I/O-7] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-7', selector sun.nio.ch.EPollSelectorImpl@3da57581
19:16:05.995 [XNIO-68 I/O-8] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 I/O-8', selector sun.nio.ch.EPollSelectorImpl@13db07b9
19:16:05.997 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTP for interface localhost and port 0
19:16:05.997 [XNIO-68 Accept] DEBUG ersatz.xnio.nio - Started channel thread 'XNIO-68 Accept', selector sun.nio.ch.EPollSelectorImpl@45640d21
19:16:05.998 [Test worker] DEBUG ersatz.undertow - Configuring listener with protocol HTTPS for interface localhost and port 0
19:16:06.001 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:06.001 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:06.001 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40379
19:16:06.002 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Opening connection {s}-&gt;https://localhost:40379
19:16:06.002 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connecting to localhost/127.0.0.1:40379
19:16:06.002 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Connecting socket to localhost/127.0.0.1:40379 with timeout 0
19:16:06.002 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled protocols: [TLSv1, TLSv1.1, TLSv1.2]
19:16:06.002 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]
19:16:06.002 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Starting handshake
19:16:06.056 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory - Secure session established
19:16:06.056 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated protocol: TLSv1.2
19:16:06.056 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384
19:16:06.056 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  peer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:06.056 [Test worker] DEBUG org.apache.http.conn.ssl.SSLConnectionSocketFactory -  issuer principal: CN=Ersatz, OU=Ersatz, O=Ersatz, L=Nowhere, ST=Nowhere, C=US
19:16:06.056 [Test worker] DEBUG org.apache.http.impl.conn.DefaultHttpClientConnectionOperator - Connection established 127.0.0.1:49024&lt;-&gt;127.0.0.1:40379
19:16:06.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:06.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:06.056 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; POST /upload HTTP/1.1
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_2_1478885112.1565482566000&quot;; charset=utf-8
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Length: 329
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:40379
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:06.056 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_2_1478885112.1565482566000&quot;; charset=utf-8[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Length: 329[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:40379[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_2_1478885112.1565482566000[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_2_1478885112.1565482566000[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:06.056 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_2_1478885112.1565482566000--[\r][\n]&quot;
19:16:06.062 [XNIO-68 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_2_1478885112.1565482566000&quot;; charset=utf-8], Content-Length=[329], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40379]}, cookies=[:]): ------=_Part_2_1478885112.1565482566000
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_2_1478885112.1565482566000
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_2_1478885112.1565482566000--
 }
19:16:06.066 [XNIO-68 task-3] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
19:16:06.067 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:06.067 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:06.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49024&lt;-&gt;127.0.0.1:40379
19:16:06.068 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:06.069 [Test worker] DEBUG org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: default
19:16:06.069 [Test worker] DEBUG org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context
19:16:06.069 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Get connection for route {s}-&gt;https://localhost:40379
19:16:06.069 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Executing request POST /upload HTTP/1.1
19:16:06.069 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED
19:16:06.069 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; POST /upload HTTP/1.1
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Type: multipart/mixed; 
	boundary=&quot;----=_Part_3_1643870490.1565482566068&quot;; charset=utf-8
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Content-Length: 329
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Host: localhost:40379
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Connection: Keep-Alive
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)
19:16:06.069 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &gt;&gt; Accept-Encoding: gzip,deflate
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;POST /upload HTTP/1.1[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: multipart/mixed; [\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[0x9]boundary=&quot;----=_Part_3_1643870490.1565482566068&quot;; charset=utf-8[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Length: 329[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Host: localhost:40379[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Connection: Keep-Alive[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.2 (Java/1.8.0_222)[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Accept-Encoding: gzip,deflate[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_3_1643870490.1565482566068[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;alpha&quot;[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;some data[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_3_1643870490.1565482566068[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;This is bravo content[\r][\n]&quot;
19:16:06.069 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &gt;&gt; &quot;------=_Part_3_1643870490.1565482566068--[\r][\n]&quot;
19:16:06.072 [XNIO-68 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Request: { POST /upload (query=[:], headers={Connection=[Keep-Alive], Accept-Encoding=[gzip,deflate], Content-Type=[multipart/mixed; boundary=&quot;----=_Part_3_1643870490.1565482566068&quot;; charset=utf-8], Content-Length=[329], User-Agent=[Apache-HttpClient/4.5.2 (Java/1.8.0_222)], Host=[localhost:40379]}, cookies=[:]): ------=_Part_3_1643870490.1565482566068
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;alpha&quot;

some data
------=_Part_3_1643870490.1565482566068
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;bravo&quot;; filename=&quot;bravo.txt&quot;

This is bravo content
------=_Part_3_1643870490.1565482566068--
 }
19:16:06.076 [XNIO-68 task-4] DEBUG com.stehno.ersatz.ErsatzServer - Response({Content-Type=[text/plain]}): ok-text
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;HTTP/1.1 200 OK[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Encoding: gzip[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Connection: keep-alive[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Type: text/plain[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Content-Length: 27[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;Date: Sun, 11 Aug 2019 00:15:58 GMT[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[\r][\n]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.wire - http-outgoing-65 &lt;&lt; &quot;[0x1f][0x8b][0x8][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0xcb][0xcf][0xd6]-I[0xad]([0x1][0x0][0x85][0x8f]?[0xa1][0x7][0x0][0x0][0x0]&quot;
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; HTTP/1.1 200 OK
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Encoding: gzip
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Connection: keep-alive
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Type: text/plain
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Content-Length: 27
19:16:06.077 [Test worker] DEBUG org.apache.http.headers - http-outgoing-65 &lt;&lt; Date: Sun, 11 Aug 2019 00:15:58 GMT
19:16:06.077 [Test worker] DEBUG org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive indefinitely
19:16:06.077 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Releasing connection 127.0.0.1:49024&lt;-&gt;127.0.0.1:40379
19:16:06.077 [Test worker] DEBUG org.apache.http.impl.conn.BasicHttpClientConnectionManager - Connection can be kept alive indefinitely
19:16:06.078 [Test worker] DEBUG ersatz.undertow - stopping undertow server ersatz.undertow.Undertow@17e81670
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 4.3.1</a> at Aug 10, 2019 7:16:08 PM</p>
</div>
</div>
</body>
</html>
